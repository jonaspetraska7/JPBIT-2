(self.webpackChunkeshop=self.webpackChunkeshop||[]).push([[179],{8255:Xe=>{function Se(V){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+V+"'");throw l.code="MODULE_NOT_FOUND",l})}Se.keys=()=>[],Se.resolve=Se,Se.id=8255,Xe.exports=Se},3018:(Xe,Se,V)=>{"use strict";V.d(Se,{deG:()=>Tl,tb:()=>ZT,AFp:()=>BT,ip1:()=>vC,CZH:()=>Af,hGG:()=>pD,z2F:()=>el,sBO:()=>Ib,Sil:()=>Sf,_Vd:()=>tc,EJc:()=>bC,SBq:()=>su,qLn:()=>we,vpe:()=>au,gxx:()=>Xa,tBr:()=>Ys,XFs:()=>Oe,OlP:()=>jn,zs3:()=>Jn,ZZ4:()=>Ky,aQg:()=>Yy,soG:()=>Yg,YKP:()=>Qy,v3s:()=>N1,h0i:()=>No,PXZ:()=>ao,R0b:()=>oo,FiY:()=>oi,Lbi:()=>Pi,g9A:()=>Yd,Qsj:()=>bI,FYo:()=>ff,JOm:()=>qa,Tiy:()=>pg,q3G:()=>Ke,tp0:()=>Ba,EAV:()=>S_,Rgc:()=>_g,dDg:()=>C1,DyG:()=>es,q4F:()=>gg,GfV:()=>Wy,s_b:()=>bg,ifc:()=>mn,eFA:()=>TC,G48:()=>T1,Gpc:()=>pe,X6Q:()=>E_,_c5:()=>G1,VLi:()=>kM,c2e:()=>HT,zSh:()=>Op,wAp:()=>lt,vHH:()=>he,EiD:()=>Em,mCW:()=>Lu,qzn:()=>Za,JVY:()=>bm,pB0:()=>uv,eBb:()=>Ol,L6k:()=>av,LAX:()=>np,cg1:()=>W0,Tjo:()=>Z1,kL8:()=>ru,yhl:()=>bh,dqk:()=>Z,sIi:()=>Bl,CqO:()=>Wp,QGY:()=>zp,F4k:()=>Iy,RDi:()=>jr,AaK:()=>Y,z3N:()=>Js,qOj:()=>dy,TTD:()=>_n,_Bn:()=>Hy,xp6:()=>Rm,uIk:()=>ld,ekj:()=>eg,Suo:()=>jg,Xpm:()=>ho,lG2:()=>gc,Yz7:()=>un,cJS:()=>Xr,oAB:()=>Uo,Yjl:()=>_a,Y36:()=>qp,_UZ:()=>M0,BQk:()=>Gl,ynx:()=>wy,qZA:()=>x0,TgZ:()=>ql,EpF:()=>Gp,n5z:()=>xc,Ikx:()=>Yl,LFG:()=>xn,$8M:()=>El,NdJ:()=>zl,CRH:()=>cC,oxw:()=>ef,ALo:()=>aC,xi3:()=>da,Dn7:()=>ac,Q6J:()=>S0,s9C:()=>Ty,DdM:()=>sT,VKq:()=>lr,WLB:()=>JS,kEZ:()=>QS,iGM:()=>vT,MAs:()=>Pt,evT:()=>Mh,Jf7:()=>mp,CHM:()=>vc,oJD:()=>Hr,Ckj:()=>Vu,LSH:()=>Ti,B6R:()=>ya,kYT:()=>cs,Udp:()=>yd,YNc:()=>C0,W1O:()=>Df,_uU:()=>rg,Oqu:()=>xy,hij:()=>ig,AsE:()=>My,Gf:()=>h_});var l=V(9765),te=V(5319),F=V(7574),ce=V(6682),se=V(2441);var fe=V(1307);function K(){return new l.xQ}function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function ee(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ie(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=L({__forward_ref__:L});function pe(i){return i.__forward_ref__=pe,i.toString=function(){return Y(this())},i}function q(i){return ve(i)?i():i}function ve(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===pe}class he extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function je(i){return"string"==typeof i?i:null==i?"":String(i)}function wt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():je(i)}function ue(i,s){const o=s?` in ${s}`:"";throw new he("201",`No provider for ${wt(i)} found${o}`)}function wn(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xr(i){return{providers:i.providers||[],imports:i.imports||[]}}function xr(i){return ei(i,Mn)||ei(i,ks)}function ei(i,s){return i.hasOwnProperty(s)?i[s]:null}function ti(i){return i&&(i.hasOwnProperty(yr)||i.hasOwnProperty(ht))?i[yr]:null}const Mn=L({\u0275prov:L}),yr=L({\u0275inj:L}),ks=L({ngInjectableDef:L}),ht=L({ngInjectorDef:L});var Oe=(()=>((Oe=Oe||{})[Oe.Default=0]="Default",Oe[Oe.Host=1]="Host",Oe[Oe.Self=2]="Self",Oe[Oe.SkipSelf=4]="SkipSelf",Oe[Oe.Optional=8]="Optional",Oe))();let zt;function ln(i){const s=zt;return zt=i,s}function Vt(i,s,o){const u=xr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Oe.Optional?null:void 0!==s?s:void ue(Y(i),"Injector")}function ze(i){return{toString:i}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),mn=(()=>((mn=mn||{})[mn.Emulated=0]="Emulated",mn[mn.None=2]="None",mn[mn.ShadowDom=3]="ShadowDom",mn))();const tr="undefined"!=typeof globalThis&&globalThis,ls="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z=tr||"undefined"!=typeof global&&global||ls||$,Ye={},qe=[],Nt=L({\u0275cmp:L}),rn=L({\u0275dir:L}),Qt=L({\u0275pipe:L}),_r=L({\u0275mod:L}),At=L({\u0275loc:L}),fn=L({\u0275fac:L}),dr=L({__NG_ELEMENT_ID__:L});let ma=0;function ho(i){return ze(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||qe,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||mn.Emulated,id:"c",styles:i.styles||qe,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,h=i.features,m=i.pipes;return u.id+=ma++,u.inputs=vi(i.inputs,o),u.outputs=vi(i.outputs),h&&h.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(fo):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(po):null,u})}function ya(i,s,o){const u=i.\u0275cmp;u.directiveDefs=()=>s.map(fo),u.pipeDefs=()=>o.map(po)}function fo(i){return yn(i)||function(i){return i[rn]||null}(i)}function po(i){return function(i){return i[Qt]||null}(i)}const Mr={};function Uo(i){return ze(()=>{const s={type:i.type,bootstrap:i.bootstrap||qe,declarations:i.declarations||qe,imports:i.imports||qe,exports:i.exports||qe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Mr[i.id]=i.type),s})}function cs(i,s){return ze(()=>{const o=nr(i,!0);o.declarations=s.declarations||qe,o.imports=s.imports||qe,o.exports=s.exports||qe})}function vi(i,s){if(null==i)return Ye;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,s&&(s[c]=h)}return o}const gc=ho;function _a(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function yn(i){return i[Nt]||null}function nr(i,s){const o=i[_r]||null;if(!o&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return o}function hr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Rt(i){return Array.isArray(i)&&!0===i[1]}function $o(i){return 0!=(8&i.flags)}function va(i){return 2==(2&i.flags)}function Ln(i){return 1==(1&i.flags)}function bi(i){return null!==i.template}function gu(i){return 0!=(512&i[2])}function Mt(i,s){return i.hasOwnProperty(fn)?i[fn]:null}class dt{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function _n(){return cn}function cn(i){return i.type.prototype.ngOnChanges&&(i.setInput=vn),sn}function sn(){const i=sr(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ye)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function vn(i,s,o,u){const c=sr(i)||function(i,s){return i[Vr]=s}(i,{previous:Ye,current:null}),h=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],b=m[y];h[y]=new dt(b&&b.currentValue,s,m===Ye),i[u]=s}_n.ngInherit=!0;const Vr="__ngSimpleChanges__";function sr(i){return i[Vr]||null}let Qi;function jr(i){Qi=i}function Fi(){return void 0!==Qi?Qi:"undefined"!=typeof document?document:void 0}function Dn(i){return!!i.listen}const Ca={createRenderer:(i,s)=>Fi()};function kt(i){for(;Array.isArray(i);)i=i[0];return i}function yu(i,s){return kt(s[i])}function Br(i,s){return kt(s[i.index])}function gs(i,s){return i.data[s]}function zo(i,s){return i[s]}function Cr(i,s){const o=s[i];return hr(o)?o:o[0]}function Wo(i){return 4==(4&i[2])}function wa(i){return 128==(128&i[2])}function _o(i,s){return null==s?null:i[s]}function Ea(i){i[18]=0}function dl(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const mt={lFrame:gl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _c(){return mt.bindingsEnabled}function Pe(){return mt.lFrame.lView}function Ft(){return mt.lFrame.tView}function vc(i){return mt.lFrame.contextLView=i,i[8]}function Vn(){let i=sh();for(;null!==i&&64===i.type;)i=i.parent;return i}function sh(){return mt.lFrame.currentTNode}function Li(i,s){const o=mt.lFrame;o.currentTNode=i,o.isParent=s}function vu(){return mt.lFrame.isParent}function vo(){mt.lFrame.isParent=!1}function Da(){return mt.isInCheckNoChangesMode}function ms(i){mt.isInCheckNoChangesMode=i}function ri(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ii(){return mt.lFrame.bindingIndex}function ys(){return mt.lFrame.bindingIndex++}function Vs(i){const s=mt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function bc(i,s){const o=mt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Aa(s)}function Aa(i){mt.lFrame.currentDirectiveIndex=i}function Yo(){return mt.lFrame.currentQueryIndex}function Cc(i){mt.lFrame.currentQueryIndex=i}function jf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function uh(i,s,o){if(o&Oe.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||o&Oe.Host||(c=jf(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;s=c,i=h}const u=mt.lFrame=lh();return u.currentTNode=s,u.lView=i,!0}function Jo(i){const s=lh(),o=i[1];mt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function lh(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?gl(i):s}function gl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ch(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const X_=ch;function Bf(){const i=ch();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wi(){return mt.lFrame.selectedIndex}function _s(i){mt.lFrame.selectedIndex=i}function An(){const i=mt.lFrame;return gs(i.tView,i.selectedIndex)}function Sa(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:D}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),b&&(i.viewHooks||(i.viewHooks=[])).push(-o,b),I&&((i.viewHooks||(i.viewHooks=[])).push(o,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,I)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function xa(i,s,o){Tc(i,s,3,o)}function Ic(i,s,o,u){(3&i[2])===o&&Tc(i,s,o,u)}function Qo(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Tc(i,s,o,u){const h=null!=u?u:-1,m=s.length-1;let y=0;for(let b=void 0!==u?65535&i[18]:0;b<m;b++)if("number"==typeof s[b+1]){if(y=s[b],null!=u&&y>=u)break}else s[b]<0&&(i[18]+=65536),(y<h||-1==h)&&(Dc(i,o,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Dc(i,s,o,u){const c=o[u]<0,h=o[u+1],y=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class wu{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Sn(i,s,o){const u=Dn(i);let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const m=o[c++],y=o[c++],b=o[c++];u?i.setAttribute(s,y,b,m):s.setAttributeNS(m,y,b)}else{const m=h,y=o[++c];yl(m)?u&&i.setProperty(s,m,y):u?i.setAttribute(s,m,y):s.setAttribute(m,y),c++}}return c}function Iu(i){return 3===i||4===i||6===i}function yl(i){return 64===i.charCodeAt(0)}function Tu(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||_l(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function _l(i,s,o,u,c){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const y=i[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<i.length;){const y=i[h];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(i[h+1]=c));if(u===i[h+1])return void(i[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==c&&i.splice(h++,0,c)}function vl(i){return-1!==i}function Ma(i){return 32767&i}function ka(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Pa=!0;function Oa(i){const s=Pa;return Pa=i,s}let Un=0;function ft(i,s){const o=Fa(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Ra(u.data,i),Ra(s,null),Ra(u.blueprint,null));const c=js(i,s),h=i.injectorIndex;if(vl(c)){const m=Ma(c),y=ka(c,s),b=y[1].data;for(let I=0;I<8;I++)s[h+I]=y[m+I]|b[m+I]}return s[h+8]=c,h}function Ra(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Fa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function js(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const h=c[1],m=h.type;if(u=2===m?h.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Bs(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(dr)&&(u=o[dr]),null==u&&(u=o[dr]=Un++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function Hs(i,s,o){if(o&Oe.Optional)return i;ue(s,"NodeInjector")}function La(i,s,o,u){if(o&Oe.Optional&&void 0===u&&(u=null),0==(o&(Oe.Self|Oe.Host))){const c=i[9],h=ln(void 0);try{return c?c.get(s,u,o&Oe.Optional):Vt(s,u,o&Oe.Optional)}finally{ln(h)}}return Hs(u,s,o)}function wl(i,s,o,u=Oe.Default,c){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(dr)?i[dr]:void 0;return"number"==typeof s?s>=0?255&s:Ac:s}(o);if("function"==typeof h){if(!uh(s,i,u))return u&Oe.Host?Hs(c,o,u):La(s,o,u,c);try{const m=h(u);if(null!=m||u&Oe.Optional)return m;ue(o)}finally{X_()}}else if("number"==typeof h){let m=null,y=Fa(i,s),b=-1,I=u&Oe.Host?s[16][6]:null;for((-1===y||u&Oe.SkipSelf)&&(b=-1===y?js(i,s):s[y+8],-1!==b&&Xi(u,!1)?(m=s[1],y=Ma(b),s=ka(b,s)):y=-1);-1!==y;){const D=s[1];if(Er(h,y,D.data)){const M=Sc(y,s,o,m,u,I);if(M!==fh)return M}b=s[y+8],-1!==b&&Xi(u,s[1].data[y+8]===I)&&Er(h,y,s)?(m=D,y=Ma(b),s=ka(b,s)):y=-1}}}return La(s,o,u,c)}const fh={};function Ac(){return new $s(Vn(),Pe())}function Sc(i,s,o,u,c,h){const m=s[1],y=m.data[i+8],D=Ei(y,m,o,null==u?va(y)&&Pa:u!=m&&0!=(3&y.type),c&Oe.Host&&h===y);return null!==D?Ii(s,m,D,y):fh}function Ei(i,s,o,u,c){const h=i.providerIndexes,m=s.data,y=1048575&h,b=i.directiveStart,D=h>>20,N=c?y+D:i.directiveEnd;for(let B=u?y:y+D;B<N;B++){const W=m[B];if(B<b&&o===W||B>=b&&W.type===o)return B}if(c){const B=m[b];if(B&&bi(B)&&B.type===o)return b}return null}function Ii(i,s,o,u){let c=i[o];const h=s.data;if(function(i){return i instanceof wu}(c)){const m=c;m.resolving&&function(i,s){throw new he("200",`Circular dependency in DI detected for ${i}`)}(wt(h[o]));const y=Oa(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?ln(m.injectImpl):null;uh(i,u,Oe.Default);try{c=i[o]=m.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(u){const m=cn(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==b&&ln(b),Oa(y),m.resolving=!1,X_()}}return c}function Er(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Xi(i,s){return!(i&Oe.Self||i&Oe.Host&&s)}class $s{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return wl(this._tNode,this._lView,s,void 0,o)}}function xc(i){return ze(()=>{const s=i.prototype.constructor,o=s[fn]||Mc(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const h=c[fn]||Mc(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Mc(i){return ve(i)?()=>{const s=Mc(q(i));return s&&s()}:Mt(i)}function El(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Iu(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===s)return o[c+1];c+=2}}}return null}(Vn(),i)}const Gs="__parameters__";function Xo(i,s,o){return ze(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return y.annotation=m,y;function y(b,I,D){const M=b.hasOwnProperty(Gs)?b[Gs]:Object.defineProperty(b,Gs,{value:[]})[Gs];for(;M.length<=D;)M.push(null);return(M[D]=M[D]||[]).push(m),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class jn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tl=new jn("AnalyzeForEntryComponents"),es=Function;function Ir(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),Ir(u,s)):s!==i&&s.push(u)}return s}function Tr(i,s){i.forEach(o=>Array.isArray(o)?Tr(o,s):s(o))}function Vi(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ui(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function E(i,s,o){let u=x(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function T(i,s){const o=x(i,s);if(o>=0)return i[1|o]}function x(i,s){return function(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const h=u+(c-u>>1),m=i[h<<o];if(s===m)return h<<o;m>s?c=h:u=h+1}return~(c<<o)}(i,s,1)}const ts={},Ou="__NG_DI_FLAG__",ns="ngTempTokenPath",Cs=/\n/gm,Sl="__source",Nu=L({provide:String,useValue:L});let Fc;function Ks(i){const s=Fc;return Fc=i,s}function mh(i,s=Oe.Default){if(void 0===Fc)throw new Error("inject() must be called from an injection context");return null===Fc?Vt(i,void 0,s):Fc.get(i,s&Oe.Optional?null:void 0,s)}function xn(i,s=Oe.Default){return(zt||mh)(q(i),s)}function na(i){const s=[];for(let o=0;o<i.length;o++){const u=q(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,h=Oe.Default;for(let m=0;m<u.length;m++){const y=u[m],b=Lc(y);"number"==typeof b?-1===b?c=y.token:h|=b:c=y}s.push(xn(c,h))}else s.push(xn(u))}return s}function xl(i,s){return i[Ou]=s,i.prototype[Ou]=s,i}function Lc(i){return i[Ou]}function Kf(i,s,o,u){const c=i[ns];throw s[Sl]&&c.unshift(s[Sl]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Y(s);if(Array.isArray(s))c=s.map(Y).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(Cs,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[ns]=null,i}const Ys=xl(Xo("Inject",i=>({token:i})),-1),oi=xl(Xo("Optional"),8),Ba=xl(Xo("SkipSelf"),4);let Pl,Ru;function ia(i){var s;return(null===(s=function(){if(void 0===Pl&&(Pl=null,Z.trustedTypes))try{Pl=Z.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Pl}())||void 0===s?void 0:s.createHTML(i))||i}function Xf(i){var s;return(null===(s=function(){if(void 0===Ru&&(Ru=null,Z.trustedTypes))try{Ru=Z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ru}())||void 0===s?void 0:s.createHTML(i))||i}class Eo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ov extends Eo{getTypeName(){return"HTML"}}class ep extends Eo{getTypeName(){return"Style"}}class Fu extends Eo{getTypeName(){return"Script"}}class tp extends Eo{getTypeName(){return"URL"}}class vm extends Eo{getTypeName(){return"ResourceURL"}}function Js(i){return i instanceof Eo?i.changingThisBreaksApplicationSecurity:i}function Za(i,s){const o=bh(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function bh(i){return i instanceof Eo&&i.getTypeName()||null}function bm(i){return new ov(i)}function av(i){return new ep(i)}function Ol(i){return new Fu(i)}function np(i){return new tp(i)}function uv(i){return new vm(i)}class lv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(ia(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class iw{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=ia(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=ia(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const ip=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lu(i){return(i=String(i)).match(ip)||i.match(sp)?i:"unsafe:"+i}function Io(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Ha(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Ch=Io("area,br,col,hr,img,wbr"),Cm=Io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$a=Io("rp,rt"),ap=Ha(Ch,Ha(Cm,Io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ha($a,Io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ha($a,Cm)),Nl=Io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),up=Io("srcset"),qc=Ha(Nl,up,Io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lp=Io("script,style,template");class aw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ap.hasOwnProperty(o))return this.sanitizedSomething=!0,!lp.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),m=h.name,y=m.toLowerCase();if(!qc.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=h.value;Nl[y]&&(b=Lu(b)),up[y]&&(i=b,b=(i=String(i)).split(",").map(s=>Lu(s.trim())).join(", ")),this.buf.push(" ",m,'="',cp(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ap.hasOwnProperty(o)&&!Ch.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(cp(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const fv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wm=/([^\#-~ |!])/g;function cp(i){return i.replace(/&/g,"&amp;").replace(fv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(wm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gc;function Em(i,s){let o=null;try{Gc=Gc||function(i){const s=new iw(i);return function(){try{return!!(new window.DOMParser).parseFromString(ia(""),"text/html")}catch(i){return!1}}()?new lv(s):s}(i);let u=s?String(s):"";o=Gc.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=Gc.getInertBodyElement(u)}while(u!==h);return ia((new aw).sanitizeChildren(wh(o)||o))}finally{if(o){const u=wh(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function wh(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ke=(()=>((Ke=Ke||{})[Ke.NONE=0]="NONE",Ke[Ke.HTML=1]="HTML",Ke[Ke.STYLE=2]="STYLE",Ke[Ke.SCRIPT=3]="SCRIPT",Ke[Ke.URL=4]="URL",Ke[Ke.RESOURCE_URL=5]="RESOURCE_URL",Ke))();function Hr(i){const s=Wc();return s?Xf(s.sanitize(Ke.HTML,i)||""):Za(i,"HTML")?Xf(Js(i)):Em(Fi(),je(i))}function Vu(i){const s=Wc();return s?s.sanitize(Ke.STYLE,i)||"":Za(i,"Style")?Js(i):je(i)}function Ti(i){const s=Wc();return s?s.sanitize(Ke.URL,i)||"":Za(i,"URL")?Js(i):Lu(je(i))}function Wc(){const i=Pe();return i&&i[12]}const sa="__ngContext__";function Di(i,s){i[sa]=s}function ai(i){const s=function(i){return i[sa]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function A(i){return i.ngOriginalError}function J(i,...s){i.error(...s)}class we{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),c=(i=s)&&i.ngErrorLogger||J;var i;c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(A(s)):null}_findOriginalError(s){let o=s&&A(s);for(;o&&A(o);)o=A(o);return o||null}}const Sm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Z))();function mp(i){return i.ownerDocument.defaultView}function Mh(i){return i.ownerDocument}function ws(i){return i instanceof Function?i():i}var qa=(()=>((qa=qa||{})[qa.Important=1]="Important",qa[qa.DashCase=2]="DashCase",qa))();function _v(i,s){return undefined(i,s)}function Xc(i){const s=i[3];return Rt(s)?s[3]:s}function bv(i){return hw(i[13])}function Cv(i){return hw(i[4])}function hw(i){for(;null!==i&&!Rt(i);)i=i[4];return i}function kh(i,s,o,u,c){if(null!=u){let h,m=!1;Rt(u)?h=u:hr(u)&&(m=!0,u=u[0]);const y=kt(u);0===i&&null!==o?null==c?pw(s,o,y):Uu(s,o,y,c||null,!0):1===i&&null!==o?Uu(s,o,y,c||null,!0):2===i?function(i,s,o){const u=xm(i,s);u&&function(i,s,o,u){Dn(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,y,m):3===i&&s.destroyNode(y),null!=h&&function(i,s,o,u,c){const h=o[7];h!==kt(o)&&kh(s,i,u,h,c);for(let y=10;y<o.length;y++){const b=o[y];Xs(b[1],b,i,s,u,h)}}(s,i,h,o,c)}}function Ev(i,s,o){return Dn(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Do(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,dl(c,-1)),o.splice(u,1)}function Iv(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&Do(c,u),s>0&&(i[o-1][4]=u[4]);const h=Ui(i,10+s);!function(i,s){Xs(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function qr(i,s){if(!(256&s[2])){const o=s[11];Dn(o)&&o.destroyNode&&Xs(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ph(i[1],i);for(;s;){let o=null;if(hr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)hr(s)&&Ph(s[1],s),s=s[3];null===s&&(s=i),hr(s)&&Ph(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ph(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof wu)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=c[h[m]],b=h[m+1];try{b.call(y)}finally{}}else try{h.call(c)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(s):kt(s[m]),b=u[c=o[h+2]],I=o[h+3];"boolean"==typeof I?y.removeEventListener(o[h],b,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&Dn(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Rt(s[3])){o!==s[3]&&Do(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function Dv(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===mn.None||c===mn.Emulated)return null}return Br(u,o)}(i,s.parent,o)}function Uu(i,s,o,u,c){Dn(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function pw(i,s,o){Dn(i)?i.appendChild(s,o):s.appendChild(o)}function gw(i,s,o,u,c){null!==u?Uu(i,s,o,u,c):pw(i,s,o)}function xm(i,s){return Dn(i)?i.parentNode(s):s.parentNode}let _w=function(i,s,o){return 40&i.type?Br(i,o):null};function Ie(i,s,o,u){const c=Dv(i,u,s),h=s[11],y=function(i,s,o){return _w(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)gw(h,c,o[b],y,!1);else gw(h,c,o,y,!1)}function Ga(i,s){if(null!==s){const o=s.type;if(3&o)return Br(s,i);if(4&o)return za(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Ga(i,u);{const c=i[s.index];return Rt(c)?za(-1,c):kt(c)}}if(32&o)return _v(s,i)()||kt(i[s.index]);{const u=vp(i,s);return null!==u?Array.isArray(u)?u[0]:Ga(Xc(i[16]),u):Ga(i,s.next)}}return null}function vp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function za(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return Ga(u,c)}return s[7]}function Av(i,s,o,u,c,h,m){for(;null!=o;){const y=u[o.index],b=o.type;if(m&&0===s&&(y&&Di(kt(y),u),o.flags|=4),64!=(64&o.flags))if(8&b)Av(i,s,o.child,u,c,h,!1),kh(s,i,c,y,h);else if(32&b){const I=_v(o,u);let D;for(;D=I();)kh(s,i,c,D,h);kh(s,i,c,y,h)}else 16&b?Mm(i,s,u,o,c,h):kh(s,i,c,y,h);o=m?o.projectionNext:o.next}}function Xs(i,s,o,u,c,h){Av(o,u,i.firstChild,s,c,h,!1)}function Mm(i,s,o,u,c,h){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)kh(s,i,c,b[I],h);else Av(i,s,b,m[3],c,h,!0)}function Pm(i,s,o){Dn(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function ed(i,s,o){Dn(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Cw(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===u||i.charCodeAt(c+h)<=32)return c}o=c+1}}const Ew="ng-template";function sA(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==Cw(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Iw(i){return 4===i.type&&i.value!==Ew}function Ai(i,s,o){return s===(4!==i.type||o?i.value:Ew)}function Om(i,s,o){let u=4;const c=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(Iu(i[s]))return s;return i.length}(c);let m=!1;for(let y=0;y<s.length;y++){const b=s[y];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!Ai(i,b,o)||""===b&&1===s.length){if(Pn(u))return!1;m=!0}}else{const I=8&u?b:s[++y];if(8&u&&null!==i.attrs){if(!sA(i.attrs,I,o)){if(Pn(u))return!1;m=!0}continue}const M=Fl(8&u?"class":b,c,Iw(i),o);if(-1===M){if(Pn(u))return!1;m=!0;continue}if(""!==I){let N;N=M>h?"":c[M+1].toLowerCase();const B=8&u?N:null;if(B&&-1!==Cw(B,I,0)||2&u&&I!==N){if(Pn(u))return!1;m=!0}}}}else{if(!m&&!Pn(u)&&!Pn(b))return!1;if(m&&Pn(b))continue;m=!1,u=b|1&u}}return Pn(u)||m}function Pn(i){return 0==(1&i)}function Fl(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let h=!1;for(;c<s.length;){const m=s[c];if(m===i)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++c];for(;"string"==typeof y;)y=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Tw(i,s,o=!1){for(let u=0;u<s.length;u++)if(Om(i,s[u],o))return!0;return!1}function Sv(i,s){return i?":not("+s.trim()+")":s}function xv(i){let s=i[0],o=1,u=2,c="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const y=i[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Pn(m)&&(s+=Sv(h,c),c=""),u=m,h=h||!Pn(u);o++}return""!==c&&(s+=Sv(h,c)),s}const ut={};function Rm(i){ji(Ft(),Pe(),wi()+i,Da())}function ji(i,s,o,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&xa(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Ic(s,h,0,o)}_s(o)}function bp(i,s){return i<<17|s<<2}function Ao(i){return i>>17&32767}function Lm(i){return 2|i}function Wa(i){return(131068&i)>>2}function Cp(i,s){return-131069&i|s<<2}function Mv(i){return 1|i}function Wm(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],h=o[u+1];if(-1!==h){const m=i.data[h];Cc(c),m.contentQueries(2,s[h],h)}}}function Nh(i,s,o,u,c,h,m,y,b,I){const D=s.blueprint.slice();return D[0]=c,D[2]=140|u,Ea(D),D[3]=D[15]=i,D[8]=o,D[10]=m||i&&i[10],D[11]=y||i&&i[11],D[12]=b||i&&i[12]||null,D[9]=I||i&&i[9]||null,D[6]=h,D[16]=2==s.type?i[16]:D,D}function Rh(i,s,o,u,c){let h=i.data[s];if(null===h)h=function(i,s,o,u,c){const h=sh(),m=vu(),b=i.data[s]=function(i,s,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(i,s,o,u,c),mt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=function(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Li(h,!0),h}function Ll(i,s,o,u){if(0===o)return-1;const c=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function td(i,s,o){Jo(s);try{const u=i.viewQuery;null!==u&&Bu(1,u,o);const c=i.template;null!==c&&jv(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Wm(i,s),i.staticViewQueries&&Bu(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)Sp(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Bf()}}function Fh(i,s,o,u){const c=s[2];if(256==(256&c))return;Jo(s);const h=Da();try{Ea(s),function(i){mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&jv(i,s,o,2,u);const m=3==(3&c);if(!h)if(m){const I=i.preOrderCheckHooks;null!==I&&xa(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Ic(s,I,0,null),Qo(s,0)}if(function(i){for(let s=bv(i);null!==s;s=Cv(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],h=c[3];0==(1024&c[2])&&dl(h,1),c[2]|=1024}}}(s),function(i){for(let s=bv(i);null!==s;s=Cv(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];wa(u)&&Fh(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&Wm(i,s),!h)if(m){const I=i.contentCheckHooks;null!==I&&xa(s,I)}else{const I=i.contentHooks;null!==I&&Ic(s,I,1),Qo(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)_s(~c);else{const h=c,m=o[++u],y=o[++u];bc(m,h),y(2,s[h])}}}finally{_s(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let o=0;o<s.length;o++)Gw(i,s[o])}(s,y);const b=i.viewQuery;if(null!==b&&Bu(2,b,u),!h)if(m){const I=i.viewCheckHooks;null!==I&&xa(s,I)}else{const I=i.viewHooks;null!==I&&Ic(s,I,2),Qo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,dl(s[3],-1))}finally{Bf()}}function Uv(i,s,o,u){const c=s[10],h=!Da(),m=Wo(s);try{h&&!m&&c.begin&&c.begin(),m&&td(i,s,u),Fh(i,s,o,u)}finally{h&&!m&&c.end&&c.end()}}function jv(i,s,o,u,c){const h=wi(),m=2&u;try{_s(-1),m&&s.length>20&&ji(i,s,20,Da()),o(u,c)}finally{_s(h)}}function Uw(i,s,o){if($o(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Lh(i,s,o){!_c()||(function(i,s,o,u){const c=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||ft(o,s),Di(u,s);const m=o.initialInputs;for(let y=c;y<h;y++){const b=i.data[y],I=bi(b);I&&ny(s,o,b);const D=Ii(s,i,y,o);Di(D,s),null!==m&&vA(0,y-c,D,b,0,m),I&&(Cr(o.index,s)[8]=D)}}(i,s,o,Br(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=mt.lFrame.currentDirectiveIndex;try{_s(m);for(let b=u;b<c;b++){const I=i.data[b],D=s[b];Aa(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Xm(I,D)}}finally{_s(-1),Aa(y)}}(i,s,o))}function Ip(i,s,o=Br){const u=s.localNames;if(null!==u){let c=s.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],y=-1===m?o(s,i):i[m];i[c++]=y}}}function Km(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Tp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Tp(i,s,o,u,c,h,m,y,b,I){const D=20+u,M=D+c,N=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:ut);return o}(D,M),B="function"==typeof I?I():I;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:y,declTNode:s,data:N.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function Zv(i,s,o,u){const c=Vl(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&Ja(i).push(u,c.length-1))}function jw(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function eo(i,s,o,u,c,h,m,y){const b=Br(s,o);let D,I=s.inputs;!y&&null!=I&&(D=I[u])?(Pp(i,o,D,u,c),va(s)&&function(i,s){const o=Cr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=m?m(c,s.value||"",u):c,Dn(h)?h.setProperty(b,u,c):yl(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function xi(i,s,o,u){let c=!1;if(_c()){const h=function(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];Tw(o,m.selectors,!1)&&(c||(c=[]),Bs(ft(o,s),i,m.type),bi(m)?(Gv(i,o),c.unshift(m)):c.push(m))}return c}(i,s,o),m=null===u?null:{"":-1};if(null!==h){c=!0,ey(o,i.data.length,h.length);for(let D=0;D<h.length;D++){const M=h[D];M.providersResolver&&M.providersResolver(M)}let y=!1,b=!1,I=Ll(i,s,h.length,null);for(let D=0;D<h.length;D++){const M=h[D];o.mergedAttrs=Tu(o.mergedAttrs,M.hostAttrs),ty(i,o,s,I,M),zv(I,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const N=M.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!b&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),b=!0),I++}!function(i,s){const u=s.directiveEnd,c=i.data,h=s.attrs,m=[];let y=null,b=null;for(let I=s.directiveStart;I<u;I++){const D=c[I],M=D.inputs,N=null===h||Iw(s)?null:Wv(M,h);m.push(N),y=jw(M,I,y),b=jw(D.outputs,I,b)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=b}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=o[s[c+1]];if(null==h)throw new he("301",`Export of name '${s[c+1]}' not found!`);u.push(s[c],h)}}}(o,u,m)}return o.mergedAttrs=Tu(o.mergedAttrs,o.attrs),c}function qv(i,s,o,u,c,h){const m=h.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=b&&y.push(b),y.push(u,c,m)}}function Xm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Gv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function zv(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;bi(s)&&(o[""]=i)}}function ey(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function ty(i,s,o,u,c){i.data[u]=c;const h=c.factory||(c.factory=Mt(c.type)),m=new wu(h,bi(c),null);i.blueprint[u]=m,o[u]=m,qv(i,s,0,u,Ll(i,o,c.hostVars,ut),c)}function ny(i,s,o){const u=Br(s,i),c=Km(o),h=i[10],m=rd(i,Nh(i,c,null,o.onPush?64:16,u,s,h,h.createRenderer(u,o),null,null));i[s.index]=m}function Es(i,s,o,u,c,h){const m=Br(i,s);!function(i,s,o,u,c,h,m){if(null==h)Dn(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const y=null==m?je(h):m(h,u||"",c);Dn(i)?i.setAttribute(s,c,y,o):o?s.setAttributeNS(o,c,y):s.setAttribute(c,y)}}(s[11],m,h,i.value,o,u,c)}function vA(i,s,o,u,c,h){const m=h[s];if(null!==m){const y=u.setInput;for(let b=0;b<m.length;){const I=m[b++],D=m[b++],M=m[b++];null!==y?u.setInput(o,M,I,D):o[D]=M}}}function Wv(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function iy(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function Gw(i,s){const o=Cr(s,i);if(wa(o)){const u=o[1];80&o[2]?Fh(u,o,u.template,o[8]):o[5]>0&&Yv(o)}}function Yv(i){for(let u=bv(i);null!==u;u=Cv(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const m=h[1];Fh(m,h,m.template,h[8])}else h[5]>0&&Yv(h)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Cr(o[u],i);wa(c)&&c[5]>0&&Yv(c)}}function Sp(i,s){const o=Cr(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),td(u,o,o[8])}function rd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function id(i){for(;i;){i[2]|=64;const s=Xc(i);if(gu(i)&&!s)return i;i=s}return null}function Jv(i,s,o){const u=s[10];u.begin&&u.begin();try{Fh(i,s,i.template,o)}catch(c){throw kp(s,c),c}finally{u.end&&u.end()}}function sy(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=ai(o),c=u[1];Uv(c,u,c.template,o)}}(i[8])}function Bu(i,s,o){Cc(0),s(i,o)}const CA=(()=>Promise.resolve(null))();function Vl(i){return i[7]||(i[7]=[])}function Ja(i){return i.cleanup||(i.cleanup=[])}function kp(i,s){const o=i[9],u=o?o.get(we,null):null;u&&u.handleError(s)}function Pp(i,s,o,u,c){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],b=s[m],I=i.data[m];null!==I.setInput?I.setInput(b,c,u,y):b[y]=c}}function Qa(i,s,o){const u=yu(s,i);!function(i,s,o){Dn(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function On(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?c=ie(c,y):2==h&&(u=ie(u,y+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const Xa=new jn("INJECTOR",-1);class Bh{get(s,o=ts){if(o===ts){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return o}}const Op=new jn("Set Injector scope."),Zh={},EA={};let Xv;function Ww(){return void 0===Xv&&(Xv=new Bh),Xv}function Hh(i,s=null,o=null,u){return new Ul(i,o,s||Ww(),u)}class Ul{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Tr(o,y=>this.processProvider(y,s,o)),Tr([s],y=>this.processInjectorType(y,[],h)),this.records.set(Xa,$h(void 0,this));const m=this.records.get(Op);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=ts,u=Oe.Default){this.assertNotDestroyed();const c=Ks(this),h=ln(void 0);try{if(!(u&Oe.SkipSelf)){let y=this.records.get(s);if(void 0===y){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof jn)&&xr(s);y=b&&this.injectableDefInScope(b)?$h(ay(s),Zh):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(u&Oe.Self?Ww():this.parent).get(s,o=u&Oe.Optional&&o===ts?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[ns]=m[ns]||[]).unshift(Y(s)),c)throw m;return Kf(m,s,"R3InjectorError",this.source)}throw m}finally{ln(h),Ks(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(Y(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=q(s)))return!1;let c=ti(s);const h=null==c&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==u.indexOf(m);if(void 0!==h&&(c=ti(h)),null==c)return!1;if(null!=c.imports&&!y){let D;u.push(m);try{Tr(c.imports,M=>{this.processInjectorType(M,o,u)&&(void 0===D&&(D=[]),D.push(M))})}finally{}if(void 0!==D)for(let M=0;M<D.length;M++){const{ngModule:N,providers:B}=D[M];Tr(B,W=>this.processProvider(W,N,B||qe))}}this.injectorDefTypes.add(m);const b=Mt(m)||(()=>new m);this.records.set(m,$h(b,Zh));const I=c.providers;if(null!=I&&!y){const D=s;Tr(I,M=>this.processProvider(M,D,I))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,u){let c=ad(s=q(s))?s:q(s&&s.provide);const h=Jw(i=s)?$h(void 0,i.useValue):$h(od(i),Zh);var i;if(ad(s)||!0!==s.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=$h(void 0,Zh,!0),m.factory=()=>na(m.multi),this.records.set(c,m)),c=s,m.multi.push(s)}this.records.set(c,h)}hydrate(s,o){return o.value===Zh&&(o.value=EA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=q(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ay(i){const s=xr(i),o=null!==s?s.factory:Mt(i);if(null!==o)return o;if(i instanceof jn)throw new Error(`Token ${Y(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Y(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Mn]||i[ks]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function od(i,s,o){let u;if(ad(i)){const c=q(i);return Mt(c)||ay(c)}if(Jw(i))u=()=>q(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...na(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>xn(q(i.useExisting));else{const c=q(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Mt(c)||ay(c);u=()=>new c(...na(i.deps))}return u}function $h(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Jw(i){return null!==i&&"object"==typeof i&&Nu in i}function ad(i){return"function"==typeof i}const tE=function(i,s,o){return function(i,s=null,o=null,u){const c=Hh(i,s,o,u);return c._resolveInjectorDefTypes(),c}({name:o},s,i,o)};let Jn=(()=>{class i{static create(o,u){return Array.isArray(o)?tE(o,u,""):tE(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=ts,i.NULL=new Bh,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>xn(Xa)}),i.__NG_ELEMENT_ID__=-1,i})();function lE(i,s){Sa(ai(i)[1],Vn())}function dy(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(bi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(o){u.push(c);const m=i;m.inputs=rs(i.inputs),m.declaredInputs=rs(i.declaredInputs),m.outputs=rs(i.outputs);const y=c.hostBindings;y&&Wh(i,y);const b=c.viewQuery,I=c.contentQueries;if(b&&cE(i,b),I&&dE(i,I),ee(i.inputs,c.inputs),ee(i.declaredInputs,c.declaredInputs),ee(i.outputs,c.outputs),bi(c)&&c.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(i),y===dy&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Tu(c.hostAttrs,o=Tu(o,c.hostAttrs))}}(u)}function rs(i){return i===Ye?{}:i===qe?[]:i}function cE(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function dE(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,h)=>{s(u,c,h),o(u,c,h)}:s}function Wh(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let fy=null;function Kh(){if(!fy){const i=Z.Symbol;if(i&&i.iterator)fy=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(fy=u)}}}return fy}class aa{constructor(s){this.wrapped=s}static wrap(s){return new aa(s)}static unwrap(s){return aa.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof aa}}function Bl(i){return!!zr(i)&&(Array.isArray(i)||!(i instanceof Map)&&Kh()in i)}function zr(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function is(i,s,o){return i[s]=o}function ci(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ud(i,s,o,u){const c=ci(i,s,o);return ci(i,s+1,u)||c}function ld(i,s,o,u){const c=Pe();return ci(c,ys(),s)&&(Ft(),Es(An(),c,i,s,o,u)),ld}function it(i,s,o,u){return ci(i,ys(),o)?s+je(o)+u:ut}function C0(i,s,o,u,c,h,m,y){const b=Pe(),I=Ft(),D=i+20,M=I.firstCreatePass?function(i,s,o,u,c,h,m,y,b){const I=s.consts,D=Rh(s,i,4,m||null,_o(I,y));xi(s,o,D,_o(I,b)),Sa(s,D);const M=D.tViews=Tp(2,D,u,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,D),M.queries=s.queries.embeddedTView(D)),D}(D,I,b,s,o,u,c,h,m):I.data[D];Li(M,!1);const N=b[11].createComment("");Ie(I,b,N,M),Di(N,b),rd(b,b[D]=iy(N,b,N,M)),Ln(M)&&Lh(I,b,M),null!=m&&Ip(b,M,y)}function Pt(i){return zo(mt.lFrame.contextLView,20+i)}function qp(i,s=Oe.Default){const o=Pe();return null===o?xn(i,s):wl(Vn(),o,q(i),s)}function S0(i,s,o){const u=Pe();return ci(u,ys(),s)&&eo(Ft(),An(),u,i,s,u[11],o,!1),S0}function pd(i,s,o,u,c){const m=c?"class":"style";Pp(i,o,s.inputs[m],m,u)}function ql(i,s,o,u){const c=Pe(),h=Ft(),m=20+i,y=c[11],b=c[m]=Ev(y,s,mt.lFrame.currentNamespace),I=h.firstCreatePass?function(i,s,o,u,c,h,m){const y=s.consts,I=Rh(s,i,2,c,_o(y,h));return xi(s,o,I,_o(y,m)),null!==I.attrs&&On(I,I.attrs,!1),null!==I.mergedAttrs&&On(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,h,c,0,s,o,u):h.data[m];Li(I,!0);const D=I.mergedAttrs;null!==D&&Sn(y,b,D);const M=I.classes;null!==M&&ed(y,b,M);const N=I.styles;null!==N&&Pm(y,b,N),64!=(64&I.flags)&&Ie(h,c,b,I),0===mt.lFrame.elementDepthCount&&Di(b,c),mt.lFrame.elementDepthCount++,Ln(I)&&(Lh(h,c,I),Uw(h,I,c)),null!==u&&Ip(c,I)}function x0(){let i=Vn();vu()?vo():(i=i.parent,Li(i,!1));const s=i;mt.lFrame.elementDepthCount--;const o=Ft();o.firstCreatePass&&(Sa(o,i),$o(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&pd(o,s,Pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&pd(o,s,Pe(),s.stylesWithoutHost,!1)}function M0(i,s,o,u){ql(i,s,o,u),x0()}function wy(i,s,o){const u=Pe(),c=Ft(),h=i+20,m=c.firstCreatePass?function(i,s,o,u,c){const h=s.consts,m=_o(h,u),y=Rh(s,i,8,"ng-container",m);return null!==m&&On(y,m,!0),xi(s,o,y,_o(h,c)),null!==s.queries&&s.queries.elementStart(s,y),y}(h,c,u,s,o):c.data[h];Li(m,!0);const y=u[h]=u[11].createComment("");Ie(c,u,y,m),Di(y,u),Ln(m)&&(Lh(c,u,m),Uw(c,m,u)),null!=o&&Ip(u,m)}function Gl(){let i=Vn();const s=Ft();vu()?vo():(i=i.parent,Li(i,!1)),s.firstCreatePass&&(Sa(s,i),$o(i)&&s.queries.elementEnd(i))}function Gp(){return Pe()}function zp(i){return!!i&&"function"==typeof i.then}function Iy(i){return!!i&&"function"==typeof i.subscribe}const Wp=Iy;function zl(i,s,o,u){const c=Pe(),h=Ft(),m=Vn();return function(i,s,o,u,c,h,m,y){const b=Ln(u),D=i.firstCreatePass&&Ja(i),M=s[8],N=Vl(s);let B=!0;if(3&u.type||y){const ne=Br(u,s),Ve=y?y(ne):ne,Ae=N.length,ct=y?Ct=>y(kt(Ct[u.index])):u.index;if(Dn(o)){let Ct=null;if(!y&&b&&(Ct=function(i,s,o,u){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const y=s[7],b=c[h+2];return y.length>b?y[b]:null}"string"==typeof m&&(h+=2)}return null}(i,s,c,u.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=h,Ct.__ngLastListenerFn__=h,B=!1;else{h=Kp(u,s,M,h,!1);const Ht=o.listen(Ve,c,h);N.push(h,Ht),D&&D.push(c,ct,Ae,Ae+1)}}else h=Kp(u,s,M,h,!0),Ve.addEventListener(c,h,m),N.push(h),D&&D.push(c,ct,Ae,m)}else h=Kp(u,s,M,h,!1);const W=u.outputs;let de;if(B&&null!==W&&(de=W[c])){const ne=de.length;if(ne)for(let Ve=0;Ve<ne;Ve+=2){const Qr=s[de[Ve]][de[Ve+1]].subscribe(h),Lo=N.length;N.push(h,Qr),D&&D.push(c,u.index,Lo,-(Lo+1))}}}(h,c,c[11],m,i,s,!!o,u),zl}function k0(i,s,o,u){try{return!1!==o(u)}catch(c){return kp(i,c),!1}}function Kp(i,s,o,u,c){return function h(m){if(m===Function)return u;const y=2&i.flags?Cr(i.index,s):s;0==(32&s[2])&&id(y);let b=k0(s,0,u,m),I=h.__ngNextListenerFn__;for(;I;)b=k0(s,0,I,m)&&b,I=I.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function ef(i=1){return function(i){return(mt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function Ty(i,s,o){return Dy(i,"",s,"",o),Ty}function Dy(i,s,o,u,c){const h=Pe(),m=it(h,s,o,u);return m!==ut&&eo(Ft(),An(),h,i,m,h[11],c,!1),Dy}function N0(i,s,o,u,c){const h=i[o+1],m=null===s;let y=u?Ao(h):Wa(h),b=!1;for(;0!==y&&(!1===b||m);){const D=i[y+1];Jp(i[y],s)&&(b=!0,i[y+1]=u?Mv(D):Lm(D)),y=u?Ao(D):Wa(D)}b&&(i[o+1]=u?Lm(h):Mv(h))}function Jp(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&x(i,s)>=0}function yd(i,s,o){return xo(i,s,o,!1),yd}function eg(i,s){return xo(i,s,null,!0),eg}function xo(i,s,o,u){const c=Pe(),h=Ft(),m=Vs(2);h.firstUpdatePass&&function(i,s,o,u){const c=i.data;if(null===c[o+1]){const h=c[wi()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const c=function(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=_d(o=F0(null,i,s,o,u),s.attrs,u),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==c)if(o=F0(c,i,s,o,u),null===h){let b=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Wa(u))return i[Ao(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=F0(null,i,s,b[1],u),b=_d(b,s.attrs,u),function(i,s,o,u){i[Ao(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else h=function(i,s,o){let u;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)u=_d(u,i[h].hostAttrs,o);return _d(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(c,h,s,u),function(i,s,o,u,c,h){let m=h?s.classBindings:s.styleBindings,y=Ao(m),b=Wa(m);i[u]=o;let D,I=!1;if(Array.isArray(o)){const M=o;D=M[1],(null===D||x(M,D)>0)&&(I=!0)}else D=o;if(c)if(0!==b){const N=Ao(i[y+1]);i[u+1]=bp(N,y),0!==N&&(i[N+1]=Cp(i[N+1],u)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],u)}else i[u+1]=bp(y,0),0!==y&&(i[y+1]=Cp(i[y+1],u)),y=u;else i[u+1]=bp(b,0),0===y?y=u:i[b+1]=Cp(i[b+1],u),b=u;I&&(i[u+1]=Lm(i[u+1])),N0(i,D,u,!0),N0(i,D,u,!1),function(i,s,o,u,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&x(h,s)>=0&&(o[u+1]=Mv(o[u+1]))}(s,D,i,u,h),m=bp(y,b),h?s.classBindings=m:s.styleBindings=m}(c,h,s,o,m,u)}}(h,i,m,u),s!==ut&&ci(c,m,s)&&function(i,s,o,u,c,h,m,y){if(!(3&s.type))return;const b=i.data,I=b[y+1];vd(function(i){return 1==(1&i)}(I)?VE(b,s,o,c,Wa(I),m):void 0)||(vd(h)||function(i){return 2==(2&i)}(I)&&(h=VE(b,null,o,c,y,m)),function(i,s,o,u,c){const h=Dn(i);if(s)c?h?i.addClass(o,u):o.classList.add(u):h?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:qa.DashCase;if(null==c)h?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=qa.Important),h?i.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,yu(wi(),o),c,h))}(h,h.data[wi()],c,c[11],i,c[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(Js(i)))),i}(s,o),u,m)}function F0(i,s,o,u,c){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=s[y],u=_d(u,h.hostAttrs,c),h!==i);)y++;return null!==i&&(o.directiveStylingLast=y),u}function _d(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?c=m:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,m,!!o||s[++h]))}return void 0===i?null:i}function VE(i,s,o,u,c,h){const m=null===s;let y;for(;c>0;){const b=i[c],I=Array.isArray(b),D=I?b[1]:b,M=null===D;let N=o[c+1];N===ut&&(N=M?qe:void 0);let B=M?T(N,u):D===u?N:void 0;if(I&&!vd(B)&&(B=T(b,u)),vd(B)&&(y=B,m))return y;const W=i[c+1];c=m?Ao(W):Wa(W)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(y=T(b,u))}return y}function vd(i){return void 0!==i}function rg(i,s=""){const o=Pe(),u=Ft(),c=i+20,h=u.firstCreatePass?Rh(u,c,1,s,null):u.data[c],m=o[c]=function(i,s){return Dn(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Ie(u,o,m,h),Li(h,!1)}function xy(i){return ig("",i,""),xy}function ig(i,s,o){const u=Pe(),c=it(u,i,s,o);return c!==ut&&Qa(u,wi(),c),ig}function My(i,s,o,u,c){const h=Pe(),m=function(i,s,o,u,c,h){const y=ud(i,ii(),o,c);return Vs(2),y?s+je(o)+u+je(c)+h:ut}(h,i,s,o,u,c);return m!==ut&&Qa(h,wi(),m),My}function Yl(i,s,o){const u=Pe();return ci(u,ys(),s)&&eo(Ft(),An(),u,i,s,u[11],o,!0),Yl}const Cd=void 0;var iS=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let wd={};function W0(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=XE(s);if(o)return o;const u=s.split("-")[0];if(o=XE(u),o)return o;if("en"===u)return iS;throw new Error(`Missing locale data for the locale "${i}".`)}function ru(i){return W0(i)[lt.PluralCase]}function XE(i){return i in wd||(wd[i]=Z.ng&&Z.ng.common&&Z.ng.common.locales&&Z.ng.common.locales[i]),wd[i]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const Py="en-US";let Jl=Py;function la(i){wn(i,"Expected localeId to be defined"),"string"==typeof i&&(Jl=i.toLowerCase().replace(/_/g,"-"))}function dg(i,s,o,u,c){if(i=q(i),Array.isArray(i))for(let h=0;h<i.length;h++)dg(i[h],s,o,u,c);else{const h=Ft(),m=Pe();let y=ad(i)?i:q(i.provide),b=od(i);const I=Vn(),D=1048575&I.providerIndexes,M=I.directiveStart,N=I.providerIndexes>>20;if(ad(i)||!i.multi){const B=new wu(b,c,qp),W=gb(y,s,c?D:D+N,M);-1===W?(Bs(ft(I,m),h,y),fb(h,i,s.length),s.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[W]=B,m[W]=B)}else{const B=gb(y,s,D+N,M),W=gb(y,s,D,D+N),de=B>=0&&o[B],ne=W>=0&&o[W];if(c&&!ne||!c&&!de){Bs(ft(I,m),h,y);const Ve=function(i,s,o,u,c){const h=new wu(i,o,qp);return h.multi=[],h.index=s,h.componentProviders=0,pb(h,c,u&&!o),h}(c?mS:mI,o.length,c,u,b);!c&&ne&&(o[W].providerFactory=Ve),fb(h,i,s.length,0),s.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Ve),m.push(Ve)}else fb(h,i,B>-1?B:W,pb(o[c?W:B],b,!c&&u));!c&&u&&ne&&o[W].componentProviders++}}}function fb(i,s,o,u){const c=ad(s);if(c||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const b=y.indexOf(o);-1===b?y.push(o,[u,m]):y[b+1].push(u,m)}else y.push(o,m)}}}function pb(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function gb(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function mI(i,s,o,u){return ec(this.multi,[])}function mS(i,s,o,u){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Ii(o,o[1],this.providerFactory.index,u);h=y.slice(0,m),ec(c,h);for(let b=m;b<y.length;b++)h.push(y[b])}else h=[],ec(c,h);return h}function ec(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Hy(i,s=[]){return o=>{o.providersResolver=(u,c)=>function(i,s,o){const u=Ft();if(u.firstCreatePass){const c=bi(i);dg(o,u.data,u.blueprint,c,!0),dg(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class mb{}const yI="ngComponent";class yS{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s[yI]=i,s}(s)}}let tc=(()=>{class i{}return i.NULL=new yS,i})();function qy(...i){}function ur(i,s){return new su(Br(i,s))}const vS=function(){return ur(Vn(),Pe())};let su=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=vS,i})();function vI(i){return i instanceof su?i.nativeElement:i}class ff{}let bI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Gy(),i})();const Gy=function(){const i=Pe(),o=Cr(Vn().index,i);return function(i){return i[11]}(hr(o)?o:i)};let pg=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class Wy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const gg=new Wy("12.2.9");class vb{constructor(){}supports(s){return Bl(s)}create(s){return new wS(s)}}const bS=(i,s)=>s;class wS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||bS}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<mg(u,c,h)?o:u,y=mg(m,c,h),b=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const I=y-c,D=b-c;if(I!=D){for(let N=0;N<I;N++){const B=N<h.length?h[N]:h[N]=0,W=B+N;D<=W&&W<I&&(h[N]=B+1)}h[m.previousIndex]=D-I}}y!==b&&s(m,y,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Bl(s))throw new Error(`Error trying to diff '${Y(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),u=!0),o=o._next}else c=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Kh()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,c)):s=this._addAfter(new ES(o,u),h,c),s}_verifyReinsertion(s,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new bb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ES{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class bb{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new IS,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mg(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class pf{constructor(){}supports(s){return s instanceof Map||zr(s)}create(){return new Cb}}class Cb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||zr(s)))throw new Error(`Error trying to diff '${Y(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new EI(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class EI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function II(){return new Ky([new vb])}let Ky=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||II()),deps:[[i,new Ba,new oi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:II}),i})();function TI(){return new Yy([new pf])}let Yy=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||TI()),deps:[[i,new Ba,new oi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:TI}),i})();function nc(i,s,o,u,c=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(kt(h)),Rt(h))for(let y=10;y<h.length;y++){const b=h[y],I=b[1].firstChild;null!==I&&nc(b[1],b,I,u)}const m=o.type;if(8&m)nc(i,s,o.child,u);else if(32&m){const y=_v(o,s);let b;for(;b=y();)u.push(b)}else if(16&m){const y=vp(s,o);if(Array.isArray(y))u.push(...y);else{const b=Xc(s[16]);nc(b[1],b,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class Md{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return nc(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Rt(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Iv(s,u),Ui(o,u))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(s){Zv(this._lView[1],this._lView,null,s)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){ms(!0);try{Jv(i,s,o)}finally{ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Xs(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class gf extends Md{constructor(s){super(s),this._view=s}detectChanges(){sy(this._view)}checkNoChanges(){!function(i){ms(!0);try{sy(i)}finally{ms(!1)}}(this._view)}get context(){return null}}const yg=function(i){return function(i,s,o){if(va(i)&&!o){const u=Cr(i.index,s);return new Md(u,u)}return 47&i.type?new Md(s[16],s):null}(Vn(),Pe(),16==(16&i))};let Ib=(()=>{class i{}return i.__NG_ELEMENT_ID__=yg,i})();const Db=[new pf],AI=new Ky([new vb]),DS=new Yy(Db),Sb=function(){return vg(Vn(),Pe())};let _g=(()=>{class i{}return i.__NG_ELEMENT_ID__=Sb,i})();const xb=_g,Jy=class extends xb{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=Nh(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),td(o,u,s),new Md(u)}};function vg(i,s){return 4&i.type?new Jy(s,i,ur(i,s)):null}class No{}class Qy{}const SI=function(){return e_(Vn(),Pe())};let bg=(()=>{class i{}return i.__NG_ELEMENT_ID__=SI,i})();const kb=bg,xI=class extends kb{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return ur(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const s=js(this._hostTNode,this._hostLView);if(vl(s)){const o=ka(s,this._hostLView),u=Ma(s);return new $s(o[1].data[u+8],o)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Xy(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,h){const m=u||this.parentInjector;if(!h&&null==s.ngModule&&m){const b=m.get(No,null);b&&(h=b)}const y=s.create(m,c,void 0,h);return this.insert(y.hostView,o),y}insert(s,o){const u=s._lView,c=u[1];if(Rt(u[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const M=u[3],N=new xI(M,M[6],M[3]);N.detach(N.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=s),u<h-10?(s[4]=o[c],Vi(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(c,u,m,h);const y=za(h,m),b=u[11],I=xm(b,m[7]);return null!==I&&function(i,s,o,u,c,h){u[0]=c,u[6]=s,Xs(i,u,o,1,c,h)}(c,m[6],b,u,I,y),s.attachToViewContainerRef(),Vi(Pb(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Xy(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Iv(this._lContainer,o);u&&(Ui(Pb(this._lContainer),o),qr(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=Iv(this._lContainer,o);return u&&null!=Ui(Pb(this._lContainer),o)?new Md(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Xy(i){return i[8]}function Pb(i){return i[8]||(i[8]=[])}function e_(i,s){let o;const u=s[i.index];if(Rt(u))o=u;else{let c;if(8&i.type)c=kt(u);else{const h=s[11];c=h.createComment("");const m=Br(i,s);Uu(h,xm(h,m),c,function(i,s){return Dn(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=iy(u,s,c,i),rd(s,o)}return new xI(o,i,s)}const wf={};class iC extends tc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=yn(s);return new Ef(o,this.ngModule)}}function Pg(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const tT=new jn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sm});class Ef extends mb{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(xv).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Pg(this.componentDef.inputs)}get outputs(){return Pg(this.componentDef.outputs)}create(s,o,u,c){const h=(c=c||this.ngModule)?function(i,s){return{get:(o,u,c)=>{const h=i.get(o,wf,c);return h!==wf||u===wf?h:s.get(o,u,c)}}}(s,c.injector):s,m=h.get(ff,Ca),y=h.get(pg,null),b=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",D=u?function(i,s,o){if(Dn(i))return i.selectRootElement(s,o===mn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):Ev(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),M=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Sm,clean:CA,playerHandler:s||null,flags:0}}(),B=Tp(0,null,null,1,0,null,null,null,null,null),W=Nh(null,B,N,M,null,null,m,b,y,h);let de,ne;Jo(W);try{const Ve=function(i,s,o,u,c,h){const m=o[1];o[20]=i;const b=Rh(m,20,2,"#host",null),I=b.mergedAttrs=s.hostAttrs;null!==I&&(On(b,I,!0),null!==i&&(Sn(c,i,I),null!==b.classes&&ed(c,i,b.classes),null!==b.styles&&Pm(c,i,b.styles)));const D=u.createRenderer(i,s),M=Nh(o,Km(s),null,s.onPush?64:16,o[20],b,u,D,h||null,null);return m.firstCreatePass&&(Bs(ft(b,o),m,s.type),Gv(m,b),ey(b,o.length,1)),rd(o,M),o[20]=M}(D,this.componentDef,W,m,b);if(D)if(u)Sn(b,D,["ng-version",gg.full]);else{const{attrs:Ae,classes:ct}=function(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++u]):8===c&&o.push(h);else{if(!Pn(c))break;c=h}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ae&&Sn(b,D,Ae),ct&&ct.length>0&&ed(b,D,ct.join(" "))}if(ne=gs(B,20),void 0!==o){const Ae=ne.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Ct=o[ct];Ae.push(null!=Ct?Array.from(Ct):null)}}de=function(i,s,o,u,c){const h=o[1],m=function(i,s,o){const u=Vn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ty(i,u,s,Ll(i,s,1,null),o));const c=Ii(s,i,u.directiveStart,u);Di(c,s);const h=Br(u,s);return h&&Di(h,s),c}(h,o,s);if(u.components.push(m),i[8]=m,c&&c.forEach(b=>b(m,s)),s.contentQueries){const b=Vn();s.contentQueries(1,m,b.directiveStart)}const y=Vn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(_s(y.index),qv(o[1],y,0,y.directiveStart,y.directiveEnd,s),Xm(s,m)),m}(Ve,this.componentDef,W,N,[lE]),td(B,W,null)}finally{Bf()}return new qi(this.componentType,de,ur(ne,W),W,ne)}}class qi extends class{}{constructor(s,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new gf(c),this.componentType=s}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Ld=new Map;class sC extends No{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iC(this);const u=nr(s),c=s[At]||null;c&&la(c),this._bootstrapComponents=ws(u.bootstrap),this._r3Injector=Hh(s,o,[{provide:No,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Jn.THROW_IF_NOT_FOUND,u=Oe.Default){return s===Jn||s===No||s===Xa?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class oC extends Qy{constructor(s){super(),this.moduleType=s,null!==nr(s)&&function(i){const s=new Set;!function o(u){const c=nr(u,!0),h=c.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Y(s)} vs ${Y(s.name)}`)}(h,Ld.get(h),u),Ld.set(h,u));const m=ws(c.imports);for(const y of m)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new sC(this.moduleType,s)}}function sT(i,s,o){const u=ri()+i,c=Pe();return c[u]===ut?is(c,u,o?s.call(o):s()):function(i,s){return i[s]}(c,u)}function lr(i,s,o,u){return function(i,s,o,u,c,h){const m=s+o;return ci(i,m,c)?is(i,m+1,h?u.call(h,c):u(c)):Ng(i,m+1)}(Pe(),ri(),i,s,o,u)}function JS(i,s,o,u,c){return lT(Pe(),ri(),i,s,o,u,c)}function QS(i,s,o,u,c,h){return n1(Pe(),ri(),i,s,o,u,c,h)}function Ng(i,s){const o=i[s];return o===ut?void 0:o}function lT(i,s,o,u,c,h,m){const y=s+o;return ud(i,y,c,h)?is(i,y+2,m?u.call(m,c,h):u(c,h)):Ng(i,y+2)}function n1(i,s,o,u,c,h,m,y){const b=s+o;return function(i,s,o,u,c){const h=ud(i,s,o,u);return ci(i,s+2,c)||h}(i,b,c,h,m)?is(i,b+3,y?u.call(y,c,h,m):u(c,h,m)):Ng(i,b+3)}function aC(i,s){const o=Ft();let u;const c=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new he("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=Mt(u.type)),m=ln(qp);try{const y=Oa(!1),b=h();return Oa(y),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Pe(),c,b),b}finally{ln(m)}}function da(i,s,o,u){const c=i+20,h=Pe(),m=zo(h,c);return If(h,Rg(h,c)?lT(h,ri(),s,m.transform,o,u,m):m.transform(o,u))}function ac(i,s,o,u,c){const h=i+20,m=Pe(),y=zo(m,h);return If(m,Rg(m,h)?n1(m,ri(),s,y.transform,o,u,c,y):y.transform(o,u,c))}function Rg(i,s){return i[1].data[s].pure}function If(i,s){return aa.isWrapped(s)&&(s=aa.unwrap(s),i[ii()]=ut),s}function Tf(i){return s=>{setTimeout(i,void 0,s)}}const au=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,h,m;let y=s,b=o||(()=>null),I=u;if(s&&"object"==typeof s){const M=s;y=null===(c=M.next)||void 0===c?void 0:c.bind(M),b=null===(h=M.error)||void 0===h?void 0:h.bind(M),I=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(b=Tf(b),y&&(y=Tf(y)),I&&(I=Tf(I)));const D=super.subscribe({next:y,error:b,complete:I});return s instanceof te.w&&s.add(D),D}};function Vd(){return this._results[Kh()]()}class Ud{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Kh(),u=Ud.prototype;u[o]||(u[o]=Vd)}get changes(){return this._changes||(this._changes=new au)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=Ir(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],h=s[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class uC{constructor(s){this.queryList=s,this.matches=null}clone(){return new uC(this.queryList)}setDirty(){this.queryList.setDirty()}}class lC{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new lC(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==uu(s,o).matches&&this.queries[o].setDirty()}}class gT{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Lg{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Lg(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Vg{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Vg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(s,o,mT(o,h)),this.matchTNodeWithReadOption(s,o,Ei(o,s,h,!1,!1))}else u===_g?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ei(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===su||c===bg||c===_g&&4&o.type)this.addMatch(o.index,-2);else{const h=Ei(o,s,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function mT(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function yT(i,s,o,u){return-1===o?function(i,s){return 11&i.type?ur(i,s):4&i.type?vg(i,s):null}(s,i):-2===o?function(i,s,o){return o===su?ur(s,i):o===_g?vg(s,i):o===bg?e_(s,i):void 0}(i,s,u):Ii(i,i[1],o,s)}function d_(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const h=i.data,m=o.matches,y=[];for(let b=0;b<m.length;b+=2){const I=m[b];y.push(I<0?null:yT(s,h[I],m[b+1],o.metadata.read))}c.matches=y}return c.matches}function Ug(i,s,o,u){const c=i.queries.getByIndex(o),h=c.matches;if(null!==h){const m=d_(i,s,c,o);for(let y=0;y<h.length;y+=2){const b=h[y];if(b>0)u.push(m[y/2]);else{const I=h[y+1],D=s[-b];for(let M=10;M<D.length;M++){const N=D[M];N[17]===N[3]&&Ug(N[1],N,I,u)}if(null!==D[9]){const M=D[9];for(let N=0;N<M.length;N++){const B=M[N];Ug(B[1],B,I,u)}}}}}return u}function vT(i){const s=Pe(),o=Ft(),u=Yo();Cc(u+1);const c=uu(o,u);if(i.dirty&&Wo(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?Ug(o,s,u,[]):d_(o,s,c,u);i.reset(h,vI),i.notifyOnChanges()}return!0}return!1}function h_(i,s,o){const u=Ft();u.firstCreatePass&&(Zg(u,new gT(i,s,o),-1),2==(2&s)&&(u.staticViewQueries=!0)),bT(u,Pe(),s)}function jg(i,s,o,u){const c=Ft();if(c.firstCreatePass){const h=Vn();Zg(c,new gT(s,o,u),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}bT(c,Pe(),o)}function cC(){return i=Pe(),s=Yo(),i[19].queries[s].queryList;var i,s}function bT(i,s,o){const u=new Ud(4==(4&o));Zv(i,s,u,u.destroy),null===s[19]&&(s[19]=new lC),s[19].queries.push(new uC(u))}function Zg(i,s,o){null===i.queries&&(i.queries=new Lg),i.queries.track(new Vg(s,o))}function uu(i,s){return i.queries.getByIndex(s)}function Df(i,s){return vg(i,s)}const vC=new jn("Application Initializer");let Af=(()=>{class i{constructor(o){this.appInits=o,this.resolve=qy,this.reject=qy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(zp(h))o.push(h);else if(Wp(h)){const m=new Promise((y,b)=>{h.subscribe({complete:y,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(xn(vC,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const BT=new jn("AppId"),_1={provide:BT,useFactory:function(){return`${Kd()}${Kd()}${Kd()}`},deps:[]};function Kd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yd=new jn("Platform Initializer"),Pi=new jn("Platform ID"),ZT=new jn("appBootstrapListener");let HT=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const Yg=new jn("LocaleId"),bC=new jn("DefaultCurrencyCode");class v_{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const lu=function(i){return new oC(i)},b_=lu,qT=function(i){return Promise.resolve(lu(i))},GT=function(i){const s=lu(i),u=ws(nr(i).declarations).reduce((c,h)=>{const m=yn(h);return m&&c.push(new Ef(m)),c},[]);return new v_(s,u)},zT=GT,b1=function(i){return Promise.resolve(GT(i))};let Sf=(()=>{class i{constructor(){this.compileModuleSync=b_,this.compileModuleAsync=qT,this.compileModuleAndAllComponentsSync=zT,this.compileModuleAndAllComponentsAsync=b1}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const wC=(()=>Promise.resolve(0))();function C_(i){"undefined"==typeof Zone?wC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class oo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new au(!1),this.onMicrotaskEmpty=new au(!1),this.onStable=new au(!1),this.onError=new au(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=Z.requestAnimationFrame,s=Z.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Z,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,KT(i),i.isCheckStableRunning=!0,EC(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),KT(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,y)=>{try{return YT(i),o.invokeTask(c,h,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),JT(i)}},onInvoke:(o,u,c,h,m,y,b)=>{try{return YT(i),o.invoke(c,h,m,y,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),JT(i)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,KT(i),EC(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(oo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,s,AM,qy,qy);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const AM={};function EC(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function KT(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function YT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function JT(i){i._nesting--,EC(i)}class xM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new au,this.onMicrotaskEmpty=new au,this.onStable=new au,this.onError=new au}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let C1=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oo.assertNotInAngularZone(),C_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(xn(oo))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),w1=(()=>{class i{constructor(){this._applications=new Map,QT.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return QT.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();class MM{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function kM(i){QT=i}let QT=new MM,E1=!0,I1=!1;function E_(){return I1=!0,E1}function T1(){if(I1)throw new Error("Cannot enable prod mode after platform setup.");E1=!1}let fa;const eD=new jn("AllowMultipleToken");class ao{constructor(s,o){this.name=s,this.token=o}}function TC(i,s,o=[]){const u=`Platform: ${s}`,c=new jn(u);return(h=[])=>{let m=T_();if(!m||m.injector.get(eD,!1))if(i)i(o.concat(h).concat({provide:c,useValue:!0}));else{const y=o.concat(h).concat({provide:c,useValue:!0},{provide:Op,useValue:"platform"});!function(i){if(fa&&!fa.destroyed&&!fa.injector.get(eD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fa=i.get(nD);const s=i.get(Yd,null);s&&s.forEach(o=>o())}(Jn.create({providers:y,name:u}))}return function(i){const s=T_();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function T_(){return fa&&!fa.destroyed?fa:null}let nD=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(i,s){let o;return o="noop"===i?new xM:("zone.js"===i?void 0:i)||new oo({enableLongStackTrace:E_(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:oo,useValue:y}];return y.run(()=>{const I=Jn.create({providers:b,parent:this.injector,name:o.moduleType.name}),D=o.create(I),M=D.injector.get(we,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:B=>{M.handleError(B)}});D.onDestroy(()=>{D_(this._modules,D),N.unsubscribe()})}),function(i,s,o){try{const u=o();return zp(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(M,y,()=>{const N=D.injector.get(Af);return N.runInitializers(),N.donePromise.then(()=>(la(D.injector.get(Yg,Py)||Py),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const c=rD({},u);return function(i,s,o){const u=new oC(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(el);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(xn(Jn))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function rD(i,s){return Array.isArray(s)?s.reduce(rD,i):Object.assign(Object.assign({},i),s)}let el=(()=>{class i{constructor(o,u,c,h,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new F.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{oo.assertNotInAngularZone(),C_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{oo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(y,b.pipe(i=>(0,fe.x)()(function(i,s){return function(u){let c;c="function"==typeof i?i:function(){return i};const h=Object.create(u,se.N);return h.source=u,h.subjectFactory=c,h}}(K)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof mb?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const h=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(No),y=c.create(Jn.NULL,[],u||c.selector,h),b=y.location.nativeElement,I=y.injector.get(C1,null),D=I&&y.injector.get(w1);return I&&D&&D.registerApplication(b,I),y.onDestroy(()=>{this.detachView(y.hostView),D_(this.components,y),D&&D.unregisterApplication(b)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;D_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(ZT,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(xn(oo),xn(Jn),xn(we),xn(tc),xn(Af))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function D_(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class N1{}class AC{}const oD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let S_=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||oD}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(h=>h[c]).then(h=>aD(h,u,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,c]=o.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+h]).then(m=>aD(m,u,c))}}return i.\u0275fac=function(o){return new(o||i)(xn(Sf),xn(AC,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function aD(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const Z1=function(i){return null},G1=TC(null,"core",[{provide:Pi,useValue:"unknown"},{provide:nD,deps:[Jn]},{provide:w1,deps:[]},{provide:HT,deps:[]}]),fD=[{provide:el,useClass:el,deps:[oo,Jn,we,tc,Af]},{provide:tT,deps:[oo],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Af,useClass:Af,deps:[[new oi,vC]]},{provide:Sf,useClass:Sf,deps:[]},_1,{provide:Ky,useFactory:function(){return AI},deps:[]},{provide:Yy,useFactory:function(){return DS},deps:[]},{provide:Yg,useFactory:function(i){return la(i=i||"undefined"!=typeof $localize&&$localize.locale||Py),i},deps:[[new Ys(Yg),new oi,new Ba]]},{provide:bC,useValue:"USD"}];let pD=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(xn(el))},i.\u0275mod=Uo({type:i}),i.\u0275inj=Xr({providers:fD}),i})()},8939:(Xe,Se,V)=>{"use strict";V.d(Se,{hO:()=>Y,xv:()=>K,Dh:()=>fe,GT:()=>oe,cc:()=>ie,on:()=>R,pX:()=>se});var l=V(3018),te=V(7841),F=V(6643);Xe=V.hmd(Xe);const ce=["ngOnDestroy"],se=(ve,be,he,De={})=>new Proxy(ve,{get:(Ue,je)=>he.runOutsideAngular(()=>{var wt;if(ve[je])return(null===(wt=null==De?void 0:De.spy)||void 0===wt?void 0:wt.get)&&De.spy.get(je,ve[je]),ve[je];if(ce.indexOf(je)>-1)return()=>{};const gt=be.toPromise().then(xe=>{const re=xe&&xe[je];return"function"==typeof re?re.bind(xe):re&&re.then?re.then(ue=>he.run(()=>ue)):he.run(()=>re)});return new Proxy(()=>{},{get:(xe,re)=>gt[re],apply:(xe,re,ue)=>gt.then(ge=>{var le;const Le=ge&&ge(...ue);return(null===(le=null==De?void 0:De.spy)||void 0===le?void 0:le.apply)&&De.spy.apply(je,ue,Le),Le})})})}),oe=(ve,be)=>{be.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(De=>{Object.defineProperty(ve.prototype,De,Object.getOwnPropertyDescriptor(he.prototype||he,De))})})};class Ce{constructor(be){return be}}const fe=new l.OlP("angularfire2.app.options"),K=new l.OlP("angularfire2.app.name");function R(ve,be,he){const Ue="object"==typeof he&&he||{};Ue.name=Ue.name||"string"==typeof he&&he||"[DEFAULT]";const wt=te.Z.apps.filter(gt=>gt&&gt.name===Ue.name)[0]||be.runOutsideAngular(()=>te.Z.initializeApp(ve,Ue));try{JSON.stringify(ve)!==JSON.stringify(wt.options)&&L("error",`${wt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new Ce(wt)}const L=(ve,...be)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ve](...be)},ee={provide:Ce,useFactory:R,deps:[fe,l.R0b,[new l.FiY,K]]};let Y=(()=>{class ve{constructor(he){te.Z.registerVersion("angularfire",F.q4.full,"core"),te.Z.registerVersion("angularfire",F.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,he.toString())}static initializeApp(he,De){return{ngModule:ve,providers:[{provide:fe,useValue:he},{provide:K,useValue:De}]}}}return ve.\u0275fac=function(he){return new(he||ve)(l.LFG(l.Lbi))},ve.\u0275mod=l.oAB({type:ve}),ve.\u0275inj=l.cJS({providers:[ee]}),ve})();function ie(ve,be,he,De,Ue){const[,je,wt]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===ve)||[];if(je)return function(ve,be){try{return ve.toString()===be.toString()}catch(he){return ve===be}}(Ue,wt)||(q("error",`${be} was already initialized on the ${he} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Ue,was:wt})),je;{const gt=De();return globalThis.\u0275AngularfireInstanceCache.push([ve,gt,Ue]),gt}}const pe=!!Xe.hot,q=(ve,...be)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ve](...be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Xe,Se,V)=>{"use strict";V.d(Se,{q4:()=>qf,iC:()=>zf,HU:()=>Tr,vb:()=>ta,JM:()=>es});var l=V(3018),te=V(2329),F=V(8239),ce=V(5452),se=V(3854),oe=V(6034),Ce=V(5601),fe=V(6676);const K="@firebase/installations",R="0.5.2",ee=`w:${R}`,Y="FIS_v2",be=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function De({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ue(E){return{token:E.token,requestStatus:2,expiresIn:ge(E.expiresIn),creationTime:Date.now()}}function je(E,T){return wt.apply(this,arguments)}function wt(){return(wt=(0,F.Z)(function*(E,T){const j=(yield T.json()).error;return be.create("request-failed",{requestName:E,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function gt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function xe(E,{refreshToken:T}){const x=gt(E);return x.append("Authorization",function(E){return`${Y} ${E}`}(T)),x}function re(E){return ue.apply(this,arguments)}function ue(){return(ue=(0,F.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function ge(E){return Number(E.replace("s","000"))}function Le(E,T){return _e.apply(this,arguments)}function _e(){return(_e=(0,F.Z)(function*(E,{fid:T}){const x=De(E),me={method:"POST",headers:gt(E),body:JSON.stringify({fid:T,authVersion:Y,appId:E.appId,sdkVersion:ee})},Re=yield re(()=>fetch(x,me));if(Re.ok){const et=yield Re.json();return{fid:et.fid||T,registrationStatus:2,refreshToken:et.refreshToken,authToken:Ue(et.authToken)}}throw yield je("Create Installation",Re)})).apply(this,arguments)}function at(E){return new Promise(T=>{setTimeout(T,E)})}const Zn=/^[cdef][\w-]{21}$/;function Jt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Zn.test(x)?x:""}catch(E){return""}}function nn(E){return`${E.appName}!${E.appId}`}const Tt=new Map;function Sr(E,T){const x=nn(E);Ot(x,T),function(E,T){const x=(!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=E=>{Ot(E.data.key,E.data.fid)}),cr);x&&x.postMessage({key:E,fid:T}),0===Tt.size&&cr&&(cr.close(),cr=null)}(x,T)}function Ot(E,T){const x=Tt.get(E);if(x)for(const j of x)j(T)}let cr=null;const ei="firebase-installations-store";let Oi=null;function zi(){return Oi||(Oi=(0,fe.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(ei)}})),Oi}function ti(E,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,F.Z)(function*(E,T){const x=nn(E),X=(yield zi()).transaction(ei,"readwrite"),me=X.objectStore(ei),Re=yield me.get(x);return yield me.put(T,x),yield X.complete,(!Re||Re.fid!==T.fid)&&Sr(E,T.fid),T})).apply(this,arguments)}function yr(E){return ks.apply(this,arguments)}function ks(){return(ks=(0,F.Z)(function*(E){const T=nn(E),j=(yield zi()).transaction(ei,"readwrite");yield j.objectStore(ei).delete(T),yield j.complete})).apply(this,arguments)}function ht(E,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,F.Z)(function*(E,T){const x=nn(E),X=(yield zi()).transaction(ei,"readwrite"),me=X.objectStore(ei),Re=yield me.get(x),et=T(Re);return void 0===et?yield me.delete(x):yield me.put(et,x),yield X.complete,et&&(!Re||Re.fid!==et.fid)&&Sr(E,et.fid),et})).apply(this,arguments)}function zt(E){return hn.apply(this,arguments)}function hn(){return(hn=(0,F.Z)(function*(E){let T;const x=yield ht(E,j=>{const X=ln(j),me=Vt(E,X);return T=me.registrationPromise,me.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function ln(E){return mn(E||{fid:Jt(),registrationStatus:0})}function Vt(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(be.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(E,T){return ze.apply(this,arguments)}(E,x)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:En(E)}:{installationEntry:T}}function ze(){return(ze=(0,F.Z)(function*(E,T){try{return ti(E,yield Le(E,T))}catch(x){throw he(x)&&409===x.customData.serverCode?yield yr(E):yield ti(E,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function En(E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,F.Z)(function*(E){let T=yield _i(E);for(;1===T.registrationStatus;)yield at(100),T=yield _i(E);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:j}=yield zt(E);return j||x}return T})).apply(this,arguments)}function _i(E){return ht(E,T=>{if(!T)throw be.create("installation-not-found");return mn(T)})}function mn(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ls(E,T){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:E,platformLoggerProvider:T},x){const j=G(E,x),X=xe(E,x),me=T.getImmediate({optional:!0});me&&X.append("x-firebase-client",me.getPlatformInfoString());const et={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ee}})},We=yield re(()=>fetch(j,et));if(We.ok)return Ue(yield We.json());throw yield je("Generate Auth Token",We)})).apply(this,arguments)}function G(E,{fid:T}){return`${De(E)}/${T}/authTokens:generate`}function Z(E){return Me.apply(this,arguments)}function Me(){return(Me=(0,F.Z)(function*(E,T=!1){let x;const j=yield ht(E.appConfig,me=>{if(!Qt(me))throw be.create("not-registered");const Re=me.authToken;if(!T&&_r(Re))return me;if(1===Re.requestStatus)return x=ae(E,T),me;{if(!navigator.onLine)throw be.create("app-offline");const et=fn(me);return x=Nt(E,et),et}});return x?yield x:j.authToken})).apply(this,arguments)}function ae(E,T){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(E,T){let x=yield qe(E.appConfig);for(;1===x.authToken.requestStatus;)yield at(100),x=yield qe(E.appConfig);const j=x.authToken;return 0===j.requestStatus?Z(E,T):j})).apply(this,arguments)}function qe(E){return ht(E,T=>{if(!Qt(T))throw be.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Nt(E,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(E,T){try{const x=yield ls(E,T),j=Object.assign(Object.assign({},T),{authToken:x});return yield ti(E.appConfig,j),x}catch(x){if(!he(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ti(E.appConfig,j)}else yield yr(E.appConfig);throw x}})).apply(this,arguments)}function Qt(E){return void 0!==E&&2===E.registrationStatus}function _r(E){return 2===E.requestStatus&&!function(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function fn(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function ho(){return(ho=(0,F.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:j}=yield zt(T.appConfig);return j?j.catch(console.error):Z(T).catch(console.error),x.fid})).apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(E,T=!1){const x=E;return yield po(x.appConfig),(yield Z(x,T)).token})).apply(this,arguments)}function po(E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,F.Z)(function*(E){const{registrationPromise:T}=yield zt(E);T&&(yield T)})).apply(this,arguments)}function nr(E){return be.create("missing-app-config-values",{valueName:E})}const il="installations";(0,ce._registerComponent)(new oe.wA(il,E=>{const T=E.getProvider("app").getImmediate();return{app:T,appConfig:function(E){if(!E||!E.options)throw nr("App Configuration");if(!E.name)throw nr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw nr(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T),platformLoggerProvider:(0,ce._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new oe.wA("installations-internal",E=>{const T=E.getProvider("app").getImmediate(),x=(0,ce._getProvider)(T,il).getImmediate();return{getId:()=>function(E){return ho.apply(this,arguments)}(x),getToken:X=>function(E){return fo.apply(this,arguments)}(x,X)}},"PRIVATE")),(0,ce.registerVersion)(K,R),(0,ce.registerVersion)(K,R,"esm2017");const vr="@firebase/remote-config",Rn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ho{constructor(T,x,j,X){this.client=T,this.storage=x,this.storageCache=j,this.logger=X}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-x,X=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${X}.`),X}fetch(T){var x=this;return(0,F.Z)(function*(){const[j,X]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(X&&x.isCachedDataFresh(T.cacheMaxAgeMillis,j))return X;T.eTag=X&&X.eTag;const me=yield x.client.fetch(T),Re=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Re.push(x.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Re),me})()}}function hr(E=navigator){return E.languages&&E.languages[0]||E.language}class Rt{constructor(T,x,j,X,me,Re){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=j,this.projectId=X,this.apiKey=me,this.appId=Re}fetch(T){var x=this;return(0,F.Z)(function*(){const[j,X]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:j,app_instance_id_token:X,app_id:x.appId,language_code:hr()},Lt={method:"POST",headers:et,body:JSON.stringify(We)},en=fetch(Re,Lt),Dr=new Promise((bs,Cs)=>{T.signal.addEventListener(()=>{const Rc=new Error("The operation was aborted.");Rc.name="AbortError",Cs(Rc)})});let kr;try{yield Promise.race([en,Dr]),kr=yield en}catch(bs){let Cs="fetch-client-network";throw"AbortError"===bs.name&&(Cs="fetch-timeout"),Rn.create(Cs,{originalErrorMessage:bs.message})}let Pr=kr.status;const ts=kr.headers.get("ETag")||void 0;let Ou,ns;if(200===kr.status){let bs;try{bs=yield kr.json()}catch(Cs){throw Rn.create("fetch-client-parse",{originalErrorMessage:Cs.message})}Ou=bs.entries,ns=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===ns?Pr=500:"NO_CHANGE"===ns?Pr=304:("NO_TEMPLATE"===ns||"EMPTY_CONFIG"===ns)&&(Ou={}),304!==Pr&&200!==Pr)throw Rn.create("fetch-status",{httpStatus:Pr});return{status:Pr,eTag:ts,config:Ou}})()}}class Ln{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,F.Z)(function*(){const j=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:j}){var X=this;return(0,F.Z)(function*(){yield function(E,T){return new Promise((x,j)=>{const X=Math.max(T-Date.now(),0),me=setTimeout(x,X);E.addEventListener(()=>{clearTimeout(me),j(Rn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const me=yield X.client.fetch(T);return yield X.storage.deleteThrottleMetadata(),me}catch(me){if(!function(E){if(!(E instanceof se.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(me))throw me;const Re={throttleEndTimeMillis:Date.now()+(0,se.$s)(j),backoffCount:j+1};return yield X.storage.setThrottleMetadata(Re),X.attemptFetch(T,Re)}})()}}class th{constructor(T,x,j,X,me){this.app=T,this._client=x,this._storageCache=j,this._storage=X,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function go(E,T){const x=E.target.error||void 0;return Rn.create(T,{originalErrorMessage:x&&x.message})}const Os="app_namespace_store";class qo{constructor(T,x,j,X=function(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=j=>{T(go(j,"storage-open"))},x.onsuccess=j=>{E(j.target.result)},x.onupgradeneeded=j=>{const X=j.target.result;switch(j.oldVersion){case 0:X.createObjectStore(Os,{keyPath:"compositeKey"})}}}catch(x){T(Rn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=j,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,F.Z)(function*(){const j=yield x.openDbPromise;return new Promise((X,me)=>{const et=j.transaction([Os],"readonly").objectStore(Os),We=x.createCompositeKey(T);try{const Lt=et.get(We);Lt.onerror=en=>{me(go(en,"storage-get"))},Lt.onsuccess=en=>{const Dr=en.target.result;X(Dr?Dr.value:void 0)}}catch(Lt){me(Rn.create("storage-get",{originalErrorMessage:Lt&&Lt.message}))}})})()}set(T,x){var j=this;return(0,F.Z)(function*(){const X=yield j.openDbPromise;return new Promise((me,Re)=>{const We=X.transaction([Os],"readwrite").objectStore(Os),Lt=j.createCompositeKey(T);try{const en=We.put({compositeKey:Lt,value:x});en.onerror=Dr=>{Re(go(Dr,"storage-set"))},en.onsuccess=()=>{me()}}catch(en){Re(Rn.create("storage-set",{originalErrorMessage:en&&en.message}))}})})()}delete(T){var x=this;return(0,F.Z)(function*(){const j=yield x.openDbPromise;return new Promise((X,me)=>{const et=j.transaction([Os],"readwrite").objectStore(Os),We=x.createCompositeKey(T);try{const Lt=et.delete(We);Lt.onerror=en=>{me(go(en,"storage-delete"))},Lt.onsuccess=()=>{X()}}catch(Lt){me(Rn.create("storage-delete",{originalErrorMessage:Lt&&Lt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class mo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,F.Z)(function*(){const x=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),X=T.storage.getActiveConfig(),me=yield x;me&&(T.lastFetchStatus=me);const Re=yield j;Re&&(T.lastSuccessfulFetchTimestampMillis=Re);const et=yield X;et&&(T.activeConfig=et)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function yc(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,F.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new oe.wA("remote-config",function(T,{instanceIdentifier:x}){const j=T.getProvider("app").getImmediate(),X=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,se.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:me,apiKey:Re,appId:et}=j.options;if(!me)throw Rn.create("registration-project-id");if(!Re)throw Rn.create("registration-api-key");if(!et)throw Rn.create("registration-app-id");const We=new qo(et,j.name,x=x||"firebase"),Lt=new mo(We),en=new Ce.Yd(vr);en.logLevel=Ce.in.ERROR;const Dr=new Rt(X,ce.SDK_VERSION,x,me,Re,et),kr=new Ln(Dr,We),Pr=new Ho(kr,We,Lt,en),ts=new th(j,Pr,Lt,We,en);return function(E){const T=(0,se.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(vr,"0.3.1"),(0,ce.registerVersion)(vr,"0.3.1","esm2017");const Ci="/firebase-messaging-sw.js",yo="/firebase-cloud-messaging-push-scope",ps="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Go="google.c.a.c_id",U="google.c.a.c_l",Q="google.c.a.ts",ke="google.c.a.e";var Mt=(()=>{return(E=Mt||(Mt={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Mt;var E})();function dt(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _n(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(x),X=new Uint8Array(j.length);for(let me=0;me<j.length;++me)X[me]=j.charCodeAt(me);return X}const cn="fcm_token_details_db",vn="fcm_token_object_Store";function Vr(E){return sr.apply(this,arguments)}function sr(){return(sr=(0,F.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(cn))return null;let T=null;return(yield(0,fe.openDb)(cn,5,function(){var j=(0,F.Z)(function*(X){var me;if(X.oldVersion<2||!X.objectStoreNames.contains(vn))return;const Re=X.transaction.objectStore(vn),et=yield Re.index("fcmSenderId").get(E);if(yield Re.clear(),et)if(2===X.oldVersion){const We=et;if(!We.auth||!We.p256dh||!We.endpoint)return;T={token:We.fcmToken,createTime:null!==(me=We.createTime)&&void 0!==me?me:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:dt(We.vapidKey)}}}else if(3===X.oldVersion){const We=et;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:dt(We.auth),p256dh:dt(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:dt(We.vapidKey)}}}else if(4===X.oldVersion){const We=et;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:dt(We.auth),p256dh:dt(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:dt(We.vapidKey)}}}});return function(X){return j.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(cn),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),zn(T)?T:null})).apply(this,arguments)}function zn(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const bn="firebase-messaging-store";let br=null;function ni(){return br||(br=(0,fe.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(bn)}})),br}function Qi(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,F.Z)(function*(E){const T=Ca(E),j=yield(yield ni()).transaction(bn).objectStore(bn).get(T);if(j)return j;{const X=yield Vr(E.appConfig.senderId);if(X)return yield Fi(E,X),X}})).apply(this,arguments)}function Fi(E,T){return ba.apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(E,T){const x=Ca(E),X=(yield ni()).transaction(bn,"readwrite");return yield X.objectStore(bn).put(T,x),yield X.complete,T})).apply(this,arguments)}function Dn(E){return ul.apply(this,arguments)}function ul(){return(ul=(0,F.Z)(function*(E){const T=Ca(E),j=(yield ni()).transaction(bn,"readwrite");yield j.objectStore(bn).delete(T),yield j.complete})).apply(this,arguments)}function Ca({appConfig:E}){return E.appId}const kt=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rh(E,T){return cl.apply(this,arguments)}function cl(){return(cl=(0,F.Z)(function*(E,T){const x=yield Cr(E),j=wa(T),X={method:"POST",headers:x,body:JSON.stringify(j)};let me;try{me=yield(yield fetch(zo(E.appConfig),X)).json()}catch(Re){throw kt.create("token-subscribe-failed",{errorInfo:Re})}if(me.error)throw kt.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw kt.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function yu(E,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,F.Z)(function*(E,T){const x=yield Cr(E),j=wa(T.subscriptionOptions),X={method:"PATCH",headers:x,body:JSON.stringify(j)};let me;try{me=yield(yield fetch(`${zo(E.appConfig)}/${T.token}`,X)).json()}catch(Re){throw kt.create("token-update-failed",{errorInfo:Re})}if(me.error)throw kt.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw kt.create("token-update-no-token");return me.token})).apply(this,arguments)}function Uf(E,T){return gs.apply(this,arguments)}function gs(){return(gs=(0,F.Z)(function*(E,T){const j={method:"DELETE",headers:yield Cr(E)};try{const me=yield(yield fetch(`${zo(E.appConfig)}/${T}`,j)).json();if(me.error)throw kt.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(X){throw kt.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function zo({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Cr(E){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,F.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function wa({p256dh:E,auth:T,endpoint:x,vapidKey:j}){const X={web:{endpoint:x,auth:T,p256dh:E}};return j!==ps&&(X.web.applicationPubKey=j),X}const _u=6048e5;function _o(E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,F.Z)(function*(E){const T=yield _c(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:dt(T.getKey("auth")),p256dh:dt(T.getKey("p256dh"))},j=yield Qi(E.firebaseDependencies);if(j){if(ih(j.subscriptionOptions,x))return Date.now()>=j.createTime+_u?lm(E,{token:j.token,createTime:Date.now(),subscriptionOptions:x}):j.token;try{yield Uf(E.firebaseDependencies,j.token)}catch(X){console.warn(X)}return Ia(E.firebaseDependencies,x)}return Ia(E.firebaseDependencies,x)})).apply(this,arguments)}function dl(E){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*(E){const T=yield Qi(E.firebaseDependencies);T&&(yield Uf(E.firebaseDependencies,T.token),yield Dn(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function lm(E,T){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(E,T){try{const x=yield yu(E.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Fi(E.firebaseDependencies,j),x}catch(x){throw yield dl(E),x}})).apply(this,arguments)}function Ia(E,T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,F.Z)(function*(E,T){const j={token:yield rh(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Fi(E,j),j.token})).apply(this,arguments)}function _c(E,T){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_n(T)})})).apply(this,arguments)}function ih(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Pe(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const j=T.notification.body;j&&(E.notification.body=j);const X=T.notification.image;X&&(E.notification.image=X)}(T,E),function(E,T){!T.data||(E.data=T.data)}(T,E),function(E,T){if(!T.fcmOptions)return;E.fcmOptions={};const x=T.fcmOptions.link;x&&(E.fcmOptions.link=x);const j=T.fcmOptions.analytics_label;j&&(E.fcmOptions.analyticsLabel=j)}(T,E),T}function sh(E){return"object"==typeof E&&!!E&&Go in E}function Ta(E,T){const x=[];for(let j=0;j<E.length;j++)x.push(E.charAt(j)),j<T.length&&x.push(T.charAt(j));return x.join("")}function vu(E){return kt.create("missing-app-config-values",{valueName:E})}Ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vo{constructor(T,x,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function(E){if(!E||!E.options)throw vu("App Configuration Object");if(!E.name)throw vu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const j of T)if(!x[j])throw vu(j);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:X,installations:x,analyticsProvider:j}}_delete(){return Promise.resolve()}}function oh(E){return hl.apply(this,arguments)}function hl(){return(hl=(0,F.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ci,{scope:yo}),E.swRegistration.update().catch(()=>{})}catch(T){throw kt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Da(E,T){return ms.apply(this,arguments)}function ms(){return(ms=(0,F.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield oh(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function ri(E,T){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=ps)})).apply(this,arguments)}function ys(){return(ys=(0,F.Z)(function*(E,T){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield ri(E,null==T?void 0:T.vapidKey),yield Da(E,null==T?void 0:T.serviceWorkerRegistration),_o(E)})).apply(this,arguments)}function Vs(E,T,x){return bu.apply(this,arguments)}function bu(){return(bu=(0,F.Z)(function*(E,T,x){const j=ah(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:x[Go],message_name:x[U],message_time:x[Q],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ah(E){switch(E){case Mt.NOTIFICATION_CLICKED:return"notification_open";case Mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Cu(){return(Cu=(0,F.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===Mt.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Pe(x)):E.onMessageHandler.next(Pe(x)));const j=x.data;sh(j)&&"1"===j[ke]&&(yield Vs(E,x.messageType,j))})).apply(this,arguments)}const Aa="@firebase/messaging";function uh(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new oe.wA("messaging",E=>{const T=new vo(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(E,T){return Cu.apply(this,arguments)}(T,x)),T},"PUBLIC")),(0,ce._registerComponent)(new oe.wA("messaging-internal",E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:j=>function(E,T){return ys.apply(this,arguments)}(T,j)}},"PRIVATE")),(0,ce.registerVersion)(Aa,"0.9.2"),(0,ce.registerVersion)(Aa,"0.9.2","esm2017");const _s="analytics",An="firebase_id",Ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dh="https://www.googletagmanager.com/gtag/js",wr=new Ce.Yd("@firebase/analytics");function hh(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function Sa(E,T){const x=document.createElement("script");x.src=`${dh}?l=${E}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Ic(E,T,x,j,X,me){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,F.Z)(function*(E,T,x,j,X,me){const Re=j[X];try{if(Re)yield T[Re];else{const We=(yield hh(x)).find(Lt=>Lt.measurementId===X);We&&(yield T[We.appId])}}catch(et){wr.error(et)}E("config",X,me)})).apply(this,arguments)}function Tc(E,T,x,j,X){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,F.Z)(function*(E,T,x,j,X){try{let me=[];if(X&&X.send_to){let Re=X.send_to;Array.isArray(Re)||(Re=[Re]);const et=yield hh(x);for(const We of Re){const Lt=et.find(Dr=>Dr.measurementId===We),en=Lt&&T[Lt.appId];if(!en){me=[];break}me.push(en)}}0===me.length&&(me=Object.values(T)),yield Promise.all(me),E("event",j,X||{})}catch(me){wr.error(me)}})).apply(this,arguments)}function ev(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(dh))return T;return null}const Zr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Eu=new class{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function cm(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Sn(E){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,F.Z)(function*(E){var T;const{appId:x,apiKey:j}=E,X={method:"GET",headers:cm(j)},me=Ec.replace("{app-id}",x),Re=yield fetch(me,X);if(200!==Re.status&&304!==Re.status){let et="";try{const We=yield Re.json();(null===(T=We.error)||void 0===T?void 0:T.message)&&(et=We.error.message)}catch(We){}throw Zr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:et})}return Re.json()})).apply(this,arguments)}function yl(E){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,F.Z)(function*(E,T=Eu,x){const{appId:j,apiKey:X,measurementId:me}=E.options;if(!j)throw Zr.create("no-app-id");if(!X){if(me)return{measurementId:me,appId:j};throw Zr.create("no-api-key")}const Re=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new ka;return setTimeout((0,F.Z)(function*(){et.abort()}),void 0!==x?x:6e4),_l({appId:j,apiKey:X,measurementId:me},Re,et,T)})).apply(this,arguments)}function _l(E,T,x){return vl.apply(this,arguments)}function vl(){return(vl=(0,F.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},j,X=Eu){const{appId:me,measurementId:Re}=E;try{yield Ma(j,T)}catch(et){if(Re)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:me,measurementId:Re};throw et}try{const et=yield Sn(E);return X.deleteThrottleMetadata(me),et}catch(et){if(!bl(et)){if(X.deleteThrottleMetadata(me),Re)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:me,measurementId:Re};throw et}const We=503===Number(et.customData.httpStatus)?(0,se.$s)(x,X.intervalMillis,30):(0,se.$s)(x,X.intervalMillis),Lt={throttleEndTimeMillis:Date.now()+We,backoffCount:x+1};return X.setThrottleMetadata(me,Lt),wr.debug(`Calling attemptFetch again in ${We} millis`),_l(E,Lt,j,X)}})).apply(this,arguments)}function Ma(E,T){return new Promise((x,j)=>{const X=Math.max(T-Date.now(),0),me=setTimeout(x,X);E.addEventListener(()=>{clearTimeout(me),j(Zr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function bl(E){if(!(E instanceof se.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class ka{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Pa(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,F.Z)(function*(){if(!(0,se.hl)())return wr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return wr.warn(Zr.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Na(){return(Na=(0,F.Z)(function*(E,T,x,j,X,me,Re){var et;const We=yl(E);We.then(Pr=>{x[Pr.measurementId]=Pr.appId,E.options.measurementId&&Pr.measurementId!==E.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pr=>wr.error(Pr)),T.push(We);const Lt=Pa().then(Pr=>{if(Pr)return j.getId()}),[en,Dr]=yield Promise.all([We,Lt]);ev()||Sa(me,en.measurementId),X("js",new Date);const kr=null!==(et=null==Re?void 0:Re.config)&&void 0!==et?et:{};return kr.origin="firebase",kr.update=!0,null!=Dr&&(kr[An]=Dr),X("config",en.measurementId,kr),en.measurementId})).apply(this,arguments)}class kn{constructor(T){this.app=T}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},Du=[];const ft={};let js,Bs,Ra="dataLayer",Zs=!1;function wl(E,T,x){!function(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((j,X)=>`(${X+1}) ${j}`).join(" "),x=Zr.create("invalid-analytics-context",{errorInfo:T});wr.warn(x.message)}}();const j=E.options.appId;if(!j)throw Zr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Zr.create("no-api-key");wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[j])throw Zr.create("already-exists",{id:j});if(!Zs){!function(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(Ra);const{wrappedGtag:me,gtagCore:Re}=function(E,T,x,j,X){let me=function(...Re){window[j].push(arguments)};return window[X]&&"function"==typeof window[X]&&(me=window[X]),window[X]=function(E,T,x,j){function me(){return(me=(0,F.Z)(function*(Re,et,We){try{"event"===Re?yield Tc(E,T,x,et,We):"config"===Re?yield Ic(E,T,x,j,et,We):E("set",et)}catch(Lt){wr.error(Lt)}})).apply(this,arguments)}return function(Re,et,We){return me.apply(this,arguments)}}(me,E,T,x),{gtagCore:me,wrappedGtag:window[X]}}(Un,Du,ft,Ra,"gtag");Bs=me,js=Re,Zs=!0}return Un[j]=function(E,T,x,j,X,me,Re){return Na.apply(this,arguments)}(E,Du,ft,T,js,Ra,x),new kn(E)}function Ac(){return(Ac=(0,F.Z)(function*(E,T,x,j,X){if(X&&X.global)E("event",x,j);else{const me=yield T;E("event",x,Object.assign(Object.assign({},j),{send_to:me}))}})).apply(this,arguments)}function qs(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,F.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}const ph="@firebase/analytics";(0,ce._registerComponent)(new oe.wA(_s,(T,{options:x})=>wl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new oe.wA("analytics-internal",function(T){try{const x=T.getProvider(_s).getImmediate();return{logEvent:(j,X,me)=>function(E,T,x,j){E=(0,se.m9)(E),function(E,T,x,j,X){return Ac.apply(this,arguments)}(Bs,Un[E.app.options.appId],T,x,j).catch(X=>wr.error(X))}(x,j,X,me)}}catch(x){throw Zr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(ph,"0.7.2"),(0,ce.registerVersion)(ph,"0.7.2","esm2017");var Il=V(7771),jn=V(3637),Tl=V(3342),Oc=V(3101),Dl=V(309);const qf=new l.GfV("7.1.1"),Ua="__angularfire_symbol__analyticsIsSupported",Nc="__angularfire_symbol__remoteConfigIsSupported",zs="__angularfire_symbol__messagingIsSupported";function es(E,T,x){if(T){if(1===T.length)return T[0];const me=T.filter(Re=>Re.app===x);if(1===me.length)return me[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Ua]||(globalThis[Ua]=qs().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[zs]||(globalThis[zs]=uh().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[Nc]||(globalThis[Nc]=yc().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const ta=(E,T)=>{const x=T?[T]:(0,te.C6)(),j=[];return x.forEach(X=>{X.container.getProvider(E).instances.forEach(Re=>{j.includes(Re)||j.push(Re)})}),j};function ku(){}class Gf{constructor(T,x=Il.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,j){const X=this.zone;return this.delegate.schedule(function(Re){X.runGuarded(()=>{T.apply(this,[Re])})},x,j)}}class Ir{constructor(T){this.zone=T,this.task=null}call(T,x){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ku,{},ku,ku)),x.pipe((0,Tl.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tr=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Gf(Zone.current)),this.insideAngular=x.run(()=>new Gf(Zone.current,jn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Vi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function zf(E){return Vi(),function(E){return function(x){return(x=x.lift(new Ir(E.ngZone))).pipe((0,Oc.R)(E.outsideAngular),(0,Dl.QV)(E.insideAngular))}}(Vi())(E)}},4486:(Xe,Se,V)=>{"use strict";V.d(Se,{Z:()=>Te});var l=V(3854),te=V(6034),F=V(5452),ce=V(5601);class se{constructor(q,ve){this._delegate=q,this.firebase=ve,(0,F._addComponent)(q,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(q,ve=F._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(q);return!he.isInitialized()&&"EXPLICIT"===(null===(be=he.getComponent())||void 0===be?void 0:be.instantiationMode)&&he.initialize(),he.getImmediate({identifier:ve})}_removeServiceInstance(q,ve=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(ve)}_addComponent(q){(0,F._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,F._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function K(){const pe=function(pe){const q={},ve={__esModule:!0,initializeApp:function(gt,xe={}){const re=F.initializeApp(gt,xe);if((0,l.r3)(q,re.name))return q[re.name];const ue=new pe(re,ve);return q[re.name]=ue,ue},app:he,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const xe=gt.name,re=xe.replace("-compat","");if(F._registerComponent(gt)&&"PUBLIC"===gt.type){const ue=(ge=he())=>{if("function"!=typeof ge[re])throw Ce.create("invalid-app-argument",{appName:xe});return ge[re]()};void 0!==gt.serviceProps&&(0,l.ZB)(ue,gt.serviceProps),ve[re]=ue,pe.prototype[re]=function(...ge){return this._getService.bind(this,xe).apply(this,gt.multipleInstances?ge:[])}}return"PUBLIC"===gt.type?ve[re]:null},removeApp:function(gt){delete q[gt]},useAsService:function(gt,xe){return"serverAuth"===xe?null:xe},modularAPIs:F}};function he(gt){if(!(0,l.r3)(q,gt=gt||F._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:gt});return q[gt]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function(){return Object.keys(q).map(gt=>q[gt])}}),he.App=pe,ve}(se);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(ve){(0,l.ZB)(pe,ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),pe}(),L=new ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=R;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Xe,Se,V)=>{"use strict";V.r(Se),V.d(Se,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>Tt,_apps:()=>Jt,_clearComponents:()=>Ot,_components:()=>Hn,_getProvider:()=>wn,_registerComponent:()=>Sr,_removeServiceInstance:()=>rt,deleteApp:()=>Oi,getApp:()=>xr,getApps:()=>ei,initializeApp:()=>Xr,onLog:()=>Mn,registerVersion:()=>ti,setLogLevel:()=>yr});var l=V(8239),te=V(6034),F=V(5601),ce=V(3854);class se{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(ht){const Oe=ht.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(zt)){const hn=zt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(zt=>zt).join(" ")}}const Ce="@firebase/app",K=new F.Yd("@firebase/app"),Zn="[DEFAULT]",Et={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Hn=new Map;function nn(ht,Oe){try{ht.container.addComponent(Oe)}catch(zt){K.debug(`Component ${Oe.name} failed to register with FirebaseApp ${ht.name}`,zt)}}function Tt(ht,Oe){ht.container.addOrOverwriteComponent(Oe)}function Sr(ht){const Oe=ht.name;if(Hn.has(Oe))return K.debug(`There were multiple attempts to register component ${Oe}.`),!1;Hn.set(Oe,ht);for(const zt of Jt.values())nn(zt,ht);return!0}function wn(ht,Oe){return ht.container.getProvider(Oe)}function rt(ht,Oe,zt=Zn){wn(ht,Oe).clearInstance(zt)}function Ot(){Hn.clear()}const cr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(Oe,zt,hn){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Fr="9.1.3";function Xr(ht,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const zt=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},Oe),hn=zt.name;if("string"!=typeof hn||!hn)throw cr.create("bad-app-name",{appName:String(hn)});const ln=Jt.get(hn);if(ln){if((0,ce.vZ)(ht,ln.options)&&(0,ce.vZ)(zt,ln.config))return ln;throw cr.create("duplicate-app",{appName:hn})}const Vt=new te.H0(hn);for(const ze of Hn.values())Vt.addComponent(ze);const tt=new un(ht,zt,Vt);return Jt.set(hn,tt),tt}function xr(ht=Zn){const Oe=Jt.get(ht);if(!Oe)throw cr.create("no-app",{appName:ht});return Oe}function ei(){return Array.from(Jt.values())}function Oi(ht){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(ht){const Oe=ht.name;Jt.has(Oe)&&(Jt.delete(Oe),yield Promise.all(ht.container.getProviders().map(zt=>zt.delete())),ht.isDeleted=!0)})).apply(this,arguments)}function ti(ht,Oe,zt){var hn;let ln=null!==(hn=Et[ht])&&void 0!==hn?hn:ht;zt&&(ln+=`-${zt}`);const Vt=ln.match(/\s|\//),tt=Oe.match(/\s|\//);if(Vt||tt){const ze=[`Unable to register library "${ln}" with version "${Oe}":`];return Vt&&ze.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),Vt&&tt&&ze.push("and"),tt&&ze.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void K.warn(ze.join(" "))}Sr(new te.wA(`${ln}-version`,()=>({library:ln,version:Oe}),"VERSION"))}function Mn(ht,Oe){if(null!==ht&&"function"!=typeof ht)throw cr.create("invalid-log-argument");(0,F.Am)(ht,Oe)}function yr(ht){(0,F.Ub)(ht)}Sr(new te.wA("platform-logger",Oe=>new se(Oe),"PRIVATE")),ti(Ce,"0.7.4",""),ti(Ce,"0.7.4","esm2017"),ti("fire-js","")},6034:(Xe,Se,V)=>{"use strict";V.d(Se,{wA:()=>F,H0:()=>fe});var l=V(4762),te=V(3854),F=function(){function K(R,L,ee){this.name=R,this.instanceFactory=L,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(R){return this.instantiationMode=R,this},K.prototype.setMultipleInstances=function(R){return this.multipleInstances=R,this},K.prototype.setServiceProps=function(R){return this.serviceProps=R,this},K.prototype.setInstanceCreatedCallback=function(R){return this.onInstanceCreated=R,this},K}(),ce="[DEFAULT]",se=function(){function K(R,L){this.name=R,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(R){var L=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(L)){var ee=new te.BH;if(this.instancesDeferred.set(L,ee),this.isInitialized(L)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:L});Y&&ee.resolve(Y)}catch(ie){}}return this.instancesDeferred.get(L).promise},K.prototype.getImmediate=function(R){var L,ee=this.normalizeInstanceIdentifier(null==R?void 0:R.identifier),Y=null!==(L=null==R?void 0:R.optional)&&void 0!==L&&L;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ie){if(Y)return null;throw ie}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(R){var L,ee;if(R.name!==this.name)throw Error("Mismatching Component "+R.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=R,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(he){}try{for(var Y=(0,l.XA)(this.instancesDeferred.entries()),ie=Y.next();!ie.done;ie=Y.next()){var Te=(0,l.CR)(ie.value,2),q=Te[1],ve=this.normalizeInstanceIdentifier(Te[0]);try{var be=this.getOrInitializeService({instanceIdentifier:ve});q.resolve(be)}catch(he){}}}catch(he){L={error:he}}finally{try{ie&&!ie.done&&(ee=Y.return)&&ee.call(Y)}finally{if(L)throw L.error}}}},K.prototype.clearInstance=function(R){void 0===R&&(R=ce),this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)},K.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var R;return(0,l.Jh)(this,function(L){switch(L.label){case 0:return R=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(R.filter(function(ee){return"INTERNAL"in ee}).map(function(ee){return ee.INTERNAL.delete()}))),(0,l.CR)(R.filter(function(ee){return"_delete"in ee}).map(function(ee){return ee._delete()}))))];case 1:return L.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(R){return void 0===R&&(R=ce),this.instances.has(R)},K.prototype.getOptions=function(R){return void 0===R&&(R=ce),this.instancesOptions.get(R)||{}},K.prototype.initialize=function(R){var L,ee;void 0===R&&(R={});var Y=R.options,ie=void 0===Y?{}:Y,Te=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(Te))throw Error(this.name+"("+Te+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var pe=this.getOrInitializeService({instanceIdentifier:Te,options:ie});try{for(var q=(0,l.XA)(this.instancesDeferred.entries()),ve=q.next();!ve.done;ve=q.next()){var be=(0,l.CR)(ve.value,2),De=be[1];Te===this.normalizeInstanceIdentifier(be[0])&&De.resolve(pe)}}catch(je){L={error:je}}finally{try{ve&&!ve.done&&(ee=q.return)&&ee.call(q)}finally{if(L)throw L.error}}return pe},K.prototype.onInit=function(R,L){var ee,Y=this.normalizeInstanceIdentifier(L),ie=null!==(ee=this.onInitCallbacks.get(Y))&&void 0!==ee?ee:new Set;ie.add(R),this.onInitCallbacks.set(Y,ie);var Te=this.instances.get(Y);return Te&&R(Te,Y),function(){ie.delete(R)}},K.prototype.invokeOnInitCallbacks=function(R,L){var ee,Y,ie=this.onInitCallbacks.get(L);if(ie)try{for(var Te=(0,l.XA)(ie),pe=Te.next();!pe.done;pe=Te.next()){var q=pe.value;try{q(R,L)}catch(ve){}}}catch(ve){ee={error:ve}}finally{try{pe&&!pe.done&&(Y=Te.return)&&Y.call(Te)}finally{if(ee)throw ee.error}}},K.prototype.getOrInitializeService=function(R){var L=R.instanceIdentifier,ee=R.options,Y=void 0===ee?{}:ee,ie=this.instances.get(L);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:oe(L),options:Y}),this.instances.set(L,ie),this.instancesOptions.set(L,Y),this.invokeOnInitCallbacks(ie,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ie)}catch(Te){}return ie||null},K.prototype.normalizeInstanceIdentifier=function(R){return void 0===R&&(R=ce),this.component?this.component.multipleInstances?R:ce:R},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function oe(K){return K===ce?void 0:K}var fe=function(){function K(R){this.name=R,this.providers=new Map}return K.prototype.addComponent=function(R){var L=this.getProvider(R.name);if(L.isComponentSet())throw new Error("Component "+R.name+" has already been registered with "+this.name);L.setComponent(R)},K.prototype.addOrOverwriteComponent=function(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)},K.prototype.getProvider=function(R){if(this.providers.has(R))return this.providers.get(R);var L=new se(R,this);return this.providers.set(R,L),L},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},5601:(Xe,Se,V)=>{"use strict";V.d(Se,{in:()=>te,Yd:()=>Ce,Ub:()=>fe,Am:()=>K});const l=[];var te=(()=>{return(R=te||(te={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",te;var R})();const F={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,se={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},oe=(R,L,...ee)=>{if(L<R.logLevel)return;const Y=(new Date).toISOString(),ie=se[L];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[ie](`[${Y}]  ${R.name}:`,...ee)};class Ce{constructor(L){this.name=L,this._logLevel=ce,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in te))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...L),this._logHandler(this,te.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...L),this._logHandler(this,te.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,te.INFO,...L),this._logHandler(this,te.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,te.WARN,...L),this._logHandler(this,te.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...L),this._logHandler(this,te.ERROR,...L)}}function fe(R){l.forEach(L=>{L.setLogLevel(R)})}function K(R,L){for(const ee of l){let Y=null;L&&L.level&&(Y=F[L.level]),ee.userLogHandler=null===R?null:(ie,Te,...pe)=>{const q=pe.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(be){return null}}).filter(ve=>ve).join(" ");Te>=(null!=Y?Y:ie.logLevel)&&R({level:te[Te].toLowerCase(),message:q,args:pe,type:ie.name})}}}},3854:(Xe,Se,V)=>{"use strict";V.d(Se,{BH:()=>Y,LL:()=>_e,ZR:()=>Le,zI:()=>ue,US:()=>oe,tV:()=>K,$s:()=>_i,r3:()=>wn,Sg:()=>ie,ne:()=>Oi,vZ:()=>cr,ZB:()=>L,pd:()=>xr,m9:()=>ls,z$:()=>Te,jU:()=>ve,ru:()=>be,d:()=>De,xb:()=>Ot,w1:()=>Ue,hl:()=>xe,uI:()=>pe,UG:()=>q,b$:()=>he,G6:()=>gt,Mn:()=>je,xO:()=>Fr,zd:()=>Xr,eu:()=>re});const ce=function($){const G=[];let Z=0;for(let Me=0;Me<$.length;Me++){let ae=$.charCodeAt(Me);ae<128?G[Z++]=ae:ae<2048?(G[Z++]=ae>>6|192,G[Z++]=63&ae|128):55296==(64512&ae)&&Me+1<$.length&&56320==(64512&$.charCodeAt(Me+1))?(ae=65536+((1023&ae)<<10)+(1023&$.charCodeAt(++Me)),G[Z++]=ae>>18|240,G[Z++]=ae>>12&63|128,G[Z++]=ae>>6&63|128,G[Z++]=63&ae|128):(G[Z++]=ae>>12|224,G[Z++]=ae>>6&63|128,G[Z++]=63&ae|128)}return G},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let ae=0;ae<$.length;ae+=3){const Ye=$[ae],qe=ae+1<$.length,Nt=qe?$[ae+1]:0,rn=ae+2<$.length,Qt=rn?$[ae+2]:0;let fn=(15&Nt)<<2|Qt>>6,dr=63&Qt;rn||(dr=64,qe||(fn=64)),Me.push(Z[Ye>>2],Z[(3&Ye)<<4|Nt>>4],Z[fn],Z[dr])}return Me.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(ce($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let Z=0,Me=0;for(;Z<$.length;){const ae=$[Z++];if(ae<128)G[Me++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Ye=$[Z++];G[Me++]=String.fromCharCode((31&ae)<<6|63&Ye)}else if(ae>239&&ae<365){const rn=((7&ae)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;G[Me++]=String.fromCharCode(55296+(rn>>10)),G[Me++]=String.fromCharCode(56320+(1023&rn))}else{const Ye=$[Z++],qe=$[Z++];G[Me++]=String.fromCharCode((15&ae)<<12|(63&Ye)<<6|63&qe)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const Z=G?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let ae=0;ae<$.length;){const Ye=Z[$.charAt(ae++)],Nt=ae<$.length?Z[$.charAt(ae)]:0;++ae;const Qt=ae<$.length?Z[$.charAt(ae)]:64;++ae;const At=ae<$.length?Z[$.charAt(ae)]:64;if(++ae,null==Ye||null==Nt||null==Qt||null==At)throw Error();Me.push(Ye<<2|Nt>>4),64!==Qt&&(Me.push(Nt<<4&240|Qt>>2),64!==At&&Me.push(Qt<<6&192|At))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},fe=function($){return function($){const G=ce($);return oe.encodeByteArray(G,!0)}($).replace(/\./g,"")},K=function($){try{return oe.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function L($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const Z in G)!G.hasOwnProperty(Z)||!ee(Z)||($[Z]=L($[Z],G[Z]));return $}function ee($){return"__proto__"!==$}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Z)=>{this.resolve=G,this.reject=Z})}wrapCallback(G){return(Z,Me)=>{Z?this.reject(Z):this.resolve(Me),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Z):G(Z,Me))}}}function ie($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=G||"demo-project",ae=$.iat||0,Ye=$.sub||$.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:ae,exp:ae+3600,auth_time:ae,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(qe)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function ve(){return"object"==typeof self&&self.self===self}function be(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Te().indexOf("Electron/")>=0}function Ue(){const $=Te();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function je(){return Te().indexOf("MSAppHost/")>=0}function gt(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){return"object"==typeof indexedDB}function re(){return new Promise(($,G)=>{try{let Z=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Me);ae.onsuccess=()=>{ae.result.close(),Z||self.indexedDB.deleteDatabase(Me),$(!0)},ae.onupgradeneeded=()=>{Z=!1},ae.onerror=()=>{var Ye;G((null===(Ye=ae.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(Z){G(Z)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Le extends Error{constructor(G,Z,Me){super(Z),this.code=G,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(G,Z,Me){this.service=G,this.serviceName=Z,this.errors=Me}create(G,...Z){const Me=Z[0]||{},ae=`${this.service}/${G}`,Ye=this.errors[G],qe=Ye?function($,G){return $.replace(Gt,(Z,Me)=>{const ae=G[Me];return null!=ae?String(ae):`<${Me}?>`})}(Ye,Me):"Error";return new Le(ae,`${this.serviceName}: ${qe} (${ae}).`,Me)}}const Gt=/\{\$([^}]+)}/g;function wn($,G){return Object.prototype.hasOwnProperty.call($,G)}function Ot($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function cr($,G){if($===G)return!0;const Z=Object.keys($),Me=Object.keys(G);for(const ae of Z){if(!Me.includes(ae))return!1;const Ye=$[ae],qe=G[ae];if(un(Ye)&&un(qe)){if(!cr(Ye,qe))return!1}else if(Ye!==qe)return!1}for(const ae of Me)if(!Z.includes(ae))return!1;return!0}function un($){return null!==$&&"object"==typeof $}function Fr($){const G=[];for(const[Z,Me]of Object.entries($))Array.isArray(Me)?Me.forEach(ae=>{G.push(encodeURIComponent(Z)+"="+encodeURIComponent(ae))}):G.push(encodeURIComponent(Z)+"="+encodeURIComponent(Me));return G.length?"&"+G.join("&"):""}function Xr($){const G={};return $.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[ae,Ye]=Me.split("=");G[decodeURIComponent(ae)]=decodeURIComponent(Ye)}}),G}function xr($){const G=$.indexOf("?");if(!G)return"";const Z=$.indexOf("#",G);return $.substring(G,Z>0?Z:void 0)}function Oi($,G){const Z=new zi($,G);return Z.subscribe.bind(Z)}class zi{constructor(G,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{G(this)}).catch(Me=>{this.error(Me)})}next(G){this.forEachObserver(Z=>{Z.next(G)})}error(G){this.forEachObserver(Z=>{Z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Z,Me){let ae;if(void 0===G&&void 0===Z&&void 0===Me)throw new Error("Missing Observer.");ae=function($,G){if("object"!=typeof $||null===$)return!1;for(const Z of["next","error","complete"])if(Z in $&&"function"==typeof $[Z])return!0;return!1}(G)?G:{next:G,error:Z,complete:Me},void 0===ae.next&&(ae.next=yr),void 0===ae.error&&(ae.error=yr),void 0===ae.complete&&(ae.complete=yr);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(qe){}}),this.observers.push(ae),Ye}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,G)}sendOne(G,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Z(this.observers[G])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function _i($,G=1e3,Z=2){const Me=G*Math.pow(Z,$),ae=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+ae)}function ls($){return $&&$._delegate?$._delegate:$}},2329:(Xe,Se,V)=>{"use strict";V.d(Se,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=V(5452);(0,l.registerVersion)("firebase","9.1.3","app")},7841:(Xe,Se,V)=>{"use strict";V.d(Se,{Z:()=>l.Z});var l=V(4486);l.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Xe,Se,V)=>{"use strict";V.r(Se);var l=V(8239),te=V(4486),F=V(3854),ce=V(5452),se=V(4762),oe=V(5601),Ce=V(6034);const Te=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new oe.Yd("@firebase/auth");function he(v,...f){be.logLevel<=oe.in.ERROR&&be.error(`Auth (${ce.SDK_VERSION}): ${v}`,...f)}function De(v,...f){throw gt(v,...f)}function Ue(v,...f){return gt(v,...f)}function je(v,f,g){const C=Object.assign(Object.assign({},pe()),{[f]:g});return new F.LL("auth","Firebase",C).create(f,{appName:v.name})}function wt(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&De(v,"argument-error"),je(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(v,...f){if("string"!=typeof v){const g=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(g,...C)}return q.create(v,...f)}function xe(v,f,...g){if(!v)throw gt(f,...g)}function re(v){const f="INTERNAL ASSERTION FAILED: "+v;throw he(f),new Error(f)}function ue(v,f){v||re(f)}const ge=new Map;function le(v){ue(v instanceof Function,"Expected a class definition");let f=ge.get(v);return f?(ue(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ge.set(v,f),f)}function at(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Gt(){return"http:"===Zn()||"https:"===Zn()}function Zn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Hn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ue(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nn(v,f){ue(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Tt{static initialize(f,g,C){this.fetchImpl=f,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wn=new Hn(3e4,6e4);function rt(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ot(v,f,g,C){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,f,g,C,A={}){return cr(v,A,()=>{let P={},J={};C&&("GET"===f?J=C:P={body:JSON.stringify(C)});const we=(0,F.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Ge=new(Tt.headers());return Ge.set("Content-Type","application/json"),Ge.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Ge.set("X-Firebase-Locale",v.languageCode),Tt.fetch()(xr(v,v.config.apiHost,g,we),Object.assign({method:f,headers:Ge,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function cr(v,f,g){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(v,f,g){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Sr),f);try{const A=new ei(v),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw Oi(v,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const we=P.ok?J.errorMessage:J.error.message,[Ge,st]=we.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw Oi(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ge)throw Oi(v,"email-already-in-use",J);const bt=C[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw je(v,bt,st);De(v,bt)}}catch(A){if(A instanceof F.ZR)throw A;De(v,"network-request-failed")}})).apply(this,arguments)}function Fr(v,f,g,C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,f,g,C,A={}){const P=yield Ot(v,f,g,C,A);return"mfaPendingCredential"in P&&De(v,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function xr(v,f,g,C){const A=`${f}${g}?${C}`;return v.config.emulator?nn(v.config,A):`${v.config.apiScheme}://${A}`}class ei{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"timeout")),wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(v,f,g){const C={appName:v.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const A=Ue(v,f,C);return A.customData._tokenResponse=g,A}function ti(){return(ti=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Mn(v,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ks(v,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Oe(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ln(){return(ln=(0,l.Z)(function*(v,f=!1){const g=(0,F.m9)(v),C=yield g.getIdToken(f),A=tt(C);xe(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,J=null==P?void 0:P.sign_in_provider;return{claims:A,token:C,authTime:Oe(Vt(A.auth_time)),issuedAtTime:Oe(Vt(A.iat)),expirationTime:Oe(Vt(A.exp)),signInProvider:J||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Vt(v){return 1e3*Number(v)}function tt(v){const[f,g,C]=v.split(".");if(void 0===f||void 0===g||void 0===C)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A),null}}function En(v,f){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(C){throw C instanceof F.ZR&&_i(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function _i({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class mn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),C)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class tr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oe(this.lastLoginAt),this.creationTime=Oe(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ls(v){return $.apply(this,arguments)}function $(){return($=(0,l.Z)(function*(v){var f;const g=v.auth,C=yield v.getIdToken(),A=yield En(v,ks(g,{idToken:C}));xe(null==A?void 0:A.users.length,g,"internal-error");const P=A.users[0];v._notifyReloadListener(P);const J=(null===(f=P.providerUserInfo)||void 0===f?void 0:f.length)?ae(P.providerUserInfo):[],we=Me(v.providerData,J),bt=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==we?void 0:we.length)),pt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:we,metadata:new tr(P.createdAt,P.lastLoginAt),isAnonymous:bt};Object.assign(v,pt)})).apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(v){const f=(0,F.m9)(v);yield ls(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Me(v,f){return[...v.filter(C=>!f.some(A=>A.providerId===C.providerId)),...f]}function ae(v){return v.map(f=>{var{providerId:g}=f,C=(0,se._T)(f,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function qe(){return(qe=(0,l.Z)(function*(v,f){const g=yield cr(v,{},()=>{const C=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:P}=v.config,J=xr(v,A,"/v1/token",`key=${P}`);return Tt.fetch()(J,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){xe(f.idToken,"internal-error"),xe(void 0!==f.idToken,"internal-error"),xe(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(v){const f=tt(v);return xe(f,"internal-error"),xe(void 0!==f.exp,"internal-error"),xe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var C=this;return(0,l.Z)(function*(){return xe(!C.accessToken||C.refreshToken,f,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var C=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:J}=yield function(v,f){return qe.apply(this,arguments)}(f,g);C.updateTokensAndExpiration(A,P,Number(J))})()}updateTokensAndExpiration(f,g,C){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,g){const{refreshToken:C,accessToken:A,expirationTime:P}=g,J=new Nt;return C&&(xe("string"==typeof C,"internal-error",{appName:f}),J.refreshToken=C),A&&(xe("string"==typeof A,"internal-error",{appName:f}),J.accessToken=A),P&&(xe("number"==typeof P,"internal-error",{appName:f}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return re("not implemented")}}function rn(v,f){xe("string"==typeof v||void 0===v,"internal-error",{appName:f})}class Qt{constructor(f){var{uid:g,auth:C,stsTokenManager:A}=f,P=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new tr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,l.Z)(function*(){const C=yield En(g,g.stsTokenManager.getToken(g.auth,f));return xe(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(f){return function(v){return ln.apply(this,arguments)}(this,f)}reload(){return function(v){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(xe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var C=this;return(0,l.Z)(function*(){let A=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield ls(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,l.Z)(function*(){const g=yield f.getIdToken();return yield En(f,function(v,f){return ti.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var C,A,P,J,we,Ge,st,bt;const pt=null!==(C=g.displayName)&&void 0!==C?C:void 0,pr=null!==(A=g.email)&&void 0!==A?A:void 0,ui=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,$r=null!==(J=g.photoURL)&&void 0!==J?J:void 0,Sh=null!==(we=g.tenantId)&&void 0!==we?we:void 0,pp=null!==(Ge=g._redirectEventId)&&void 0!==Ge?Ge:void 0,xh=null!==(st=g.createdAt)&&void 0!==st?st:void 0,gp=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:gv,emailVerified:Sm,isAnonymous:mp,providerData:Mh,stsTokenManager:mv}=g;xe(gv&&mv,f,"internal-error");const Qc=Nt.fromJSON(this.name,mv);xe("string"==typeof gv,f,"internal-error"),rn(pt,f.name),rn(pr,f.name),xe("boolean"==typeof Sm,f,"internal-error"),xe("boolean"==typeof mp,f,"internal-error"),rn(ui,f.name),rn($r,f.name),rn(Sh,f.name),rn(pp,f.name),rn(xh,f.name),rn(gp,f.name);const ws=new Qt({uid:gv,auth:f,email:pr,emailVerified:Sm,displayName:pt,isAnonymous:mp,photoURL:$r,phoneNumber:ui,tenantId:Sh,stsTokenManager:Qc,createdAt:xh,lastLoginAt:gp});return Mh&&Array.isArray(Mh)&&(ws.providerData=Mh.map(lw=>Object.assign({},lw))),pp&&(ws._redirectEventId=pp),ws}static _fromIdTokenResponse(f,g,C=!1){return(0,l.Z)(function*(){const A=new Nt;A.updateFromServerResponse(g);const P=new Qt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:C});return yield ls(P),P})()}}const At=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,C){var A=this;return(0,l.Z)(function*(){A.storage[g]=C})()}_get(g){var C=this;return(0,l.Z)(function*(){const A=C.storage[g];return void 0===A?null:A})()}_remove(g){var C=this;return(0,l.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return v.type="NONE",v})();function fn(v,f,g){return`firebase:${v}:${f}:${g}`}class dr{constructor(f,g,C){this.persistence=f,this.auth=g,this.userKey=C;const{config:A,name:P}=this.auth;this.fullUserKey=fn(this.userKey,A.apiKey,P),this.fullPersistenceKey=fn("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Qt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,l.Z)(function*(){if(g.persistence===f)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,C="authUser"){return(0,l.Z)(function*(){if(!g.length)return new dr(le(At),f,C);const A=(yield Promise.all(g.map(function(){var st=(0,l.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return st.apply(this,arguments)}}()))).filter(st=>st);let P=A[0]||le(At);const J=fn(C,f.config.apiKey,f.name);let we=null;for(const st of g)try{const bt=yield st._get(J);if(bt){const pt=Qt._fromJSON(f,bt);st!==P&&(we=pt),P=st;break}}catch(bt){}const Ge=A.filter(st=>st._shouldAllowMigration);return P._shouldAllowMigration&&Ge.length?(P=Ge[0],we&&(yield P._set(J,we.toJSON())),yield Promise.all(g.map(function(){var st=(0,l.Z)(function*(bt){if(bt!==P)try{yield bt._remove(J)}catch(pt){}});return function(bt){return st.apply(this,arguments)}}())),new dr(P,f,C)):new dr(P,f,C)})()}}function ma(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(po(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ho(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Uo(f))return"Blackberry";if(cs(f))return"Webos";if(ya(f))return"Safari";if((f.includes("chrome/")||fo(f))&&!f.includes("edge/"))return"Chrome";if(Mr(f))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function ho(v=(0,F.z$)()){return/firefox\//i.test(v)}function ya(v=(0,F.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function fo(v=(0,F.z$)()){return/crios\//i.test(v)}function po(v=(0,F.z$)()){return/iemobile/i.test(v)}function Mr(v=(0,F.z$)()){return/android/i.test(v)}function Uo(v=(0,F.z$)()){return/blackberry/i.test(v)}function cs(v=(0,F.z$)()){return/webos/i.test(v)}function vi(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function Wi(v=(0,F.z$)()){return vi(v)||Mr(v)||cs(v)||Uo(v)||/windows phone/i.test(v)||po(v)}function nr(v,f=[]){let g;switch(v){case"Browser":g=ma((0,F.z$)());break;case"Worker":g=`${ma((0,F.z$)())}-${v}`;break;default:g=v}const C=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${C}`}class il{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var C=this;return g&&(this._popupRedirectResolver=le(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A;C._deleted||(C.persistenceManager=yield dr.create(C,f),!C._deleted&&((null===(A=C._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(g),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,l.Z)(function*(){var C;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,J=null==A?void 0:A._redirectEventId,we=yield g.tryRedirectSignIn(f);(!P||P===J)&&(null==we?void 0:we.user)&&(A=we.user)}return A?A._redirectEventId?(xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,l.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,l.Z)(function*(){try{yield ls(f)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,l.Z)(function*(){const C=f?(0,F.m9)(f):null;return C&&xe(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return f&&xe(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(le(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,C){return this.registerStateListener(this.authStateSubscription,f,g,C)}onIdTokenChanged(f,g,C){return this.registerStateListener(this.idTokenSubscription,f,g,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var C=this;return(0,l.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const C=f&&le(f)||g._popupRedirectResolver;xe(C,g,"argument-error"),g.redirectPersistenceManager=yield dr.create(g,[le(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,l.Z)(function*(){var C,A;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,l.Z)(function*(){if(f===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,C,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,C,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Wt(v){return(0,F.m9)(v)}class Ze{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pn(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ki(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class $n{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return re("not implemented")}_getIdTokenResponse(f){return re("not implemented")}_linkToIdToken(f,g){return re("not implemented")}_getReauthenticationResolver(f){return re("not implemented")}}function In(v,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:resetPassword",rt(v,f))})).apply(this,arguments)}function Lr(v,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function jo(v,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",rt(v,f))})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithPassword",rt(v,f))})).apply(this,arguments)}function rr(v,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:sendOobCode",rt(v,f))})).apply(this,arguments)}function qn(v,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function Xt(v,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function sl(v,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function ol(v,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithEmailLink",rt(v,f))})).apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithEmailLink",rt(v,f))})).apply(this,arguments)}class hr extends $n{constructor(f,g,C,A=null){super("password",C),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new hr(f,g,"password")}static _fromEmailAndCode(f,g,C=null){return new hr(f,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function(v,f){return Fn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,f){return hs.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:De(f,"internal-error")}})()}_linkToIdToken(f,g){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Lr(f,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,f){return Ho.apply(this,arguments)}(f,{idToken:g,email:C._email,oobCode:C._password});default:De(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Rt(v,f){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithIdp",rt(v,f))})).apply(this,arguments)}class Ln extends $n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ln(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:A}=g,P=(0,se._T)(g,["providerId","signInMethod"]);if(!C||!A)return null;const J=new Ln(C,A);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(f){return Rt(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,Rt(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Rt(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function bi(v,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:sendVerificationCode",rt(v,f))})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,f))})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(v,f){const g=yield Fr(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,f));if(g.temporaryProof)throw Oi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const mc={USER_NOT_FOUND:"user-not-found"};function qo(){return(qo=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),mc)})).apply(this,arguments)}class mo extends $n{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new mo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new mo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(v,f){return go.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(v,f){return fs.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(v,f){return qo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:C,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:C,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:C,phoneNumber:A,temporaryProof:P}=f;return C||g||A||P?new mo({verificationId:g,verificationCode:C,phoneNumber:A,temporaryProof:P}):null}}class Ns{constructor(f){var g,C,A,P,J,we;const Ge=(0,F.zd)((0,F.pd)(f)),st=null!==(g=Ge.apiKey)&&void 0!==g?g:null,bt=null!==(C=Ge.oobCode)&&void 0!==C?C:null,pt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ge.mode)&&void 0!==A?A:null);xe(st&&bt&&pt,"argument-error"),this.apiKey=st,this.operation=pt,this.code=bt,this.continueUrl=null!==(P=Ge.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Ge.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(we=Ge.tenantId)&&void 0!==we?we:null}static parseLink(f){const g=function(v){const f=(0,F.zd)((0,F.pd)(v)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,C=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(C?(0,F.zd)((0,F.pd)(C)).link:null)||C||g||f||v}(f);try{return new Ns(g)}catch(C){return null}}}let Rs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,C){return hr._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const A=Ns.parseLink(C);return xe(A,"argument-error"),hr._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ci{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class yo extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ps extends yo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),Ln._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return xe(f.idToken||f.accessToken,"argument-error"),Ln._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ps.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ps.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:P,nonce:J,providerId:we}=f;if(!C&&!A&&!g&&!P||!we)return null;try{return new ps(we)._credential({idToken:g,accessToken:C,nonce:J,pendingToken:P})}catch(Ge){return null}}}let mu=(()=>{class v extends yo{constructor(){super("facebook.com")}static credential(g){return Ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Go=(()=>{class v extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:A}=g;if(!C&&!A)return null;try{return v.credential(C,A)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),U=(()=>{class v extends yo{constructor(){super("github.com")}static credential(g){return Ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ke extends $n{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Rt(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,Rt(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Rt(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:A,pendingToken:P}=g;return C&&A&&P&&C===A?new ke(C,P):null}static _create(f,g){return new ke(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let dt=(()=>{class v extends yo{constructor(){super("twitter.com")}static credential(g,C){return Ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=g;if(!C||!A)return null;try{return v.credential(C,A)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function _n(v,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signUp",rt(v,f))})).apply(this,arguments)}class sn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,C,A=!1){return(0,l.Z)(function*(){const P=yield Qt._fromIdTokenResponse(f,C,A),J=vn(C);return new sn({user:P,providerId:J,_tokenResponse:C,operationType:g})})()}static _forOperation(f,g,C){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const A=vn(C);return new sn({user:f,providerId:A,_tokenResponse:C,operationType:g})})()}}function vn(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function sr(){return(sr=(0,l.Z)(function*(v){var f;const g=Wt(v);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new sn({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield _n(g,{returnSecureToken:!0}),A=yield sn._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class zn extends F.ZR{constructor(f,g,C,A){var P;super(g.code,g.message),this.operationType=C,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,zn.prototype),this.appName=f.name,this.code=g.code,this.tenantId=null!==(P=f.tenantId)&&void 0!==P?P:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(f,g,C,A){return new zn(f,g,C,A)}}function fr(v,f,g,C){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?zn._fromErrorAndOperation(v,P,f,C):P})}function Ur(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function br(){return(br=(0,l.Z)(function*(v,f){const g=(0,F.m9)(v);yield jr(!0,g,f);const{providerUserInfo:C}=yield Mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Ur(C||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ni(v,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,f,g=!1){const C=yield En(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return sn._forOperation(v,"link",C)})).apply(this,arguments)}function jr(v,f,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(v,f,g){yield ls(f);const A=!1===v?"provider-already-linked":"no-such-provider";xe(Ur(f.providerData).has(g)===v,f.auth,A)})).apply(this,arguments)}function ba(v,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,f,g=!1){const{auth:C}=v,A="reauthenticate";try{const P=yield En(v,fr(C,A,f,v),g);xe(P.idToken,C,"internal-error");const J=tt(P.idToken);xe(J,C,"internal-error");const{sub:we}=J;return xe(v.uid===we,C,"user-mismatch"),sn._forOperation(v,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&De(C,"user-mismatch"),P}})).apply(this,arguments)}function ul(v,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(v,f,g=!1){const C="signIn",A=yield fr(v,C,f),P=yield sn._fromIdTokenResponse(v,C,A);return g||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function ll(v,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(v,f){return ul(Wt(v),f)})).apply(this,arguments)}function rh(v,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(v,f){const g=(0,F.m9)(v);return yield jr(!1,g,f.providerId),ni(g,f)})).apply(this,arguments)}function yu(v,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(v,f){return ba((0,F.m9)(v),f)})).apply(this,arguments)}function Uf(v,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(v,f){return Fr(v,"POST","/v1/accounts:signInWithCustomToken",rt(v,f))})).apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(v,f){const g=Wt(v),C=yield Uf(g,{token:f,returnSecureToken:!0}),A=yield sn._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Wo{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?wa._fromServerResponse(f,g):De(f,"internal-error")}}class wa extends Wo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new wa(g)}}function _u(v,f,g){var C;xe((null===(C=g.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),xe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ea(){return(Ea=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v),A={requestType:"PASSWORD_RESET",email:f};g&&_u(C,A,g),yield Xt(C,A)})).apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(v,f,g){yield In((0,F.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(v,f){yield jo((0,F.m9)(v),{oobCode:f})})).apply(this,arguments)}function Ia(v,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(v,f){const g=(0,F.m9)(v),C=yield In(g,{oobCode:f}),A=C.requestType;switch(xe(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(C.mfaInfo,g,"internal-error");default:xe(C.email,g,"internal-error")}let P=null;return C.mfaInfo&&(P=Wo._fromServerResponse(Wt(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(v,f){const{data:g}=yield Ia((0,F.m9)(v),f);return g.email})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(v,f,g){const C=Wt(v),A=yield _n(C,{returnSecureToken:!0,email:f,password:g}),P=yield sn._fromIdTokenResponse(C,"signIn",A);return yield C._updateCurrentUser(P.user),P})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v),A={requestType:"EMAIL_SIGNIN",email:f};xe(g.handleCodeInApp,C,"argument-error"),g&&_u(C,A,g),yield sl(C,A)})).apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v),A=Rs.credentialWithLink(f,g||at());return xe(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ll(C,A)})).apply(this,arguments)}function vu(v,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:createAuthUri",rt(v,f))})).apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(v,f){const C={identifier:f,continueUri:Gt()?at():"http://localhost"},{signinMethods:A}=yield vu((0,F.m9)(v),C);return A||[]})).apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(v,f){const g=(0,F.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&_u(g.auth,A,f);const{email:P}=yield qn(g.auth,A);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&_u(C.auth,P,g);const{email:J}=yield ol(C.auth,P);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function fl(v,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const C=(0,F.m9)(v),P={idToken:yield C.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield En(C,fl(C.auth,P));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const we=C.providerData.find(({providerId:Ge})=>"password"===Ge);we&&(we.displayName=C.displayName,we.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)})).apply(this,arguments)}function Cu(v,f,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(v,f,g){const{auth:C}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const J=yield En(v,Lr(C,P));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Yo{constructor(f,g,C={}){this.isNewUser=f,this.providerId=g,this.profile=C}}class Cc extends Yo{constructor(f,g,C,A){super(f,g,C),this.username=A}}class jf extends Yo{constructor(f,g){super(f,"facebook.com",g)}}class uh extends Cc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Jo extends Yo{constructor(f,g){super(f,"google.com",g)}}class lh extends Cc{constructor(f,g,C){super(f,"twitter.com",g,C)}}function gl(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var f,g;if(!v)return null;const{providerId:C}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const J=null===(g=null===(f=tt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Yo(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new jf(P,A);case"github.com":return new uh(P,A);case"google.com":return new Jo(P,A);case"twitter.com":return new lh(P,A,v.screenName||null);case"custom":case"anonymous":return new Yo(P,null);default:return new Yo(P,C,A)}}(g)}class vs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new vs("enroll",f)}static _fromMfaPendingCredential(f){return new vs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,C;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return vs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(C=f.multiFactorSession)||void 0===C?void 0:C.idToken)return vs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class wc{constructor(f,g,C){this.session=f,this.hints=g,this.signInResolver=C}static _fromError(f,g){const C=Wt(f),A=(g.serverResponse.mfaInfo||[]).map(J=>Wo._fromServerResponse(C,J));xe(g.serverResponse.mfaPendingCredential,C,"internal-error");const P=vs._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new wc(P,A,function(){var J=(0,l.Z)(function*(we){const Ge=yield we._process(C,P);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const st=Object.assign(Object.assign({},g.serverResponse),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(g.operationType){case"signIn":const bt=yield sn._fromIdTokenResponse(C,g.operationType,st);return yield C._updateCurrentUser(bt.user),bt;case"reauthenticate":return xe(g.user,C,"internal-error"),sn._forOperation(g.user,g.operationType,st);default:De(C,"internal-error")}});return function(we){return J.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,l.Z)(function*(){return g.signInResolver(f)})()}}function dh(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:start",rt(v,f))}class Sa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Wo._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new Sa(f)}getSession(){var f=this;return(0,l.Z)(function*(){return vs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var C=this;return(0,l.Z)(function*(){const A=f,P=yield C.getSession(),J=yield En(C.user,A._process(C.user.auth,P,g));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(f){var g=this;return(0,l.Z)(function*(){const C="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),P=yield En(g.user,function(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(v,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==C),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const xa=new WeakMap,Qo="__sak";class Tc{constructor(f,g){this.storage=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Qo,"1"),this.storage.removeItem(Qo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const ml=(()=>{class v extends Tc{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,F.z$)();return ya(v)||vi(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Wi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),P=this.localCache[C];A!==P&&g(C,P,A)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((we,Ge,st)=>{this.notifyListeners(we,st)});const A=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const we=this.storage.getItem(A);if(g.newValue!==we)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!C)return}const P=()=>{const we=this.storage.getItem(A);!C&&this.localCache[A]===we||this.notifyListeners(A,we)},J=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(P,10):P()}notifyListeners(g,C){this.localCache[g]=C;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var A=()=>super._set,P=this;return(0,l.Z)(function*(){yield A().call(P,g,C),P.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,A=this;return(0,l.Z)(function*(){const P=yield C().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var C=()=>super._remove,A=this;return(0,l.Z)(function*(){yield C().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),Us=(()=>{class v extends Tc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return v.type="SESSION",v})();let Co=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(P=>P.isListeningto(g));if(C)return C;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,l.Z)(function*(){const A=g,{eventId:P,eventType:J,data:we}=A.data,Ge=C.handlersMap[J];if(!(null==Ge?void 0:Ge.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const st=Array.from(Ge).map(function(){var pt=(0,l.Z)(function*(pr){return pr(A.origin,we)});return function(pr){return pt.apply(this,arguments)}}()),bt=yield function(v){return Promise.all(v.map(function(){var f=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return f.apply(this,arguments)}}()))}(st);A.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:bt})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Eu(v="",f=10){let g="";for(let C=0;C<f;C++)g+=Math.floor(10*Math.random());return v+g}class cm{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,C=50){var A=this;return(0,l.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,we;return new Promise((Ge,st)=>{const bt=Eu("",20);P.port1.start();const pt=setTimeout(()=>{st(new Error("unsupported_event"))},C);we={messageChannel:P,onMessage(pr){const ui=pr;if(ui.data.eventId===bt)switch(ui.data.status){case"ack":clearTimeout(pt),J=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ge(ui.data.response);break;default:clearTimeout(pt),clearTimeout(J),st(new Error("invalid_response"))}}},A.handlers.add(we),P.port1.addEventListener("message",we.onMessage),A.target.postMessage({eventType:f,eventId:bt,data:g},[P.port2])}).finally(()=>{we&&A.removeMessageHandler(we)})})()}}function Sn(){return window}function yl(){return void 0!==Sn().WorkerGlobalScope&&"function"==typeof Sn().importScripts}function _l(){return(_l=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const bl="firebaseLocalStorageDb",Pa="firebaseLocalStorage",Oa="fbase_key";class Cl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Na(v,f){return v.transaction([Pa],f?"readwrite":"readonly").objectStore(Pa)}function Un(){const v=indexedDB.open(bl,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Pa,{keyPath:Oa})}catch(A){g(A)}}),v.addEventListener("success",(0,l.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Pa)?f(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(bl);return new Cl(v).toPromise()}(),f(yield Un()))}))})}function Du(v,f,g){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(v,f,g){const C=Na(v,!0).put({[Oa]:f,value:g});return new Cl(C).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(v,f){const g=Na(v,!1).get(f),C=yield new Cl(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function js(v,f){const g=Na(v,!0).delete(f);return new Cl(g).toPromise()}const La=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Un()),g.db})()}_withRetries(g){var C=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const P=yield C._openDb();return yield g(P)}catch(P){if(A++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return yl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Co._getInstance(yl()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var C,A;if(g.activeServiceWorker=yield function(){return _l.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new cm(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(C=P[0])||void 0===C?void 0:C.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Un();return yield Du(g,Qo,"1"),yield js(g,Qo),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(P=>Du(P,g,C)),A.localCache[g]=C,A.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,l.Z)(function*(){const A=yield C._withRetries(P=>function(v,f){return Fa.apply(this,arguments)}(P,g));return C.localCache[g]=A,A})()}_remove(g){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(A=>js(A,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const C=yield g._withRetries(J=>{const we=Na(J,!1).getAll();return new Cl(we).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:J,value:we}of C)P.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(we)&&(g.notifyListeners(J,we),A.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!P.has(J)&&(g.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(g,C){this.localCache[g]=C;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function wl(v,f){return Ot(v,"POST","/v2/accounts/mfaSignIn:start",rt(v,f))}function Sc(){return(Sc=(0,l.Z)(function*(v){return(yield Ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ii(v){return new Promise((f,g)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=f,C.onerror=A=>{const P=Ue("internal-error");P.customData=A,g(P)},C.type="text/javascript",C.charset="UTF-8",function(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(C)})}function Au(v){return`__${v}${Math.floor(1e6*Math.random())}`}const $s=1e12;class xc{constructor(f){this.auth=f,this.counter=$s,this._widgets=new Map}render(f,g){const C=this.counter;return this._widgets.set(C,new Mc(f,this.auth.name,g||{})),this.counter++,C}reset(f){var g;const C=f||$s;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(f){var g;return(null===(g=this._widgets.get(f||$s))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,l.Z)(function*(){var C;return null===(C=g._widgets.get(f||$s))||void 0===C||C.execute(),""})()}}class Mc{constructor(f,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;xe(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qs=Au("rcb"),Gs=new Hn(3e4,6e4);class Su{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Sn().grecaptcha}load(f,g=""){return xe((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Sn().grecaptcha):new Promise((C,A)=>{const P=Sn().setTimeout(()=>{A(Ue(f,"network-request-failed"))},Gs.get());Sn()[qs]=()=>{Sn().clearTimeout(P),delete Sn()[qs];const we=Sn().grecaptcha;if(!we)return void A(Ue(f,"internal-error"));const Ge=we.render;we.render=(st,bt)=>{const pt=Ge(st,bt);return this.counter++,pt},this.hostLanguage=g,C(we)},Ii(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:qs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(Ue(f,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Sn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xo{load(f){return(0,l.Z)(function*(){return new xc(f)})()}clearedOneInstance(){}}const wo="recaptcha",ph={theme:"light",type:"image"};class Pc{constructor(f,g=Object.assign({},ph),C){this.parameters=g,this.type=wo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(C),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;xe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xo:new Su,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(g)||new Promise(P=>{const J=we=>{!we||(f.tokenChangeListeners.delete(J),P(we))};f.tokenChangeListeners.add(J),f.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof f)f(g);else if("string"==typeof f){const C=Sn()[f];"function"==typeof C&&C(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){xe(Gt()&&!yl(),f.auth,"internal-error"),yield function(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(v){return Sc.apply(this,arguments)}(f.auth);xe(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Il{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=mo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Tl(){return(Tl=(0,l.Z)(function*(v,f,g){const C=Wt(v),A=yield Ua(C,f,(0,F.m9)(g));return new Il(A,P=>ll(C,P))})).apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v);yield jr(!1,C,"phone");const A=yield Ua(C.auth,f,(0,F.m9)(g));return new Il(A,P=>rh(C,P))})).apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v),A=yield Ua(C.auth,f,(0,F.m9)(g));return new Il(A,P=>yu(C,P))})).apply(this,arguments)}function Ua(v,f,g){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(v,f,g){var C;const A=yield g.verify();try{let P;if(xe("string"==typeof A,v,"argument-error"),xe(g.type===wo,v,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const J=P.session;if("phoneNumber"in P)return xe("enroll"===J.type,v,"internal-error"),(yield dh(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{xe("signin"===J.type,v,"internal-error");const we=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return xe(we,v,"missing-multi-factor-info"),(yield wl(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:we,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield bi(v,{phoneNumber:P.phoneNumber,recaptchaToken:A});return J}}finally{g._reset()}})).apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(v,f){yield ni((0,F.m9)(v),f)})).apply(this,arguments)}let zs=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Wt(g)}verifyPhoneNumber(g,C){return Ua(this.auth,g,(0,F.m9)(C))}static credential(g,C){return mo._fromVerification(g,C)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:A}=g;return C&&A?mo._fromTokenResponse(C,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ws(v,f){return f?le(f):(xe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ea extends $n{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Rt(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Rt(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Rt(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function dm(v){return ul(v.auth,new ea(v),v.bypassAuthState)}function $t(v){const{auth:f,user:g}=v;return xe(g,f,"internal-error"),ba(g,new ea(v),v.bypassAuthState)}function es(v){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(v){const{auth:f,user:g}=v;return xe(g,f,"internal-error"),ni(g,new ea(v),v.bypassAuthState)})).apply(this,arguments)}class ku{constructor(f,g,C,A,P=!1){this.auth=f,this.resolver=C,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,l.Z)(function*(C,A){f.pendingPromise={resolve:C,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(C,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:P,tenantId:J,error:we,type:Ge}=f;if(we)return void g.reject(we);const st={auth:g.auth,requestUri:C,sessionId:A,tenantId:J||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ge)(st))}catch(bt){g.reject(bt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return dm;case"linkViaPopup":case"linkViaRedirect":return es;case"reauthViaPopup":case"reauthViaRedirect":return $t;default:De(this.auth,"internal-error")}}resolve(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gf=new Hn(2e3,1e4);function Tr(){return(Tr=(0,l.Z)(function*(v,f,g){const C=Wt(v);wt(v,f,Ci);const A=Ws(C,g);return new gh(C,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v);wt(C.auth,f,Ci);const A=Ws(C.auth,g);return new gh(C.auth,"reauthViaPopup",f,A,C).executeNotNull()})).apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v);wt(C.auth,f,Ci);const A=Ws(C.auth,g);return new gh(C.auth,"linkViaPopup",f,A,C).executeNotNull()})).apply(this,arguments)}let gh=(()=>{class v extends ku{constructor(g,C,A,P,J){super(g,C,P,J),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const C=yield g.execute();return xe(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,l.Z)(function*(){ue(1===g.filter.length,"Popup operations only handle one event");const C=Eu();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,A;this.pollId=(null===(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Gf.get())};g()}}return v.currentPopupAction=null,v})();const Wf=new Map;class tv extends ku{constructor(f,g,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,l.Z)(function*(){let C=Wf.get(g.auth._key());if(!C){try{const P=(yield function(v,f){return E.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;C=()=>Promise.resolve(P)}catch(A){C=()=>Promise.reject(A)}Wf.set(g.auth._key(),C)}return C()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(C,f);if("unknown"!==f.type){if(f.eventId){const A=yield C.auth._redirectUserForId(f.eventId);if(A)return C.user=A,g().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function E(){return(E=(0,l.Z)(function*(v,f){const g=me(f),C="true"===(yield X(v)._get(g));return yield X(v)._remove(g),C})).apply(this,arguments)}function T(v,f){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(v,f){return X(v)._set(me(f),"true")})).apply(this,arguments)}function X(v){return le(v._redirectPersistence)}function me(v){return fn("pendingRedirect",v.config.apiKey,v.name)}function We(){return(We=(0,l.Z)(function*(v,f,g){const C=Wt(v);wt(v,f,Ci);const A=Ws(C,g);return yield T(A,C),A._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v);wt(C.auth,f,Ci);const A=Ws(C.auth,g);yield T(A,C.auth);const P=yield Rc(C);return A._openRedirect(C.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(v,f,g){const C=(0,F.m9)(v);wt(C.auth,f,Ci);const A=Ws(C.auth,g);yield jr(!1,C,f.providerId),yield T(A,C.auth);const P=yield Rc(C);return A._openRedirect(C.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(v,f){return yield Wt(v)._initializationPromise,bs(v,f,!1)})).apply(this,arguments)}function bs(v,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(v,f,g=!1){const C=Wt(v),A=Ws(C,f),J=yield new tv(C,A,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,f)),J})).apply(this,arguments)}function Rc(v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,l.Z)(function*(v){const f=Eu(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Nu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(g=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var C;if(f.error&&!Ks(f)){const A=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Ue(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const C=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(f))}saveEventToCache(f){this.cachedEventUids.add(Fc(f)),this.lastProcessedEventTime=Date.now()}}function Fc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Ks({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function xn(v){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(v,f={}){return Ot(v,"GET","/v1/projects",f)})).apply(this,arguments)}const XC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,na=/^https?/;function Lc(){return(Lc=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield xn(v);for(const g of f)try{if(Kf(g))return}catch(C){}De(v,"unauthorized-domain")})).apply(this,arguments)}function Kf(v){const f=at(),{protocol:g,hostname:C}=new URL(f);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===C?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===C}if(!na.test(g))return!1;if(XC.test(v))return C===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const yh=new Hn(3e4,6e4);function Yf(){const v=Sn().___jsl;if(null==v?void 0:v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let oi=null;function Ml(v){return oi=oi||function(v){return new Promise((f,g)=>{var C,A,P;function J(){Yf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Yf(),g(Ue(v,"network-request-failed"))},timeout:yh.get()})}if(null===(A=null===(C=Sn().gapi)||void 0===C?void 0:C.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(P=Sn().gapi)||void 0===P?void 0:P.load)){const we=Au("iframefcb");return Sn()[we]=()=>{gapi.load?J():g(Ue(v,"network-request-failed"))},Ii(`https://apis.google.com/js/api.js?onload=${we}`)}J()}}).catch(f=>{throw oi=null,f})}(v),oi}const Ba=new Hn(5e3,15e3),ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Vc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nv(v){const f=v.config;xe(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?nn(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:v.name,v:ce.SDK_VERSION},A=Vc.get(v.config.apiHost);A&&(C.eid=A);const P=v._getFrameworks();return P.length&&(C.fw=P.join(",")),`${g}?${(0,F.xO)(C).slice(1)}`}function pm(){return(pm=(0,l.Z)(function*(v){const f=yield Ml(v),g=Sn().gapi;return xe(g,v,"internal-error"),f.open({where:document.body,url:nv(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ra,dontclear:!0},C=>new Promise(function(){var A=(0,l.Z)(function*(P,J){yield C.restyle({setHideOnLeave:!1});const we=Ue(v,"network-request-failed"),Ge=Sn().setTimeout(()=>{J(we)},Ba.get());function st(){Sn().clearTimeout(Ge),P(C)}C.ping(st).then(st,()=>{J(we)})});return function(P,J){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const Uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jf{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Pl(v,f,g,C,A,P){xe(v.config.authDomain,v,"auth-domain-config-required"),xe(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:C,v:ce.SDK_VERSION,eventId:A};if(f instanceof Ci){f.setDefaultLanguage(v.languageCode),J.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ge,st]of Object.entries(P||{}))J[Ge]=st}if(f instanceof yo){const Ge=f.getScopes().filter(st=>""!==st);Ge.length>0&&(J.scopes=Ge.join(","))}v.tenantId&&(J.tid=v.tenantId);const we=J;for(const Ge of Object.keys(we))void 0===we[Ge]&&delete we[Ge];return`${function({config:v}){return v.emulator?nn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(we).slice(1)}`}const ia="webStorageSupport";class Ru extends class{constructor(f){this.factorId=f}_process(f,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,C);case"signin":return this._finalizeSignIn(f,g.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ru(f)}_finalizeEnroll(f,g,C){return function(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",rt(v,f))}(f,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(v,f){return Ot(v,"POST","/v2/accounts/mfaSignIn:finalize",rt(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zc=(()=>{class v{constructor(){}static assertion(g){return Ru._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,Xf="@firebase/auth";class _m{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(C=>{var A;f((null===(A=C)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fu(){return window}function Js(){return(Js=(0,l.Z)(function*(v,f,g){var C;const{BuildInfo:A}=Fu();ue(f.sessionId,"AuthEvent did not contain a session ID");const P=yield uv(f.sessionId),J={};return vi()?J.ibi=A.packageName:Mr()?J.apn=A.packageName:De(v,"operation-not-supported-in-this-environment"),A.displayName&&(J.appDisplayName=A.displayName),J.sessionId=P,Pl(v,g,f.type,void 0,null!==(C=f.eventId)&&void 0!==C?C:void 0,J)})).apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(v){const{BuildInfo:f}=Fu(),g={};vi()?g.iosBundleId=f.packageName:Mr()?g.androidPackageName=f.packageName:De(v,"operation-not-supported-in-this-environment"),yield xn(v,g)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,f,g){const{cordova:C}=Fu();let A=()=>{};try{yield new Promise((P,J)=>{let we=null;function Ge(){var pt;P();const pr=null===(pt=C.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof pr&&pr(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function st(){we||(we=window.setTimeout(()=>{J(Ue(v,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&st()}f.addPassiveListener(Ge),document.addEventListener("resume",st,!1),Mr()&&document.addEventListener("visibilitychange",bt,!1),A=()=>{f.removePassiveListener(Ge),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",bt,!1),we&&window.clearTimeout(we)}})}finally{A()}})).apply(this,arguments)}function uv(v){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(v){const f=lv(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lv(v){if(ue(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let C=0;C<v.length;C++)g[C]=v.charCodeAt(C);return g}v="Browser",(0,ce._registerComponent)(new Ce.wA("auth",(f,{options:g})=>{const C=f.getProvider("app").getImmediate(),{apiKey:A,authDomain:P}=C.options;return(J=>{xe(A&&!A.includes(":"),"invalid-api-key",{appName:J.name}),xe(!(null==P?void 0:P.includes(":")),"argument-error",{appName:J.name});const we={apiKey:A,authDomain:P,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(v)},Ge=new il(J,we);return function(v,f){const g=(null==f?void 0:f.persistence)||[],C=(Array.isArray(g)?g:[g]).map(le);(null==f?void 0:f.errorMap)&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(C,null==f?void 0:f.popupRedirectResolver)}(Ge,g),Ge})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,C)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ce.wA("auth-internal",f=>{const g=Wt(f.getProvider("auth").getImmediate());return new _m(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Xf,"0.18.3",void 0),(0,ce.registerVersion)(Xf,"0.18.3","esm2017");class rp extends Nu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function sp(v){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(v){const f=yield Ha()._get(Ch(v));return f&&(yield Ha()._remove(Ch(v))),f})).apply(this,arguments)}function Io(){const v=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*f.length);v.push(f.charAt(C))}return v.join("")}function Ha(){return le(ml)}function Ch(v){return fn("authEvent",v.config.apiKey,v.name)}function $c(v){if(!(null==v?void 0:v.includes("?")))return{};const[f,...g]=v.split("?");return(0,F.zd)(g.join("?"))}function Nl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function lp(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function fv(v=(0,F.z$)()){return!("file:"!==lp()&&"ionic:"!==lp()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function wh(){try{const v=self.localStorage,f=Eu();if(v)return v.setItem(f,"1"),v.removeItem(f),!function(v=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return Im()&&(0,F.hl)()}return!1}function Im(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ke(){return("http:"===lp()||"https:"===lp()||(0,F.ru)()||fv())&&!((0,F.b$)()||(0,F.UG)())&&wh()&&!Im()}function Hr(){return fv()&&"undefined"!=typeof document}function Ti(){return(Ti=(0,l.Z)(function*(){return!!Hr()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},zc=xe,Tm="persistence";function Eh(v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(v){yield v._initializationPromise;const f=pv(),g=fn(Tm,v.config.apiKey,v.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function pv(){return"undefined"!=typeof window?window:null}const Wc=xe;class Yn{constructor(){this.browserResolver=le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Us,this._completeRedirectFn=bs}_openPopup(f,g,C,A){var P=this;return(0,l.Z)(function*(){var J;ue(null===(J=P.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const we=Pl(f,g,C,at(),A);return function(v,f,g,C=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let we="";const Ge=Object.assign(Object.assign({},Uc),{width:C.toString(),height:A.toString(),top:P,left:J}),st=(0,F.z$)().toLowerCase();g&&(we=fo(st)?"_blank":g),ho(st)&&(f=f||"http://localhost",Ge.scrollbars="yes");const bt=Object.entries(Ge).reduce((pr,[ui,$r])=>`${pr}${ui}=${$r},`,"");if(function(v=(0,F.z$)()){var f;return vi(v)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(st)&&"_self"!==we)return function(v,f){const g=document.createElement("a");g.href=v,g.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(f||"",we),new Jf(null);const pt=window.open(f||"",we,bt);xe(pt,v,"popup-blocked");try{pt.focus()}catch(pr){}return new Jf(pt)}(f,we,Eu())})()}_openRedirect(f,g,C,A){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(f),v=Pl(f,g,C,at(),A),Sn().location.href=v,new Promise(()=>{});var v})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(ue(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(f);return this.eventManagers[g]={promise:C},C}initAndGetManager(f){var g=this;return(0,l.Z)(function*(){const C=yield function(v){return pm.apply(this,arguments)}(f),A=new Nu(f);return C.register("authEvent",P=>(xe(null==P?void 0:P.authEvent,f,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=C,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ia,{type:ia},A=>{var P;const J=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[ia];void 0!==J&&g(!!J),De(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Lc.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Wi()||ya()||vi()}}),this.cordovaResolver=le(class{constructor(){this._redirectPersistence=Us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bs}_initialize(f){var g=this;return(0,l.Z)(function*(){const C=f._key();let A=g.eventManagers.get(C);return A||(A=new rp(f),g.eventManagers.set(C,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){De(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,C,A){var P=this;return(0,l.Z)(function*(){!function(v){var f,g,C,A,P,J,we,Ge,st,bt;const pt=Fu();xe("function"==typeof(null===(f=null==pt?void 0:pt.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(g=null==pt?void 0:pt.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(P=null===(A=null===(C=null==pt?void 0:pt.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Ge=null===(we=null===(J=null==pt?void 0:pt.cordova)||void 0===J?void 0:J.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ge?void 0:Ge.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(bt=null===(st=null==pt?void 0:pt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===bt?void 0:bt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield P._initialize(f);yield J.initialized(),J.resetRedirect(),Wf.clear(),yield P._originValidation(f);const we=function(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Io(),postBody:null,tenantId:v.tenantId,error:Ue(v,"no-auth-event")}}(f,C,A);yield function(v,f){return Ha()._set(Ch(v),f)}(f,we);const Ge=yield function(v,f,g){return Js.apply(this,arguments)}(f,we,g),st=yield function(v){const{cordova:f}=Fu();return new Promise(g=>{f.plugins.browsertab.isAvailable(C=>{let A=null;C?f.plugins.browsertab.openUrl(v):A=f.InAppBrowser.open(v,function(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Ge);return function(v,f,g){return Ol.apply(this,arguments)}(f,J,st)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return bh.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:C,handleOpenURL:A,BuildInfo:P}=Fu(),J=setTimeout((0,l.Z)(function*(){yield sp(f),g.onEvent(Nl())}),500),we=function(){var bt=(0,l.Z)(function*(pt){clearTimeout(J);const pr=yield sp(f);let ui=null;pr&&(null==pt?void 0:pt.url)&&(ui=function(v,f){var g,C;const A=function(v){const f=$c(v),g=f.link?decodeURIComponent(f.link):void 0,C=$c(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return $c(A).link||A||C||g||v}(f);if(A.includes("/__/auth/callback")){const P=$c(A),J=P.firebaseError?function(v){try{return JSON.parse(v)}catch(f){return null}}(decodeURIComponent(P.firebaseError)):null,we=null===(C=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Ge=we?Ue(we):null;return Ge?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(pr,pt.url)),g.onEvent(ui||Nl())});return function(pr){return bt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,we);const Ge=A,st=`${P.packageName.toLowerCase()}://`;Fu().handleOpenURL=function(){var bt=(0,l.Z)(function*(pt){if(pt.toLowerCase().startsWith(st)&&we({url:pt}),"function"==typeof Ge)try{Ge(pt)}catch(pr){console.error(pr)}});return function(pt){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Us,this._completeRedirectFn=bs}_initialize(f){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,C,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,C,A)})()}_openRedirect(f,g,C,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,C,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Ti.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Kc(v){return v.unwrap()}function sa(v){return Rl(v)}function Rl(v){const{_tokenResponse:f}=v instanceof F.ZR?v.customData:v;if(!f)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return zs.credentialFromResult(v);const g=f.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Go;break;case"facebook.com":C=mu;break;case"github.com":C=U;break;case"twitter.com":C=dt;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:we,nonce:Ge}=f;return P||J||A||we?we?g.startsWith("saml.")?ke._create(g,we):Ln._fromParams({providerId:g,signInMethod:g,pendingToken:we,idToken:A,accessToken:P}):new ps(g).credential({idToken:A,accessToken:P,rawNonce:Ge}):null}return v instanceof F.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function ai(v,f){return f.catch(g=>{throw g instanceof F.ZR&&function(v,f){var g;const C=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new hp(v,function(v,f){var g;const C=(0,F.m9)(v),A=f;return xe(f.operationType,C,"argument-error"),xe(null===(g=A.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),wc._fromError(C,A)}(v,f));else if(C){const A=Rl(f),P=f;A&&(P.credential=A,P.tenantId=C.tenantId||void 0,P.email=C.email||void 0,P.phoneNumber=C.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:sa(g),additionalUserInfo:gl(g),user:oa.getOrCreate(A)}})}function Ih(v,f){return Th.apply(this,arguments)}function Th(){return(Th=(0,l.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:C=>ai(v,g.confirm(C))}})).apply(this,arguments)}class hp{constructor(f,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ai(Kc(this.auth),this.resolver.resolveSignIn(f))}}class oa{constructor(f){this._delegate=f,this.multiFactor=function(v){const f=(0,F.m9)(v);return xa.has(f)||xa.set(f,Sa._fromUser(f)),xa.get(f)}(f)}static getOrCreate(f){return oa.USER_MAP.has(f)||oa.USER_MAP.set(f,new oa(f)),oa.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,l.Z)(function*(){return ai(g.auth,rh(g._delegate,f))})()}linkWithPhoneNumber(f,g){var C=this;return(0,l.Z)(function*(){return Ih(C.auth,function(v,f,g){return Dl.apply(this,arguments)}(C._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,l.Z)(function*(){return ai(g.auth,function(v,f,g){return Pu.apply(this,arguments)}(g._delegate,f,Yn))})()}linkWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield Eh(Wt(g.auth)),function(v,f,g){return function(v,f,g){return ts.apply(this,arguments)}(v,f,g)}(g._delegate,f,Yn)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,l.Z)(function*(){return ai(g.auth,yu(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Ih(this.auth,function(v,f,g){return xu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ai(this.auth,function(v,f,g){return Ui.apply(this,arguments)}(this._delegate,f,Yn))}reauthenticateWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield Eh(Wt(g.auth)),function(v,f,g){return function(v,f,g){return Dr.apply(this,arguments)}(v,f,g)}(g._delegate,f,Yn)})()}sendEmailVerification(f){return function(v,f){return ms.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,l.Z)(function*(){return yield function(v,f){return br.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(v,f){return Cu((0,F.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function(v,f){return Cu((0,F.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(v,f){return Mu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(v,f){return bu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(v,f,g){return ii.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oa.USER_MAP=new WeakMap;const To=xe;let or=(()=>{class v{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;To(A,"invalid-api-key",{appName:g.name});let P=[At];if("undefined"!=typeof window){P=function(v,f){const g=pv();if(!(null==g?void 0:g.sessionStorage))return[];const C=fn(Tm,v,f);switch(g.sessionStorage.getItem(C)){case Wn.NONE:return[At];case Wn.LOCAL:return[La,Us];case Wn.SESSION:return[Us];default:return[]}}(A,g.name);for(const we of[La,ml,Us])P.includes(we)||P.push(we)}To(A,"invalid-api-key",{appName:g.name});const J="undefined"!=typeof window?Yn:void 0;this._delegate=C.initialize({options:{persistence:P,popupRedirectResolver:J}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(v,f,g){const C=Wt(v);xe(C._canInitEmulator,C,"emulator-config-failed"),xe(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),P=pn(f),{host:J,port:we}=function(v){const f=pn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const P=A[1];return{host:P,port:Ki(C.substr(P.length+1))}}{const[P,J]=C.split(":");return{host:P,port:Ki(J)}}}(f);C.config.emulator={url:`${P}//${J}${null===we?"":`:${we}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:we,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,C)}applyActionCode(g){return function(v,f){return Fs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ia(this._delegate,g)}confirmPasswordReset(g,C){return function(v,f,g){return mt.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var A=this;return(0,l.Z)(function*(){return ai(A._delegate,function(v,f,g){return Pe.apply(this,arguments)}(A._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,f){return hl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,f){const g=Ns.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){To(Ke(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(v,f){return ns.apply(this,arguments)}(g._delegate,Yn);return C?ai(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,f){Wt(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,C,A){const{next:P,error:J,complete:we}=Yc(g,C,A);return this._delegate.onAuthStateChanged(P,J,we)}onIdTokenChanged(g,C,A){const{next:P,error:J,complete:we}=Yc(g,C,A);return this._delegate.onIdTokenChanged(P,J,we)}sendSignInLinkToEmail(g,C){return function(v,f,g){return Vn.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(v,f,g){return Ea.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,l.Z)(function*(){let A;switch(function(v,f){zc(Object.values(Wn).includes(f),v,"invalid-persistence-type"),(0,F.b$)()?zc(f!==Wn.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?zc(f===Wn.NONE,v,"unsupported-persistence-type"):Im()?zc(f===Wn.NONE||f===Wn.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):zc(f===Wn.NONE||wh(),v,"unsupported-persistence-type")}(C._delegate,g),g){case Wn.SESSION:A=Us;break;case Wn.LOCAL:A=(yield le(La)._isAvailable())?La:ml;break;case Wn.NONE:A=At;break;default:return De("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ai(this._delegate,function(v){return sr.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ai(this._delegate,ll(this._delegate,g))}signInWithCustomToken(g){return ai(this._delegate,function(v,f){return Cr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return ai(this._delegate,function(v,f,g){return ll((0,F.m9)(v),Rs.credential(f,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return ai(this._delegate,function(v,f,g){return Li.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return Ih(this._delegate,function(v,f,g){return Tl.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,l.Z)(function*(){return To(Ke(),C._delegate,"operation-not-supported-in-this-environment"),ai(C._delegate,function(v,f,g){return Tr.apply(this,arguments)}(C._delegate,g,Yn))})()}signInWithRedirect(g){var C=this;return(0,l.Z)(function*(){return To(Ke(),C._delegate,"operation-not-supported-in-this-environment"),yield Eh(C._delegate),function(v,f,g){return function(v,f,g){return We.apply(this,arguments)}(v,f,g)}(C._delegate,g,Yn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,f){return Ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Wn,v})();function Yc(v,f,g){let C=v;"function"!=typeof v&&({next:C,error:f,complete:g}=v);const A=C;return{next:J=>A(J&&oa.getOrCreate(J)),error:f,complete:g}}class Jc{constructor(){this.providerId="phone",this._delegate=new zs(Kc(te.Z.auth()))}static credential(f,g){return zs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Jc.PHONE_SIGN_IN_METHOD=zs.PHONE_SIGN_IN_METHOD,Jc.PROVIDER_ID=zs.PROVIDER_ID;const Dh=xe;class Am{constructor(f,g,C=te.Z.app()){var A;Dh(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Pc(f,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new Ce.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),C=f.getProvider("auth");return new or(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Rs,FacebookAuthProvider:mu,GithubAuthProvider:U,GoogleAuthProvider:Go,OAuthProvider:ps,PhoneAuthProvider:Jc,PhoneMultiFactorGenerator:Zc,RecaptchaVerifier:Am,TwitterAuthProvider:dt,Auth:or,AuthCredential:$n,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(te.Z)},6676:function(Xe,Se){!function(V){"use strict";function l(q){return Array.prototype.slice.call(q)}function te(q){return new Promise(function(ve,be){q.onsuccess=function(){ve(q.result)},q.onerror=function(){be(q.error)}})}function F(q,ve,be){var he,De=new Promise(function(Ue,je){te(he=q[ve].apply(q,be)).then(Ue,je)});return De.request=he,De}function ce(q,ve,be){var he=F(q,ve,be);return he.then(function(De){if(De)return new R(De,he.request)})}function se(q,ve,be){be.forEach(function(he){Object.defineProperty(q.prototype,he,{get:function(){return this[ve][he]},set:function(De){this[ve][he]=De}})})}function oe(q,ve,be,he){he.forEach(function(De){De in be.prototype&&(q.prototype[De]=function(){return F(this[ve],De,arguments)})})}function Ce(q,ve,be,he){he.forEach(function(De){De in be.prototype&&(q.prototype[De]=function(){return this[ve][De].apply(this[ve],arguments)})})}function fe(q,ve,be,he){he.forEach(function(De){De in be.prototype&&(q.prototype[De]=function(){return ce(this[ve],De,arguments)})})}function K(q){this._index=q}function R(q,ve){this._cursor=q,this._request=ve}function L(q){this._store=q}function ee(q){this._tx=q,this.complete=new Promise(function(ve,be){q.oncomplete=function(){ve()},q.onerror=function(){be(q.error)},q.onabort=function(){be(q.error)}})}function Y(q,ve,be){this._db=q,this.oldVersion=ve,this.transaction=new ee(be)}function ie(q){this._db=q}se(K,"_index",["name","keyPath","multiEntry","unique"]),oe(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(R,"_cursor",["direction","key","primaryKey","value"]),oe(R,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(q){q in IDBCursor.prototype&&(R.prototype[q]=function(){var ve=this,be=arguments;return Promise.resolve().then(function(){return ve._cursor[q].apply(ve._cursor,be),te(ve._request).then(function(he){if(he)return new R(he,ve._request)})})})}),L.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},se(L,"_store",["name","keyPath","indexNames","autoIncrement"]),oe(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ce(L,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},se(ee,"_tx",["objectStoreNames","mode"]),Ce(ee,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},se(Y,"_db",["name","version","objectStoreNames"]),Ce(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),ie.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},se(ie,"_db",["name","version","objectStoreNames"]),Ce(ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(q){[L,K].forEach(function(ve){q in ve.prototype&&(ve.prototype[q.replace("open","iterate")]=function(){var be=l(arguments),he=be[be.length-1],De=this._store||this._index,Ue=De[q].apply(De,be.slice(0,-1));Ue.onsuccess=function(){he(Ue.result)}})})}),[K,L].forEach(function(q){q.prototype.getAll||(q.prototype.getAll=function(ve,be){var he=this,De=[];return new Promise(function(Ue){he.iterateCursor(ve,function(je){je?(De.push(je.value),void 0===be||De.length!=be?je.continue():Ue(De)):Ue(De)})})})}),V.openDb=function(q,ve,be){var he=F(indexedDB,"open",[q,ve]),De=he.request;return De&&(De.onupgradeneeded=function(Ue){be&&be(new Y(De.result,Ue.oldVersion,De.transaction))}),he.then(function(Ue){return new ie(Ue)})},V.deleteDb=function(q){return F(indexedDB,"deleteDatabase",[q])},Object.defineProperty(V,"__esModule",{value:!0})}(Se)},6856:(Xe,Se,V)=>{Xe=V.nmd(Xe);var te="__lodash_hash_undefined__",se=9007199254740991,oe="[object Arguments]",Ce="[object Array]",K="[object Boolean]",R="[object Date]",L="[object Error]",ee="[object Function]",ie="[object Map]",Te="[object Number]",q="[object Object]",ve="[object Promise]",he="[object RegExp]",De="[object Set]",Ue="[object String]",gt="[object WeakMap]",xe="[object ArrayBuffer]",re="[object DataView]",Hn=/^\[object .+?Constructor\]$/,nn=/^(?:0|[1-9]\d*)$/,Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt[oe]=Tt[Ce]=Tt[xe]=Tt[K]=Tt[re]=Tt[R]=Tt[L]=Tt[ee]=Tt[ie]=Tt[Te]=Tt[q]=Tt[he]=Tt[De]=Tt[Ue]=Tt[gt]=!1;var Sr="object"==typeof global&&global&&global.Object===Object&&global,wn="object"==typeof self&&self&&self.Object===Object&&self,rt=Sr||wn||Function("return this")(),Ot=Se&&!Se.nodeType&&Se,us=Ot&&Xe&&!Xe.nodeType&&Xe,cr=us&&us.exports===Ot,un=cr&&Sr.process,Fr=function(){try{return un&&un.binding&&un.binding("util")}catch(U){}}(),Xr=Fr&&Fr.isTypedArray;function Oi(U,Q){for(var ke=-1,Je=null==U?0:U.length;++ke<Je;)if(Q(U[ke],ke,U))return!0;return!1}function Mn(U,Q){return U.has(Q)}function ks(U){var Q=-1,ke=Array(U.size);return U.forEach(function(Je,Mt){ke[++Q]=[Mt,Je]}),ke}function Oe(U){var Q=-1,ke=Array(U.size);return U.forEach(function(Je){ke[++Q]=Je}),ke}var U,zt=Array.prototype,ln=Object.prototype,Vt=rt["__core-js_shared__"],tt=Function.prototype.toString,ze=ln.hasOwnProperty,En=(U=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",Ni=ln.toString,_i=RegExp("^"+tt.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mn=cr?rt.Buffer:void 0,tr=rt.Symbol,ls=rt.Uint8Array,$=ln.propertyIsEnumerable,G=zt.splice,Z=tr?tr.toStringTag:void 0,Me=Object.getOwnPropertySymbols,ae=mn?mn.isBuffer:void 0,Ye=function(U,Q){return function(ke){return U(Q(ke))}}(Object.keys,Object),qe=Rt(rt,"DataView"),Nt=Rt(rt,"Map"),rn=Rt(rt,"Promise"),Qt=Rt(rt,"Set"),_r=Rt(rt,"WeakMap"),At=Rt(Object,"create"),fn=fs(qe),dr=fs(Nt),ma=fs(rn),ho=fs(Qt),ya=fs(_r),fo=tr?tr.prototype:void 0,po=fo?fo.valueOf:void 0;function Mr(U){var Q=-1,ke=null==U?0:U.length;for(this.clear();++Q<ke;){var Je=U[Q];this.set(Je[0],Je[1])}}function yn(U){var Q=-1,ke=null==U?0:U.length;for(this.clear();++Q<ke;){var Je=U[Q];this.set(Je[0],Je[1])}}function Ze(U){var Q=-1,ke=null==U?0:U.length;for(this.clear();++Q<ke;){var Je=U[Q];this.set(Je[0],Je[1])}}function $n(U){var Q=-1,ke=null==U?0:U.length;for(this.__data__=new Ze;++Q<ke;)this.add(U[Q])}function Lr(U){var Q=this.__data__=new yn(U);this.size=Q.size}function Ri(U,Q){for(var ke=U.length;ke--;)if(mc(U[ke][0],Q))return ke;return-1}function ir(U){return null==U?void 0===U?"[object Undefined]":"[object Null]":Z&&Z in Object(U)?function(U){var Q=ze.call(U,Z),ke=U[Z];try{U[Z]=void 0;var Je=!0}catch(dt){}var Mt=Ni.call(U);return Je&&(Q?U[Z]=ke:delete U[Z]),Mt}(U):function(U){return Ni.call(U)}(U)}function Xt(U){return Ci(U)&&ir(U)==oe}function ds(U,Q,ke,Je,Mt){return U===Q||(null==U||null==Q||!Ci(U)&&!Ci(Q)?U!=U&&Q!=Q:function(U,Q,ke,Je,Mt,dt){var _n=qo(U),cn=qo(Q),sn=_n?Ce:Ln(U),vn=cn?Ce:Ln(Q),Vr=(sn=sn==oe?q:sn)==q,sr=(vn=vn==oe?q:vn)==q,zn=sn==vn;if(zn&&al(U)){if(!al(Q))return!1;_n=!0,Vr=!1}if(zn&&!Vr)return dt||(dt=new Lr),_n||yo(U)?Ji(U,Q,ke,Je,Mt,dt):function(U,Q,ke,Je,Mt,dt,_n){switch(ke){case re:if(U.byteLength!=Q.byteLength||U.byteOffset!=Q.byteOffset)return!1;U=U.buffer,Q=Q.buffer;case xe:return!(U.byteLength!=Q.byteLength||!dt(new ls(U),new ls(Q)));case K:case R:case Te:return mc(+U,+Q);case L:return U.name==Q.name&&U.message==Q.message;case he:case Ue:return U==Q+"";case ie:var cn=ks;case De:if(cn||(cn=Oe),U.size!=Q.size&&!(1&Je))return!1;var vn=_n.get(U);if(vn)return vn==Q;Je|=2,_n.set(U,Q);var Vr=Ji(cn(U),cn(Q),Je,Mt,dt,_n);return _n.delete(U),Vr;case"[object Symbol]":if(po)return po.call(U)==po.call(Q)}return!1}(U,Q,sn,ke,Je,Mt,dt);if(!(1&ke)){var fr=Vr&&ze.call(U,"__wrapped__"),Ur=sr&&ze.call(Q,"__wrapped__");if(fr||Ur){var bn=fr?U.value():U,br=Ur?Q.value():Q;return dt||(dt=new Lr),Mt(bn,br,ke,Je,dt)}}return!!zn&&(dt||(dt=new Lr),function(U,Q,ke,Je,Mt,dt){var _n=1&ke,cn=Ho(U),sn=cn.length;if(sn!=Ho(Q).length&&!_n)return!1;for(var sr=sn;sr--;){var zn=cn[sr];if(!(_n?zn in Q:ze.call(Q,zn)))return!1}var fr=dt.get(U);if(fr&&dt.get(Q))return fr==Q;var Ur=!0;dt.set(U,Q),dt.set(Q,U);for(var bn=_n;++sr<sn;){var br=U[zn=cn[sr]],ni=Q[zn];if(Je)var Qi=_n?Je(ni,br,zn,Q,U,dt):Je(br,ni,zn,U,Q,dt);if(!(void 0===Qi?br===ni||Mt(br,ni,ke,Je,dt):Qi)){Ur=!1;break}bn||(bn="constructor"==zn)}if(Ur&&!bn){var jr=U.constructor,Fi=Q.constructor;jr!=Fi&&"constructor"in U&&"constructor"in Q&&!("function"==typeof jr&&jr instanceof jr&&"function"==typeof Fi&&Fi instanceof Fi)&&(Ur=!1)}return dt.delete(U),dt.delete(Q),Ur}(U,Q,ke,Je,Mt,dt))}(U,Q,ke,Je,ds,Mt))}function Ji(U,Q,ke,Je,Mt,dt){var _n=1&ke,cn=U.length,sn=Q.length;if(cn!=sn&&!(_n&&sn>cn))return!1;var vn=dt.get(U);if(vn&&dt.get(Q))return vn==Q;var Vr=-1,sr=!0,zn=2&ke?new $n:void 0;for(dt.set(U,Q),dt.set(Q,U);++Vr<cn;){var fr=U[Vr],Ur=Q[Vr];if(Je)var bn=_n?Je(Ur,fr,Vr,Q,U,dt):Je(fr,Ur,Vr,U,Q,dt);if(void 0!==bn){if(bn)continue;sr=!1;break}if(zn){if(!Oi(Q,function(br,ni){if(!Mn(zn,ni)&&(fr===br||Mt(fr,br,ke,Je,dt)))return zn.push(ni)})){sr=!1;break}}else if(fr!==Ur&&!Mt(fr,Ur,ke,Je,dt)){sr=!1;break}}return dt.delete(U),dt.delete(Q),sr}function Ho(U){return function(U,Q,ke){var Je=Q(U);return qo(U)?Je:function(U,Q){for(var ke=-1,Je=Q.length,Mt=U.length;++ke<Je;)U[Mt+ke]=Q[ke];return U}(Je,ke(U))}(U,ps,va)}function hr(U,Q){var ke=U.__data__;return function(U){var Q=typeof U;return"string"==Q||"number"==Q||"symbol"==Q||"boolean"==Q?"__proto__"!==U:null===U}(Q)?ke["string"==typeof Q?"string":"hash"]:ke.map}function Rt(U,Q){var ke=function(U,Q){return null==U?void 0:U[Q]}(U,Q);return function(U){return!(!Rs(U)||function(U){return!!En&&En in U}(U))&&(Ns(U)?_i:Hn).test(fs(U))}(ke)?ke:void 0}Mr.prototype.clear=function(){this.__data__=At?At(null):{},this.size=0},Mr.prototype.delete=function(U){var Q=this.has(U)&&delete this.__data__[U];return this.size-=Q?1:0,Q},Mr.prototype.get=function(U){var Q=this.__data__;if(At){var ke=Q[U];return ke===te?void 0:ke}return ze.call(Q,U)?Q[U]:void 0},Mr.prototype.has=function(U){var Q=this.__data__;return At?void 0!==Q[U]:ze.call(Q,U)},Mr.prototype.set=function(U,Q){var ke=this.__data__;return this.size+=this.has(U)?0:1,ke[U]=At&&void 0===Q?te:Q,this},yn.prototype.clear=function(){this.__data__=[],this.size=0},yn.prototype.delete=function(U){var Q=this.__data__,ke=Ri(Q,U);return!(ke<0||(ke==Q.length-1?Q.pop():G.call(Q,ke,1),--this.size,0))},yn.prototype.get=function(U){var Q=this.__data__,ke=Ri(Q,U);return ke<0?void 0:Q[ke][1]},yn.prototype.has=function(U){return Ri(this.__data__,U)>-1},yn.prototype.set=function(U,Q){var ke=this.__data__,Je=Ri(ke,U);return Je<0?(++this.size,ke.push([U,Q])):ke[Je][1]=Q,this},Ze.prototype.clear=function(){this.size=0,this.__data__={hash:new Mr,map:new(Nt||yn),string:new Mr}},Ze.prototype.delete=function(U){var Q=hr(this,U).delete(U);return this.size-=Q?1:0,Q},Ze.prototype.get=function(U){return hr(this,U).get(U)},Ze.prototype.has=function(U){return hr(this,U).has(U)},Ze.prototype.set=function(U,Q){var ke=hr(this,U),Je=ke.size;return ke.set(U,Q),this.size+=ke.size==Je?0:1,this},$n.prototype.add=$n.prototype.push=function(U){return this.__data__.set(U,te),this},$n.prototype.has=function(U){return this.__data__.has(U)},Lr.prototype.clear=function(){this.__data__=new yn,this.size=0},Lr.prototype.delete=function(U){var Q=this.__data__,ke=Q.delete(U);return this.size=Q.size,ke},Lr.prototype.get=function(U){return this.__data__.get(U)},Lr.prototype.has=function(U){return this.__data__.has(U)},Lr.prototype.set=function(U,Q){var ke=this.__data__;if(ke instanceof yn){var Je=ke.__data__;if(!Nt||Je.length<199)return Je.push([U,Q]),this.size=++ke.size,this;ke=this.__data__=new Ze(Je)}return ke.set(U,Q),this.size=ke.size,this};var va=Me?function(U){return null==U?[]:(U=Object(U),function(U,Q){for(var ke=-1,Je=null==U?0:U.length,Mt=0,dt=[];++ke<Je;){var _n=U[ke];Q(_n)&&(dt[Mt++]=_n)}return dt}(Me(U),function(Q){return $.call(U,Q)}))}:function(){return[]},Ln=ir;function bi(U,Q){return!!(Q=null==Q?se:Q)&&("number"==typeof U||nn.test(U))&&U>-1&&U%1==0&&U<Q}function fs(U){if(null!=U){try{return tt.call(U)}catch(Q){}try{return U+""}catch(Q){}}return""}function mc(U,Q){return U===Q||U!=U&&Q!=Q}(qe&&Ln(new qe(new ArrayBuffer(1)))!=re||Nt&&Ln(new Nt)!=ie||rn&&Ln(rn.resolve())!=ve||Qt&&Ln(new Qt)!=De||_r&&Ln(new _r)!=gt)&&(Ln=function(U){var Q=ir(U),ke=Q==q?U.constructor:void 0,Je=ke?fs(ke):"";if(Je)switch(Je){case fn:return re;case dr:return ie;case ma:return ve;case ho:return De;case ya:return gt}return Q});var nh=Xt(function(){return arguments}())?Xt:function(U){return Ci(U)&&ze.call(U,"callee")&&!$.call(U,"callee")},qo=Array.isArray,al=ae||function(){return!1};function Ns(U){if(!Rs(U))return!1;var Q=ir(U);return Q==ee||"[object GeneratorFunction]"==Q||"[object AsyncFunction]"==Q||"[object Proxy]"==Q}function yc(U){return"number"==typeof U&&U>-1&&U%1==0&&U<=se}function Rs(U){var Q=typeof U;return null!=U&&("object"==Q||"function"==Q)}function Ci(U){return null!=U&&"object"==typeof U}var yo=Xr?function(U){return function(Q){return U(Q)}}(Xr):function(U){return Ci(U)&&yc(U.length)&&!!Tt[ir(U)]};function ps(U){return function(U){return null!=U&&yc(U.length)&&!Ns(U)}(U)?function(U,Q){var ke=qo(U),Je=!ke&&nh(U),Mt=!ke&&!Je&&al(U),dt=!ke&&!Je&&!Mt&&yo(U),_n=ke||Je||Mt||dt,cn=_n?function(U,Q){for(var ke=-1,Je=Array(U);++ke<U;)Je[ke]=Q(ke);return Je}(U.length,String):[],sn=cn.length;for(var vn in U)(Q||ze.call(U,vn))&&(!_n||!("length"==vn||Mt&&("offset"==vn||"parent"==vn)||dt&&("buffer"==vn||"byteLength"==vn||"byteOffset"==vn)||bi(vn,sn)))&&cn.push(vn);return cn}(U):function(U){if(!function(U){var Q=U&&U.constructor;return U===("function"==typeof Q&&Q.prototype||ln)}(U))return Ye(U);var Q=[];for(var ke in Object(U))ze.call(U,ke)&&"constructor"!=ke&&Q.push(ke);return Q}(U)}Xe.exports=function(U,Q){return ds(U,Q)}},7574:(Xe,Se,V)=>{"use strict";V.d(Se,{y:()=>L});var l=V(7393),F=V(9181),ce=V(6490),oe=V(6554),Ce=V(4487);var R=V(2494);let L=(()=>{class Y{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const pe=new Y;return pe.source=this,pe.operator=Te,pe}subscribe(Te,pe,q){const{operator:ve}=this,be=function(Y,ie,Te){if(Y){if(Y instanceof l.L)return Y;if(Y[F.b])return Y[F.b]()}return Y||ie||Te?new l.L(Y,ie,Te):new l.L(ce.c)}(Te,pe,q);if(be.add(ve?ve.call(be,this.source):this.source||R.v.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),R.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(Te){try{return this._subscribe(Te)}catch(pe){R.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=pe),function(Y){for(;Y;){const{closed:ie,destination:Te,isStopped:pe}=Y;if(ie||pe)return!1;Y=Te&&Te instanceof l.L?Te:null}return!0}(Te)?Te.error(pe):console.warn(pe)}}forEach(Te,pe){return new(pe=ee(pe))((q,ve)=>{let be;be=this.subscribe(he=>{try{Te(he)}catch(De){ve(De),be&&be.unsubscribe()}},ve,q)})}_subscribe(Te){const{source:pe}=this;return pe&&pe.subscribe(Te)}[oe.L](){return this}pipe(...Te){return 0===Te.length?this:function(Y){return 0===Y.length?Ce.y:1===Y.length?Y[0]:function(Te){return Y.reduce((pe,q)=>q(pe),Te)}}(Te)(this)}toPromise(Te){return new(Te=ee(Te))((pe,q)=>{let ve;this.subscribe(be=>ve=be,be=>q(be),()=>pe(ve))})}}return Y.create=ie=>new Y(ie),Y})();function ee(Y){if(Y||(Y=R.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Xe,Se,V)=>{"use strict";V.d(Se,{c:()=>F});var l=V(2494),te=V(4449);const F={closed:!0,next(ce){},error(ce){if(l.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,te.z)(ce)},complete(){}}},9765:(Xe,Se,V)=>{"use strict";V.d(Se,{Yc:()=>Ce,xQ:()=>fe});var l=V(7574),te=V(7393),F=V(5319),ce=V(7971),se=V(8858),oe=V(9181);class Ce extends te.L{constructor(L){super(L),this.destination=L}}let fe=(()=>{class R extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new Ce(this)}lift(ee){const Y=new K(this,this);return Y.operator=ee,Y}next(ee){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:Y}=this,ie=Y.length,Te=Y.slice();for(let pe=0;pe<ie;pe++)Te[pe].next(ee)}}error(ee){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:Y}=this,ie=Y.length,Te=Y.slice();for(let pe=0;pe<ie;pe++)Te[pe].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:ee}=this,Y=ee.length,ie=ee.slice();for(let Te=0;Te<Y;Te++)ie[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ce.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ce.N;return this.hasError?(ee.error(this.thrownError),F.w.EMPTY):this.isStopped?(ee.complete(),F.w.EMPTY):(this.observers.push(ee),new se.W(this,ee))}asObservable(){const ee=new l.y;return ee.source=this,ee}}return R.create=(L,ee)=>new K(L,ee),R})();class K extends fe{constructor(L,ee){super(),this.destination=L,this.source=ee}next(L){const{destination:ee}=this;ee&&ee.next&&ee.next(L)}error(L){const{destination:ee}=this;ee&&ee.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:ee}=this;return ee?this.source.subscribe(L):F.w.EMPTY}}},8858:(Xe,Se,V)=>{"use strict";V.d(Se,{W:()=>te});var l=V(5319);class te extends l.w{constructor(ce,se){super(),this.subject=ce,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,se=ce.observers;if(this.subject=null,!se||0===se.length||ce.isStopped||ce.closed)return;const oe=se.indexOf(this.subscriber);-1!==oe&&se.splice(oe,1)}}},7393:(Xe,Se,V)=>{"use strict";V.d(Se,{L:()=>Ce});var l=V(9105),te=V(6490),F=V(5319),ce=V(9181),se=V(2494),oe=V(4449);class Ce extends F.w{constructor(R,L,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!R){this.destination=te.c;break}if("object"==typeof R){R instanceof Ce?(this.syncErrorThrowable=R.syncErrorThrowable,this.destination=R,R.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,R));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,R,L,ee)}}[ce.b](){return this}static create(R,L,ee){const Y=new Ce(R,L,ee);return Y.syncErrorThrowable=!1,Y}next(R){this.isStopped||this._next(R)}error(R){this.isStopped||(this.isStopped=!0,this._error(R))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(R){this.destination.next(R)}_error(R){this.destination.error(R),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:R}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=R,this}}class fe extends Ce{constructor(R,L,ee,Y){super(),this._parentSubscriber=R;let ie,Te=this;(0,l.m)(L)?ie=L:L&&(ie=L.next,ee=L.error,Y=L.complete,L!==te.c&&(Te=Object.create(L),(0,l.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=ie,this._error=ee,this._complete=Y}next(R){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;se.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,R)&&this.unsubscribe():this.__tryOrUnsub(this._next,R)}}error(R){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:ee}=se.v;if(this._error)ee&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,R),this.unsubscribe()):(this.__tryOrUnsub(this._error,R),this.unsubscribe());else if(L.syncErrorThrowable)ee?(L.syncErrorValue=R,L.syncErrorThrown=!0):(0,oe.z)(R),this.unsubscribe();else{if(this.unsubscribe(),ee)throw R;(0,oe.z)(R)}}}complete(){if(!this.isStopped){const{_parentSubscriber:R}=this;if(this._complete){const L=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?(this.__tryOrSetError(R,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(R,L){try{R.call(this._context,L)}catch(ee){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,oe.z)(ee)}}__tryOrSetError(R,L,ee){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,ee)}catch(Y){return se.v.useDeprecatedSynchronousErrorHandling?(R.syncErrorValue=Y,R.syncErrorThrown=!0,!0):((0,oe.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:R}=this;this._context=null,this._parentSubscriber=null,R.unsubscribe()}}},5319:(Xe,Se,V)=>{"use strict";V.d(Se,{w:()=>oe});var l=V(9796),te=V(1555),F=V(9105);const se=(()=>{function fe(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((R,L)=>`${L+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return fe.prototype=Object.create(Error.prototype),fe})();class oe{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:R,_ctorUnsubscribe:L,_unsubscribe:ee,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,R instanceof oe)R.remove(this);else if(null!==R)for(let ie=0;ie<R.length;++ie)R[ie].remove(this);if((0,F.m)(ee)){L&&(this._unsubscribe=void 0);try{ee.call(this)}catch(ie){K=ie instanceof se?Ce(ie.errors):[ie]}}if((0,l.k)(Y)){let ie=-1,Te=Y.length;for(;++ie<Te;){const pe=Y[ie];if((0,te.K)(pe))try{pe.unsubscribe()}catch(q){K=K||[],q instanceof se?K=K.concat(Ce(q.errors)):K.push(q)}}}if(K)throw new se(K)}add(K){let R=K;if(!K)return oe.EMPTY;switch(typeof K){case"function":R=new oe(K);case"object":if(R===this||R.closed||"function"!=typeof R.unsubscribe)return R;if(this.closed)return R.unsubscribe(),R;if(!(R instanceof oe)){const Y=R;R=new oe,R._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:L}=R;if(null===L)R._parentOrParents=this;else if(L instanceof oe){if(L===this)return R;R._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return R;L.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[R]:ee.push(R),R}remove(K){const R=this._subscriptions;if(R){const L=R.indexOf(K);-1!==L&&R.splice(L,1)}}}var fe;function Ce(fe){return fe.reduce((K,R)=>K.concat(R instanceof se?R.errors:R),[])}oe.EMPTY=((fe=new oe).closed=!0,fe)},2494:(Xe,Se,V)=>{"use strict";V.d(Se,{v:()=>te});let l=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=F},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Xe,Se,V)=>{"use strict";V.d(Se,{IY:()=>ce,Ds:()=>oe,ft:()=>fe});var l=V(7393),te=V(7574),F=V(7444);class ce extends l.L{constructor(R){super(),this.parent=R}_next(R){this.parent.notifyNext(R)}_error(R){this.parent.notifyError(R),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends l.L{notifyNext(R){this.destination.next(R)}notifyError(R){this.destination.error(R)}notifyComplete(){this.destination.complete()}}function fe(K,R){if(R.closed)return;if(K instanceof te.y)return K.subscribe(R);let L;try{L=(0,F.s)(K)(R)}catch(ee){R.error(ee)}return L}},2441:(Xe,Se,V)=>{"use strict";V.d(Se,{c:()=>se,N:()=>oe});var l=V(9765),te=V(7574),F=V(5319),ce=V(1307);class se extends te.y{constructor(L,ee){super(),this.source=L,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new Ce(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,ce.x)()(this)}}const oe=(()=>{const R=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class Ce extends l.Yc{constructor(L,ee){super(L),this.connectable=ee}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const ee=L._connection;L._refCount=0,L._subject=null,L._connection=null,ee&&ee.unsubscribe()}}}},9193:(Xe,Se,V)=>{"use strict";V.d(Se,{E:()=>te,c:()=>F});var l=V(7574);const te=new l.y(se=>se.complete());function F(se){return se?function(se){return new l.y(oe=>se.schedule(()=>oe.complete()))}(se):te}},4402:(Xe,Se,V)=>{"use strict";V.d(Se,{D:()=>Te});var l=V(7574),te=V(7444),F=V(5319),ce=V(6554),Ce=V(4087),fe=V(377),L=V(4072),ee=V(9489);function Te(pe,q){return q?function(pe,q){if(null!=pe){if(function(pe){return pe&&"function"==typeof pe[ce.L]}(pe))return function(pe,q){return new l.y(ve=>{const be=new F.w;return be.add(q.schedule(()=>{const he=pe[ce.L]();be.add(he.subscribe({next(De){be.add(q.schedule(()=>ve.next(De)))},error(De){be.add(q.schedule(()=>ve.error(De)))},complete(){be.add(q.schedule(()=>ve.complete()))}}))})),be})}(pe,q);if((0,L.t)(pe))return function(pe,q){return new l.y(ve=>{const be=new F.w;return be.add(q.schedule(()=>pe.then(he=>{be.add(q.schedule(()=>{ve.next(he),be.add(q.schedule(()=>ve.complete()))}))},he=>{be.add(q.schedule(()=>ve.error(he)))}))),be})}(pe,q);if((0,ee.z)(pe))return(0,Ce.r)(pe,q);if(function(pe){return pe&&"function"==typeof pe[fe.hZ]}(pe)||"string"==typeof pe)return function(pe,q){if(!pe)throw new Error("Iterable cannot be null");return new l.y(ve=>{const be=new F.w;let he;return be.add(()=>{he&&"function"==typeof he.return&&he.return()}),be.add(q.schedule(()=>{he=pe[fe.hZ](),be.add(q.schedule(function(){if(ve.closed)return;let De,Ue;try{const je=he.next();De=je.value,Ue=je.done}catch(je){return void ve.error(je)}Ue?ve.complete():(ve.next(De),this.schedule())}))})),be})}(pe,q)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,q):pe instanceof l.y?pe:new l.y((0,te.s)(pe))}},6693:(Xe,Se,V)=>{"use strict";V.d(Se,{n:()=>ce});var l=V(7574),te=V(5015),F=V(4087);function ce(se,oe){return oe?(0,F.r)(se,oe):new l.y((0,te.V)(se))}},6682:(Xe,Se,V)=>{"use strict";V.d(Se,{T:()=>se});var l=V(7574),te=V(4869),F=V(3282),ce=V(6693);function se(...oe){let Ce=Number.POSITIVE_INFINITY,fe=null,K=oe[oe.length-1];return(0,te.K)(K)?(fe=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(Ce=oe.pop())):"number"==typeof K&&(Ce=oe.pop()),null===fe&&1===oe.length&&oe[0]instanceof l.y?oe[0]:(0,F.J)(Ce)((0,ce.n)(oe,fe))}},5917:(Xe,Se,V)=>{"use strict";V.d(Se,{of:()=>ce});var l=V(4869),te=V(6693),F=V(4087);function ce(...se){let oe=se[se.length-1];return(0,l.K)(oe)?(se.pop(),(0,F.r)(se,oe)):(0,te.n)(se)}},8002:(Xe,Se,V)=>{"use strict";V.d(Se,{U:()=>te});var l=V(7393);function te(se,oe){return function(fe){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new F(se,oe))}}class F{constructor(oe,Ce){this.project=oe,this.thisArg=Ce}call(oe,Ce){return Ce.subscribe(new ce(oe,this.project,this.thisArg))}}class ce extends l.L{constructor(oe,Ce,fe){super(oe),this.project=Ce,this.count=0,this.thisArg=fe||this}_next(oe){let Ce;try{Ce=this.project.call(this.thisArg,oe,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(Ce)}}},3282:(Xe,Se,V)=>{"use strict";V.d(Se,{J:()=>F});var l=V(9773),te=V(4487);function F(ce=Number.POSITIVE_INFINITY){return(0,l.zg)(te.y,ce)}},9773:(Xe,Se,V)=>{"use strict";V.d(Se,{zg:()=>ce});var l=V(8002),te=V(4402),F=V(5345);function ce(fe,K,R=Number.POSITIVE_INFINITY){return"function"==typeof K?L=>L.pipe(ce((ee,Y)=>(0,te.D)(fe(ee,Y)).pipe((0,l.U)((ie,Te)=>K(ee,ie,Y,Te))),R)):("number"==typeof K&&(R=K),L=>L.lift(new se(fe,R)))}class se{constructor(K,R=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=R}call(K,R){return R.subscribe(new oe(K,this.project,this.concurrent))}}class oe extends F.Ds{constructor(K,R,L=Number.POSITIVE_INFINITY){super(K),this.project=R,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let R;const L=this.index++;try{R=this.project(K,L)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(R)}_innerSub(K){const R=new F.IY(this),L=this.destination;L.add(R);const ee=(0,F.ft)(K,R);ee!==R&&L.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Se,V)=>{"use strict";V.d(Se,{ht:()=>L,QV:()=>K});var l=V(7393),te=V(9193),F=V(5917),ce=V(7574);class fe{constructor(ie,Te,pe){this.kind=ie,this.value=Te,this.error=pe,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,Te,pe){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return Te&&Te(this.error);case"C":return pe&&pe()}}accept(ie,Te,pe){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,Te,pe)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return Y=this.error,new ce.y(Te=>Te.error(Y));case"C":return(0,te.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new fe("N",ie):fe.undefinedValueNotification}static createError(ie){return new fe("E",void 0,ie)}static createComplete(){return fe.completeNotification}}function K(Y,ie=0){return function(pe){return pe.lift(new R(Y,ie))}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class R{constructor(ie,Te=0){this.scheduler=ie,this.delay=Te}call(ie,Te){return Te.subscribe(new L(ie,this.scheduler,this.delay))}}class L extends l.L{constructor(ie,Te,pe=0){super(ie),this.scheduler=Te,this.delay=pe}static dispatch(ie){const{notification:Te,destination:pe}=ie;Te.observe(pe),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new ee(ie,this.destination)))}_next(ie){this.scheduleMessage(fe.createNext(ie))}_error(ie){this.scheduleMessage(fe.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class ee{constructor(ie,Te){this.notification=ie,this.destination=Te}}},1307:(Xe,Se,V)=>{"use strict";V.d(Se,{x:()=>te});var l=V(7393);function te(){return function(oe){return oe.lift(new F(oe))}}class F{constructor(oe){this.connectable=oe}call(oe,Ce){const{connectable:fe}=this;fe._refCount++;const K=new ce(oe,fe),R=Ce.subscribe(K);return K.closed||(K.connection=fe.connect()),R}}class ce extends l.L{constructor(oe,Ce){super(oe),this.connectable=Ce}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const Ce=oe._refCount;if(Ce<=0)return void(this.connection=null);if(oe._refCount=Ce-1,Ce>1)return void(this.connection=null);const{connection:fe}=this,K=oe._connection;this.connection=null,K&&(!fe||K===fe)&&K.unsubscribe()}}},3101:(Xe,Se,V)=>{"use strict";V.d(Se,{R:()=>q});var l=V(7574);let te=1;const F=Promise.resolve(),ce={};function se(be){return be in ce&&(delete ce[be],!0)}const oe={setImmediate(be){const he=te++;return ce[he]=!0,F.then(()=>se(he)&&be()),he},clearImmediate(be){se(be)}};var fe=V(6465),R=V(6102);const Y=new class extends R.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let Ue,je=-1,wt=De.length;he=he||De.shift();do{if(Ue=he.execute(he.state,he.delay))break}while(++je<wt&&(he=De.shift()));if(this.active=!1,Ue){for(;++je<wt&&(he=De.shift());)he.unsubscribe();throw Ue}}}(class extends fe.o{constructor(he,De){super(he,De),this.scheduler=he,this.work=De}requestAsyncId(he,De,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(he,De,Ue):(he.actions.push(this),he.scheduled||(he.scheduled=oe.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,De,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(he,De,Ue);0===he.actions.length&&(oe.clearImmediate(De),he.scheduled=void 0)}});var ie=V(9796);class pe extends l.y{constructor(he,De=0,Ue=Y){var be;super(),this.source=he,this.delayTime=De,this.scheduler=Ue,(!(!(0,ie.k)(be=De)&&be-parseFloat(be)+1>=0)||De<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=Y)}static create(he,De=0,Ue=Y){return new pe(he,De,Ue)}static dispatch(he){const{source:De,subscriber:Ue}=he;return this.add(De.subscribe(Ue))}_subscribe(he){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function q(be,he=0){return function(Ue){return Ue.lift(new ve(be,he))}}class ve{constructor(he,De){this.scheduler=he,this.delay=De}call(he,De){return new pe(De,this.delay,this.scheduler).subscribe(he)}}},3342:(Xe,Se,V)=>{"use strict";V.d(Se,{b:()=>ce});var l=V(7393);function te(){}var F=V(9105);function ce(Ce,fe,K){return function(L){return L.lift(new se(Ce,fe,K))}}class se{constructor(fe,K,R){this.nextOrObserver=fe,this.error=K,this.complete=R}call(fe,K){return K.subscribe(new oe(fe,this.nextOrObserver,this.error,this.complete))}}class oe extends l.L{constructor(fe,K,R,L){super(fe),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=R||te,this._tapComplete=L||te,(0,F.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||te,this._tapError=K.error||te,this._tapComplete=K.complete||te)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(K){return void this.destination.error(K)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(K){return void this.destination.error(K)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(Xe,Se,V)=>{"use strict";V.d(Se,{r:()=>F});var l=V(7574),te=V(5319);function F(ce,se){return new l.y(oe=>{const Ce=new te.w;let fe=0;return Ce.add(se.schedule(function(){fe!==ce.length?(oe.next(ce[fe++]),oe.closed||Ce.add(this.schedule())):oe.complete()})),Ce})}},6465:(Xe,Se,V)=>{"use strict";V.d(Se,{o:()=>F});var l=V(5319);class te extends l.w{constructor(se,oe){super()}schedule(se,oe=0){return this}}class F extends te{constructor(se,oe){super(se,oe),this.scheduler=se,this.work=oe,this.pending=!1}schedule(se,oe=0){if(this.closed)return this;this.state=se;const Ce=this.id,fe=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(fe,Ce,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(fe,this.id,oe),this}requestAsyncId(se,oe,Ce=0){return setInterval(se.flush.bind(se,this),Ce)}recycleAsyncId(se,oe,Ce=0){if(null!==Ce&&this.delay===Ce&&!1===this.pending)return oe;clearInterval(oe)}execute(se,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(se,oe);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,oe){let fe,Ce=!1;try{this.work(se)}catch(K){Ce=!0,fe=!!K&&K||new Error(K)}if(Ce)return this.unsubscribe(),fe}_unsubscribe(){const se=this.id,oe=this.scheduler,Ce=oe.actions,fe=Ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&Ce.splice(fe,1),null!=se&&(this.id=this.recycleAsyncId(oe,se,null)),this.delay=null}}},6102:(Xe,Se,V)=>{"use strict";V.d(Se,{v:()=>te});let l=(()=>{class F{constructor(se,oe=F.now){this.SchedulerAction=se,this.now=oe}schedule(se,oe=0,Ce){return new this.SchedulerAction(this,se).schedule(Ce,oe)}}return F.now=()=>Date.now(),F})();class te extends l{constructor(ce,se=l.now){super(ce,()=>te.delegate&&te.delegate!==this?te.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,se=0,oe){return te.delegate&&te.delegate!==this?te.delegate.schedule(ce,se,oe):super.schedule(ce,se,oe)}flush(ce){const{actions:se}=this;if(this.active)return void se.push(ce);let oe;this.active=!0;do{if(oe=ce.execute(ce.state,ce.delay))break}while(ce=se.shift());if(this.active=!1,oe){for(;ce=se.shift();)ce.unsubscribe();throw oe}}}},3637:(Xe,Se,V)=>{"use strict";V.d(Se,{z:()=>F});var l=V(6465);const F=new(V(6102).v)(l.o)},7771:(Xe,Se,V)=>{"use strict";V.d(Se,{c:()=>oe,N:()=>se});var l=V(6465),F=V(6102);const se=new class extends F.v{}(class extends l.o{constructor(fe,K){super(fe,K),this.scheduler=fe,this.work=K}schedule(fe,K=0){return K>0?super.schedule(fe,K):(this.delay=K,this.state=fe,this.scheduler.flush(this),this)}execute(fe,K){return K>0||this.closed?super.execute(fe,K):this._execute(fe,K)}requestAsyncId(fe,K,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(fe,K,R):fe.flush(this)}}),oe=se},377:(Xe,Se,V)=>{"use strict";V.d(Se,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Se,V)=>{"use strict";V.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Se,V)=>{"use strict";V.d(Se,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Se,V)=>{"use strict";V.d(Se,{N:()=>te});const te=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Xe,Se,V)=>{"use strict";function l(te){setTimeout(()=>{throw te},0)}V.d(Se,{z:()=>l})},4487:(Xe,Se,V)=>{"use strict";function l(te){return te}V.d(Se,{y:()=>l})},9796:(Xe,Se,V)=>{"use strict";V.d(Se,{k:()=>l});const l=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Xe,Se,V)=>{"use strict";V.d(Se,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Xe,Se,V)=>{"use strict";function l(te){return"function"==typeof te}V.d(Se,{m:()=>l})},1555:(Xe,Se,V)=>{"use strict";function l(te){return null!==te&&"object"==typeof te}V.d(Se,{K:()=>l})},4072:(Xe,Se,V)=>{"use strict";function l(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}V.d(Se,{t:()=>l})},4869:(Xe,Se,V)=>{"use strict";function l(te){return te&&"function"==typeof te.schedule}V.d(Se,{K:()=>l})},7444:(Xe,Se,V)=>{"use strict";V.d(Se,{s:()=>L});var l=V(5015),te=V(4449),ce=V(377),oe=V(6554),fe=V(9489),K=V(4072),R=V(1555);const L=ee=>{if(ee&&"function"==typeof ee[oe.L])return(ee=>Y=>{const ie=ee[oe.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(Y)})(ee);if((0,fe.z)(ee))return(0,l.V)(ee);if((0,K.t)(ee))return(ee=>Y=>(ee.then(ie=>{Y.closed||(Y.next(ie),Y.complete())},ie=>Y.error(ie)).then(null,te.z),Y))(ee);if(ee&&"function"==typeof ee[ce.hZ])return(ee=>Y=>{const ie=ee[ce.hZ]();for(;;){let Te;try{Te=ie.next()}catch(pe){return Y.error(pe),Y}if(Te.done){Y.complete();break}if(Y.next(Te.value),Y.closed)break}return"function"==typeof ie.return&&Y.add(()=>{ie.return&&ie.return()}),Y})(ee);{const ie=`You provided ${(0,R.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Xe,Se,V)=>{"use strict";V.d(Se,{V:()=>l});const l=te=>F=>{for(let ce=0,se=te.length;ce<se&&!F.closed;ce++)F.next(te[ce]);F.complete()}},2366:(Xe,Se,V)=>{"use strict";var l=V(3018);let te=null;function F(){return te}const Ce=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function K(){return(0,l.LFG)(L)}const R=new l.OlP("Location Initialized");let L=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){ee()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){ee()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=(0,l.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Y(){return new L((0,l.LFG)(Ce))}function ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pe(n){return n&&"?"!==n[0]?"?"+n:n}let q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:ve,token:n,providedIn:"root"}),n})();function ve(n){const e=(0,l.LFG)(Ce).location;return new he((0,l.LFG)(fe),e&&e.origin||"")}const be=new l.OlP("appBaseHref");let he=(()=>{class n extends q{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,d){const p=this.prepareExternalUrl(a+pe(d));this._platformLocation.pushState(t,r,p)}replaceState(t,r,a,d){const p=this.prepareExternalUrl(a+pe(d));this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(be,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends q{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,d){let p=this.prepareExternalUrl(a+pe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,r,p)}replaceState(t,r,a,d){let p=this.prepareExternalUrl(a+pe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(be,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(gt(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,gt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(q),l.LFG(fe))},n.normalizeQueryParams=pe,n.joinWithSlash=ie,n.stripTrailingSlash=Te,n.\u0275prov=(0,l.Yz7)({factory:je,token:n,providedIn:"root"}),n})();function je(){return new Ue((0,l.LFG)(q),(0,l.LFG)(fe))}function gt(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re))(),ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function Ot(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===_e.CurrencyDecimal)return t[l.wAp.NumberSymbols][_e.Decimal];if(e===_e.CurrencyGroup)return t[l.wAp.NumberSymbols][_e.Group]}return r}const xr=l.kL8,Mr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Nn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class $n{}let Rn=(()=>{class n extends $n{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(xr(r||this.locale)(t)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function vt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,d]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(d)}return null}let jo=(()=>{class n{constructor(t,r,a,d){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=a,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class pu{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fn=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,d,p)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new pu(null,this._ngForOf,-1,-1),null===p?void 0:p),w=new rr(a,_);r.push(w)}else if(null==p)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const _=this._viewContainer.get(d);this._viewContainer.move(_,p);const w=new rr(a,_);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,d=this._viewContainer.length;a<d;a++){const p=this._viewContainer.get(a);p.context.index=a,p.context.count=d,p.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class rr{constructor(e,t){this.record=e,this.view=t}}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ir{constructor(){this.$implicit=null,this.ngIf=null}}function Xt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Gn=(()=>{class n{constructor(t,r,a){this._ngEl=t,this._differs=r,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[a,d]=t.split(".");null!=(r=null!=r&&d?`${r}${d}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,a,r):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Ho=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),n})();function Rt(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,l.AaK)(n)}'`)}let Rs=(()=>{class n{constructor(t){this._locale=t}transform(t,r,a){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;a=a||this._locale;try{return function(n,e,t){return function(n,e,t,r,a,d,p=!1){let _="",w=!1;if(isFinite(n)){let S=function(n){let r,a,d,p,_,e=Math.abs(n)+"",t=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(d=e.search(/e/i))>0?(a<0&&(a=d),a+=+e.slice(d+1),e=e.substring(0,d)):a<0&&(a=e.length),d=0;"0"===e.charAt(d);d++);if(d===(_=e.length))r=[0],a=1;else{for(_--;"0"===e.charAt(_);)_--;for(a-=d,r=[],p=0;d<=_;d++,p++)r[p]=Number(e.charAt(d))}return a>22&&(r=r.splice(0,21),t=a-1,a=1),{digits:r,exponent:t,integerLen:a}}(n);p&&(S=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(S));let k=e.minInt,O=e.minFrac,H=e.maxFrac;if(d){const an=d.match(Mr);if(null===an)throw new Error(`${d} is not a valid digit info`);const Bn=an[1],qt=an[3],Rr=an[5];null!=Bn&&(k=Nn(Bn)),null!=qt&&(O=Nn(qt)),null!=Rr?H=Nn(Rr):null!=qt&&O>H&&(H=O)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,a=r.length-n.integerLen;const d=Math.min(Math.max(e,a),t);let p=d+n.integerLen,_=r[p];if(p>0){r.splice(Math.max(n.integerLen,p));for(let O=p;O<r.length;O++)r[O]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,p=d+1),r[0]=0;for(let O=1;O<p;O++)r[O]=0}if(_>=5)if(p-1<0){for(let O=0;O>p;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[p-1]++;for(;a<Math.max(0,d);a++)r.push(0);let w=0!==d;const S=e+n.integerLen,k=r.reduceRight(function(O,H,z,Ee){return Ee[z]=(H+=O)<10?H:H-10,w&&(0===Ee[z]&&z>=S?Ee.pop():w=!1),H>=10?1:0},0);k&&(r.unshift(k),n.integerLen++)}(S,O,H);let z=S.digits,Ee=S.integerLen;const He=S.exponent;let Qe=[];for(w=z.every(an=>!an);Ee<k;Ee++)z.unshift(0);for(;Ee<0;Ee++)z.unshift(0);Ee>0?Qe=z.splice(Ee,z.length):(Qe=z,z=[0]);const _t=[];for(z.length>=e.lgSize&&_t.unshift(z.splice(-e.lgSize,z.length).join(""));z.length>e.gSize;)_t.unshift(z.splice(-e.gSize,z.length).join(""));z.length&&_t.unshift(z.join("")),_=_t.join(Ot(t,r)),Qe.length&&(_+=Ot(t,a)+Qe.join("")),He&&(_+=Ot(t,_e.Exponential)+"+"+He)}else _=Ot(t,_e.Infinity);return _=n<0&&!w?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],d=r[1],p=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],_=p[0],w=p[1]||"";t.posPre=_.substr(0,_.indexOf("#"));for(let k=0;k<w.length;k++){const O=w.charAt(k);"0"===O?t.minFrac=t.maxFrac=k+1:"#"===O?t.maxFrac=k+1:t.posSuf+=O}const S=_.split(",");if(t.gSize=S[1]?S[1].length:0,t.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,d){const k=a.length-t.posPre.length-t.posSuf.length,O=d.indexOf("#");t.negPre=d.substr(0,O).replace(/'/g,""),t.negSuf=d.substr(O+k).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,re.Decimal),Ot(e,_e.MinusSign)),e,_e.Group,_e.Decimal,t)}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),a,r)}catch(d){throw Rt(n,d.message)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0}),n})();let Go=(()=>{class n{transform(t,r,a){if(null==t)return null;if(!this.supports(t))throw Rt(n,t);return t.slice(r,a)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:$n,useClass:Rn}]}),n})();function cn(n){return"server"===n}let sr=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new zn((0,l.LFG)(Ce),window)}),n})();class zn{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(p)return p}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],a-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fr(this.window.history)||fr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class br{}class Qi extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Qi,te||(te=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(jr=jr||document.querySelector("base"),jr?jr.getAttribute("href"):null);return null==t?null:function(n){ba=ba||document.createElement("a"),ba.setAttribute("href",n);const e=ba.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){jr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vt(document.cookie,e)}}let ba,jr=null;const ul=new l.OlP("TRANSITION_ID"),ll=[{provide:l.ip1,useFactory:function(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)r.remove(a[d])})}},deps:[ul,Ce,l.zs3],multi:!0}];class kt{static init(){(0,l.VLi)(new kt)}addToWindow(e){l.dqk.getAngularTestability=(r,a=!0)=>{const d=e.findTestabilityInTree(r,a);if(null==d)throw new Error("Could not find testability for element.");return d},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const a=l.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const _=function(w){p=p||w,d--,0==d&&r(p)};a.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let rh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fs=new l.OlP("EventManagerPlugins");let Ia=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ko{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let _c=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends _c{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(r.appendChild(p))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ih),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ih))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ih(n){F().remove(n)}const Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ft=/%COMP%/g;function vo(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?vo(n,a,t):(a=a.replace(Ft,n),t.push(a))}return t}function oh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Da=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ms(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new ys(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case l.ifc.ShadowDom:return new Vs(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=vo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ia),l.LFG(Ls),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ms{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Pe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const d=Pe[a];d?e.setAttributeNS(d,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Pe[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,a&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,oh(r)):this.eventManager.addEventListener(e,t,oh(r))}}class ys extends ms{constructor(e,t,r,a){super(e),this.component=r;const d=vo(a+"-"+r.id,r.styles,[]);t.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Ft,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ft,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Vs extends ms{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=vo(a.id,a.styles,[]);for(let p=0;p<d.length;p++){const _=document.createElement("style");_.textContent=d[p],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bu=(()=>{class n extends Ko{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Jo=["alt","control","meta","shift"],gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ch={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _s=(()=>{class n extends Ko{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const d=n.parseEventName(r),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(r.pop());let p="";if(Jo.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),p+=w+".")}),p+=d,0!=r.length||0===d.length)return null;const _={};return _.domEventName=a,_.fullKey=p,_}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ch.hasOwnProperty(e)&&(e=ch[e]))}return gl[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Jo.forEach(d=>{d!=a&&wi[d](t)&&(r+=d+".")}),r+=a,r}static eventCallback(t,r,a){return d=>{n.getEventFullKey(d)===t&&a.runGuarded(()=>r(d))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Qi.makeCurrent(),kt.init()},multi:!0},{provide:Ce,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),bo=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:Fs,useClass:bu,multi:!0,deps:[Ce,l.R0b,l.Lbi]},{provide:Fs,useClass:_s,multi:!0,deps:[Ce]},[],{provide:Da,useClass:Da,deps:[Ia,Ls,l.AFp]},{provide:l.FYo,useExisting:Da},{provide:_c,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[Ce]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ia,useClass:Ia,deps:[Fs,l.R0b]},{provide:br,useClass:rh,deps:[]},[]];let wu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ul,useExisting:l.AFp},ll]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:bo,imports:[Q,l.hGG]}),n})();"undefined"!=typeof window&&window;let bl=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static init(t){const r=new n;return r.store=t,r}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ka(n,e){const t=n.getElementById(e+"-state");let r={};if(t&&t.textContent)try{r=JSON.parse(function(n){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return n.replace(/&[^;]+;/g,t=>e[t])}(t.textContent))}catch(a){console.warn("Exception while restoring TransferState for app "+e,a)}return bl.init(r)}let Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:bl,useFactory:ka,deps:[Ce,l.AFp]}]}),n})();var kn=V(4402),Un=V(7574),Du=V(9796),ft=V(8002),Ra=V(1555);function js(n,e){return new Un.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let d=0,p=0;for(let _=0;_<r;_++){const w=(0,kn.D)(n[_]);let S=!1;t.add(w.subscribe({next:k=>{S||(S=!0,p++),a[_]=k},error:k=>t.error(k),complete:()=>{d++,(d===r||!S)&&(p===r&&t.next(e?e.reduce((k,O,H)=>(k[O]=a[H],k),{}):a),t.complete())}}))}})}let Bs=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Zs=(()=>{class n extends Bs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Hs=new l.OlP("NgValueAccessor"),La={provide:Hs,useExisting:(0,l.Gpc)(()=>wl),multi:!0};let wl=(()=>{class n extends Zs{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(d){return r.onChange(d.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([La]),l.qOj]}),n})();const fh={provide:Hs,useExisting:(0,l.Gpc)(()=>Ei),multi:!0},Sc=new l.OlP("CompositionEventMode");let Ei=(()=>{class n extends Bs{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Sc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[l._Bn([fh]),l.qOj]}),n})();function Ii(n){return null==n||0===n.length}const Er=new l.OlP("NgValidators"),Xi=new l.OlP("NgAsyncValidators");function wo(n){return null}function ph(n){return null!=n}function Pc(n){const e=(0,l.QGY)(n)?(0,kn.D)(n):n;return(0,l.CqO)(e),e}function $f(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Il(n,e){return e.map(t=>t(n))}function Tl(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Dl(n){return null!=n?function(n){if(!n)return null;const e=n.filter(ph);return 0==e.length?null:function(t){return $f(Il(t,e))}}(Tl(n)):null}function xu(n){return null!=n?function(n){if(!n)return null;const e=n.filter(ph);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Du.k)(e))return js(e,null);if((0,Ra.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return js(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return js(n=1===n.length&&(0,Du.k)(n[0])?n[0]:n,null).pipe((0,ft.U)(t=>e(...t)))}return js(n,null)}(Il(t,e).map(Pc)).pipe((0,ft.U)($f))}}(Tl(n)):null}function Ua(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Al(n){return n._rawValidators}function Nc(n){return n._rawAsyncValidators}function Mu(n){return n?Array.isArray(n)?n:[n]:[]}function zs(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ws(n,e){const t=Mu(e);return Mu(n).forEach(a=>{zs(t,a)||t.push(a)}),t}function ea(n,e){return Mu(e).filter(t=>!zs(n,t))}let dm=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Dl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})(),$t=(()=>{class n extends dm{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();class es extends dm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ta{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let Ir=(()=>{class n extends ta{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(es,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Tr=(()=>{class n extends ta{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($t,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function j(n,e){return[...e.path,n]}function X(n,e){We(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kr(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function me(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lt(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Re(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function We(n,e){const t=Al(n);null!==e.validator?n.setValidators(Ua(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Nc(n);null!==e.asyncValidator?n.setAsyncValidators(Ua(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Re(e._rawValidators,a),Re(e._rawAsyncValidators,a)}function Lt(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=Al(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==e.validator);d.length!==a.length&&(t=!0,n.setValidators(d))}}if(null!==e.asyncValidator){const a=Nc(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==e.asyncValidator);d.length!==a.length&&(t=!0,n.setAsyncValidators(d))}}}const r=()=>{};return Re(e._rawValidators,r),Re(e._rawAsyncValidators,r),t}function kr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ts(n,e){We(n,e)}function Cs(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Sl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fm(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(d=>{d.constructor===Ei?t=d:function(n){return Object.getPrototypeOf(n.constructor)===Zs}(d)?r=d:a=d}),a||r||t||null}function Nu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ks="VALID",mh="INVALID",xn="PENDING",ja="DISABLED";function na(n){return(yh(n)?n.validators:n)||null}function xl(n){return Array.isArray(n)?Dl(n):n||null}function Lc(n,e){return(yh(e)?e.asyncValidators:n)||null}function Kf(n){return Array.isArray(n)?xu(n):n||null}function yh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Yf{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xl(this._rawValidators),this._composedAsyncValidatorFn=Kf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ks}get invalid(){return this.status===mh}get pending(){return this.status==xn}get disabled(){return this.status===ja}get enabled(){return this.status!==ja}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Kf(e)}addValidators(e){this.setValidators(Ws(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ws(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ea(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ea(e,this._rawAsyncValidators))}hasValidator(e){return zs(this._rawValidators,e)}hasAsyncValidator(e){return zs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ja,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ks,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ks||this.status===xn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ja:Ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xn,this._hasOwnPendingAsyncValidator=!0;const t=Pc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof oi?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof Ml&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ja:this.errors?mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xn)?xn:this._anyControlsHaveStatus(mh)?mh:Ks}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ys extends Yf{constructor(e=null,t,r){super(na(t),Lc(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class oi extends Yf{constructor(e,t,r){super(na(t),Lc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Ys?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,d)=>{r=t(r,a,d)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Ml extends Yf{constructor(e,t,r){super(na(t),Lc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ys?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ba={provide:$t,useExisting:(0,l.Gpc)(()=>ra)},kl=(()=>Promise.resolve(null))();let ra=(()=>{class n extends $t{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new oi({},Dl(t),xu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),X(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Nu(this._directives,t)})}addFormGroup(t){kl.then(()=>{const r=this._findContainer(t.path),a=new oi({});ts(a,t),r.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Sl(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Er,10),l.Y36(Xi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ba]),l.qOj]}),n})(),Vc=(()=>{class n extends $t{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return j(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const nw={provide:es,useExisting:(0,l.Gpc)(()=>Bc)},Jf=(()=>Promise.resolve(null))();let Bc=(()=>{class n extends es{constructor(t,r,a,d){super(),this.control=new Ys,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=fm(0,d)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Cs(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?j(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Jf.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,a=""===r||r&&"false"!==r;Jf.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($t,9),l.Y36(Er,10),l.Y36(Xi,10),l.Y36(Hs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([nw]),l.qOj,l.TTD]}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const iv={provide:Hs,useExisting:(0,l.Gpc)(()=>_h),multi:!0};let _h=(()=>{class n extends Zs{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([iv]),l.qOj]}),n})(),ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Zc=new l.OlP("NgModelWithFormControlWarning"),_m={provide:$t,useExisting:(0,l.Gpc)(()=>Eo)};let Eo=(()=>{class n extends $t{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return X(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){me(t.control||null,t,!1),Nu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Sl(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(me(r||null,t),a instanceof Ys&&(X(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ts(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Lt(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){We(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Er,10),l.Y36(Xi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_m]),l.qOj,l.TTD]}),n})();const ov={provide:$t,useExisting:(0,l.Gpc)(()=>ep)};let ep=(()=>{class n extends Vc{constructor(t,r,a){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(a)}_checkParentType(){vm(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($t,13),l.Y36(Er,10),l.Y36(Xi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([ov]),l.qOj]}),n})();const Fu={provide:$t,useExisting:(0,l.Gpc)(()=>tp)};let tp=(()=>{class n extends $t{constructor(t,r,a){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return j(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){vm(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($t,13),l.Y36(Er,10),l.Y36(Xi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([Fu]),l.qOj]}),n})();function vm(n){return!(n instanceof ep||n instanceof Eo||n instanceof tp)}const Js={provide:es,useExisting:(0,l.Gpc)(()=>Za)};let Za=(()=>{class n extends es{constructor(t,r,a,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=fm(0,d)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Cs(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return j(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($t,13),l.Y36(Er,10),l.Y36(Xi,10),l.Y36(Hs,10),l.Y36(Zc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Js]),l.qOj,l.TTD]}),n._ngModelWarningSentOnce=!1,n})();const bh={provide:Hs,useExisting:(0,l.Gpc)(()=>Ol),multi:!0};function bm(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ol=(()=>{class n extends Zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=bm(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([bh]),l.qOj]}),n})(),np=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(bm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ol,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const uv={provide:Hs,useExisting:(0,l.Gpc)(()=>rp),multi:!0};function Hc(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let rp=(()=>{class n extends Zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(d=>this._getOptionId(d));r=(d,p)=>{d._setSelected(a.indexOf(p.toString())>-1)}}else r=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const d=r.selectedOptions;for(let p=0;p<d.length;p++){const _=d.item(p),w=this._getOptionValue(_.value);a.push(w)}}else{const d=r.options;for(let p=0;p<d.length;p++){const _=d.item(p);if(_.selected){const w=this._getOptionValue(_.value);a.push(w)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([uv]),l.qOj]}),n})(),ip=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Hc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Hc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(rp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ch={provide:Er,useExisting:(0,l.Gpc)(()=>$a),multi:!0},Cm={provide:Er,useExisting:(0,l.Gpc)(()=>$c),multi:!0};let $a=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(n){return Ii(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[l._Bn([Ch])]}),n})(),$c=(()=>{class n extends $a{validate(t){return this.required?function(n){return!0===n.value?null:{required:!0}}(t):null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r.required?"":null)},features:[l._Bn([Cm]),l.qOj]}),n})();const ap={provide:Er,useExisting:(0,l.Gpc)(()=>Nl),multi:!0};let Nl=(()=>{class n{constructor(){this._validator=wo}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this.enabled()?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=this.enabled()?function(n){return e=>Ii(e.value)||!function(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(function(n){return"number"==typeof n?n:parseInt(n,10)}(this.minlength)):wo}enabled(){return null!=this.minlength}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([ap]),l.TTD]}),n})();const ow={provide:Er,useExisting:(0,l.Gpc)(()=>qc),multi:!0};let qc=(()=>{class n{constructor(){this._validator=wo}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function(n){if(!n)return wo;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ii(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([ow]),l.TTD]}),n})(),wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ia]]}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wm]}),n})(),Gc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wm]}),n})(),wh=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let _,d=null,p=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(d=null!=r.validators?r.validators:null,p=null!=r.asyncValidators?r.asyncValidators:null,_=null!=r.updateOn?r.updateOn:void 0):(d=null!=r.validator?r.validator:null,p=null!=r.asyncValidator?r.asyncValidator:null)),new oi(a,{asyncValidators:p,updateOn:_,validators:d})}control(t,r,a){return new Ys(t,r,a)}array(t,r,a){const d=t.map(p=>this._createControl(p));return new Ml(d,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof Ys||t instanceof oi||t instanceof Ml?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:function(){return new n},token:n,providedIn:Gc}),n})();var Ke=V(5917),Hr=V(9773);function Vu(n,e){return(0,Hr.zg)(n,e,1)}var Ti=V(7393);function Wn(n,e){return function(r){return r.lift(new zc(n,e))}}class zc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Tm(e,this.predicate,this.thisArg))}}class Tm extends Ti.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class Dm{}class Eh{}class Qs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const a=t.slice(0,r),d=a.toLowerCase(),p=t.slice(r+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const a=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(t,a))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...r),this.headers.set(t,a);break;case"d":const d=e.value;if(d){let p=this.headers.get(t);if(!p)return;p=p.filter(_=>-1===d.indexOf(_)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class uw{encodeKey(e){return Kc(e)}encodeValue(e){return Kc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Wc=/%(\d[a-f0-9])/gi,Yn={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Kc(n){return encodeURIComponent(n).replace(Wc,(e,t)=>{var r;return null!==(r=Yn[t])&&void 0!==r?r:e})}function dp(n){return`${n}`}class sa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new uw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,_]=-1==d?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,d)),e.decodeValue(a.slice(d+1))],w=t.get(p)||[];w.push(_),t.set(p,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const a=e[r];Array.isArray(a)?a.forEach(d=>{t.push({param:r,value:d,op:"a"})}):t.push({param:r,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new sa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const a=r.indexOf(dp(e.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Rl{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Ih(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Th(n){return"undefined"!=typeof Blob&&n instanceof Blob}function hp(n){return"undefined"!=typeof FormData&&n instanceof FormData}class To{constructor(e,t,r,a){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,d=a):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Qs),this.context||(this.context=new Rl),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+p}}else this.params=new sa,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ih(this.body)||Th(this.body)||hp(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof sa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hp(this.body)?null:Th(this.body)?this.body.type||null:Ih(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,a=e.url||this.url,d=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,w=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let S=e.headers||this.headers,k=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((H,z)=>H.set(z,e.setHeaders[z]),S)),e.setParams&&(k=Object.keys(e.setParams).reduce((H,z)=>H.set(z,e.setParams[z]),k)),new To(r,a,p,{params:k,headers:S,context:O,reportProgress:w,responseType:d,withCredentials:_})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class Yc{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jc extends Yc{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new Jc({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Dh extends Yc{constructor(e={}){super(e),this.type=or.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Dh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Am extends Yc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ah(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fp=(()=>{class n{constructor(t){this.handler=t}request(t,r,a={}){let d;if(t instanceof To)d=t;else{let w,S;w=a.headers instanceof Qs?a.headers:new Qs(a.headers),a.params&&(S=a.params instanceof sa?a.params:new sa({fromObject:a.params})),d=new To(t,r,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=(0,Ke.of)(d).pipe(Vu(w=>this.handler.handle(w)));if(t instanceof To||"events"===a.observe)return p;const _=p.pipe(Wn(w=>w instanceof Dh));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return _.pipe((0,ft.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return _.pipe((0,ft.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return _.pipe((0,ft.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));case"json":default:return _.pipe((0,ft.U)(w=>w.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new sa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,a={}){return this.request("PATCH",t,Ah(a,r))}post(t,r,a={}){return this.request("POST",t,Ah(a,r))}put(t,r,a={}){return this.request("PUT",t,Ah(a,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class v{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const f=new l.OlP("HTTP_INTERCEPTORS");let g=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const bt=/^\)\]\}',?\n/;let pr=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Un.y(r=>{const a=this.xhrFactory.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((z,Ee)=>a.setRequestHeader(z,Ee.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&a.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();a.responseType="json"!==z?z:"text"}const d=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const z=1223===a.status?204:a.status,Ee=a.statusText||"OK",He=new Qs(a.getAllResponseHeaders()),Qe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return p=new Jc({headers:He,status:z,statusText:Ee,url:Qe}),p},w=()=>{let{headers:z,status:Ee,statusText:He,url:Qe}=_(),_t=null;204!==Ee&&(_t=void 0===a.response?a.responseText:a.response),0===Ee&&(Ee=_t?200:0);let an=Ee>=200&&Ee<300;if("json"===t.responseType&&"string"==typeof _t){const Bn=_t;_t=_t.replace(bt,"");try{_t=""!==_t?JSON.parse(_t):null}catch(qt){_t=Bn,an&&(an=!1,_t={error:qt,text:_t})}}an?(r.next(new Dh({body:_t,headers:z,status:Ee,statusText:He,url:Qe||void 0})),r.complete()):r.error(new Am({error:_t,headers:z,status:Ee,statusText:He,url:Qe||void 0}))},S=z=>{const{url:Ee}=_(),He=new Am({error:z,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ee||void 0});r.error(He)};let k=!1;const O=z=>{k||(r.next(_()),k=!0);let Ee={type:or.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(Ee.total=z.total),"text"===t.responseType&&!!a.responseText&&(Ee.partialText=a.responseText),r.next(Ee)},H=z=>{let Ee={type:or.UploadProgress,loaded:z.loaded};z.lengthComputable&&(Ee.total=z.total),r.next(Ee)};return a.addEventListener("load",w),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),t.reportProgress&&(a.addEventListener("progress",O),null!==d&&a.upload&&a.upload.addEventListener("progress",H)),a.send(d),r.next({type:or.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",w),a.removeEventListener("timeout",S),t.reportProgress&&(a.removeEventListener("progress",O),null!==d&&a.upload&&a.upload.removeEventListener("progress",H)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ui=new l.OlP("XSRF_COOKIE_NAME"),$r=new l.OlP("XSRF_HEADER_NAME");class Sh{}let pp=(()=>{class n{constructor(t,r,a){this.doc=t,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce),l.LFG(l.Lbi),l.LFG(ui))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xh=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const a=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(t);const d=this.tokenService.getToken();return null!==d&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,d)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sh),l.LFG($r))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gp=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(f,[]);this.chain=r.reduceRight((a,d)=>new v(a,d),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Eh),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mp=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:xh,useClass:g}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ui,useValue:t.cookieName}:[],t.headerName?{provide:$r,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xh,{provide:f,useExisting:xh,multi:!0},{provide:Sh,useClass:pp},{provide:ui,useValue:"XSRF-TOKEN"},{provide:$r,useValue:"X-XSRF-TOKEN"}]}),n})(),Mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fp,{provide:Dm,useClass:gp},pr,{provide:Eh,useExisting:pr}],imports:[[mp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),vv=(()=>{class n{swipe(t,r){const a=[t.changedTouches[0].pageX,t.changedTouches[0].pageY],d=(new Date).getTime();if("start"===r)this._swipeCoord=a,this._swipeTime=d;else if("end"===r){const p=[a[0]-this._swipeCoord[0],a[1]-this._swipeCoord[1]];if(d-this._swipeTime<1e3&&Math.abs(p[1])<Math.abs(p[0])&&Math.abs(p[0])>30)return p[0]<0?1:-1}return 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vv],imports:[[Q,Pa]]}),n})();var bv=V(6856),Cv=V.n(bv);const hw=["list"],Bx=["ng2-carouselamos",""];function kh(n,e){}const wv=function(n,e,t){return{$implicit:n,index:e,selectedIndex:t}};function fw(n,e){if(1&n&&l.YNc(0,kh,0,0,"ng-template",6),2&n){const t=e.$implicit,r=e.index,a=l.oxw();l.Q6J("ngTemplateOutlet",a.$item)("ngTemplateOutletContext",l.kEZ(2,wv,t,r,a.childIndex))}}function JD(n,e){}function Ev(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2),d=l.MAs(3);return a.scroll(!1,d)}),l.YNc(1,JD,0,0,"ng-template",10),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("disabled",t.amount>=0),l.xp6(1),l.Q6J("ngTemplateOutlet",t.$prev)}}function QD(n,e){}function XD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2),d=l.MAs(3);return a.scroll(!0,d)}),l.YNc(1,QD,0,0,"ng-template",10),l.qZA()}if(2&n){const t=l.oxw(2),r=l.MAs(3);l.Q6J("disabled",t.amount<=-(r.scrollWidth-t.width)),l.xp6(1),l.Q6J("ngTemplateOutlet",t.$next)}}function eA(n,e){if(1&n&&(l.TgZ(0,"div",7),l.YNc(1,Ev,2,2,"button",8),l.YNc(2,XD,2,2,"button",8),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.$prev),l.xp6(1),l.Q6J("ngIf",t.$next)}}let tA=(()=>{class n{constructor(){this.childIndex=0,this.amount=0,this.startPress=0,this.lastX=0,this.startAt=0,this.items=[],this.width=500,this.onSelectedItem=new l.vpe}onMousedown(t){1===t.which&&(this.startPress=t.clientX,this.lastX=this.amount)}onTouchdown(t){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault(),this.startPress=t.targetTouches[0].clientX,this.lastX=this.amount}onMousemove(t,r){if(1===t.which){const a=this.lastX-(this.startPress-t.clientX);if(a>0||a<-(r-this.width))return;this.amount=a}}onTouchmove(t,r){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault();const a=this.lastX-(this.startPress-t.targetTouches[0].clientX);a>0||a<-(r-this.width)||(this.amount=a)}onMouseup(t,r){1===t.which&&(this.startPress=0,this.snap(r))}onTouchup(t,r){navigator.userAgent.indexOf("Android")>=0&&t.preventDefault(),this.startPress=0,this.snap(r)}snap(t){let r=0,a=0;for(let d=0;d<this.items.length;d++){const p=t.children[d],_=p.currentStyle||window.getComputedStyle(p);if(r+=p.offsetWidth+(parseFloat(_.marginLeft)+parseFloat(_.marginRight)),this.amount<=a&&this.amount>=-r)return this.amount=-a,this.childIndex=d,void this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!1});a=r}return r}scroll(t,r,a=1){this.childIndex+=t?a:-a,this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!1}),this.amount=-this.calcScroll(r)}calcScroll(t){let r=0;for(let a=this.childIndex-1;a>=0;a--){const d=t.children[a],p=d.currentStyle||window.getComputedStyle(d);r+=d.offsetWidth+(parseFloat(p.marginLeft)+parseFloat(p.marginRight))}return r}ngOnChanges(t){t.items&&!Cv()(t.items.previousValue,t.items.currentValue)&&(t.items.firstChange&&this.onSelectedItem.emit({item:this.items[this.childIndex],index:this.childIndex,first:!0}),this.amount=0)}ngAfterViewInit(){this.startPress=1,this.scroll(!0,this.list.nativeElement,this.startAt),setTimeout(()=>this.startPress=0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ng2-carouselamos",""]],viewQuery:function(t,r){if(1&t&&l.Gf(hw,7),2&t){let a;l.iGM(a=l.CRH())&&(r.list=a.first)}},inputs:{startAt:"startAt",items:"items",width:"width",$prev:"$prev",$next:"$next",$item:"$item"},outputs:{onSelectedItem:"onSelectedItem"},features:[l.TTD],attrs:Bx,decls:6,vars:13,consts:[[1,"ng2-carouselamos-container"],[1,"ng2-carouselamos-wrapper",3,"mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend"],[1,"ng2-carouselamos"],["list",""],[4,"ngFor","ngForOf"],["class","controls",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"controls"],["type","button",3,"disabled","click",4,"ngIf"],["type","button",3,"disabled","click"],[3,"ngTemplateOutlet"]],template:function(t,r){if(1&t){const a=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.NdJ("mousedown",function(p){return r.onMousedown(p)})("touchstart",function(p){return r.onTouchdown(p)})("mousemove",function(p){l.CHM(a);const _=l.MAs(3);return r.onMousemove(p,_.scrollWidth)})("touchmove",function(p){l.CHM(a);const _=l.MAs(3);return r.onTouchmove(p,_.scrollWidth)})("mouseup",function(p){l.CHM(a);const _=l.MAs(3);return r.onMouseup(p,_)})("mouseleave",function(p){l.CHM(a);const _=l.MAs(3);return r.onMouseup(p,_)})("touchend",function(p){l.CHM(a);const _=l.MAs(3);return r.onTouchup(p,_)}),l.TgZ(2,"div",2,3),l.YNc(4,fw,1,6,void 0,4),l.qZA(),l.qZA(),l.YNc(5,eA,3,2,"div",5),l.qZA()}2&t&&(l.xp6(1),l.Udp("width",r.width+"px"),l.xp6(1),l.Udp("transition",r.startPress>0?"none":"-webkit-transform 1s")("webkit-transition",r.startPress>0?"none":"-webkit-transform 1s")("transform","translateX("+r.amount+"px)")("webkit-transform","translateX("+r.amount+"px)"),l.uIk("startPress",r.startPress),l.xp6(2),l.Q6J("ngForOf",r.items),l.xp6(1),l.Q6J("ngIf",r.$prev||r.$next))},directives:[Fn,qn,Ho],styles:[".ng2-carouselamos-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.ng2-carouselamos-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng2-carouselamos[_ngcontent-%COMP%]{display:flex;transition:transform 1s}.controls[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;width:100%;justify-content:space-between;top:50%;left:0;transform:translateY(-50%)}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:all;background:0 0;border:0}"]}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Q]]}),n})();var Do=V(8939),Iv=V(3637),qr=V(6643),Ph=V(3282);function Tv(...n){return(0,Ph.J)(1)((0,Ke.of)(...n))}var Dv=V(4869);function yp(...n){const e=n[n.length-1];return(0,Dv.K)(e)?(n.pop(),t=>Tv(n,t,e)):t=>Tv(n,t)}function Uu(){return n=>n.lift(new pw)}class pw{call(e,t){return t.subscribe(new gw(e))}}class gw extends Ti.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function _p(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new xm(n,e,t))}}class xm{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new iA(e,this.accumulator,this.seed,this.hasSeed))}}class iA extends Ti.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}class yw{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new _w(e,this.compare,this.keySelector))}}class _w extends Ti.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}V(4671);var nt,bw=V(4486),Ie=V(8239),Ga=V(5452),vp=V(6034),za=V(5601),Ut=V(3854),Av="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xs={},Mm=Mm||{},xt=Av||self;function km(){}function Pm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ed(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ww="closure_uid_"+(1e9*Math.random()>>>0),Ew=0;function sA(n,e,t){return n.call.apply(n.bind,arguments)}function Iw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Ai(n,e,t){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sA:Iw).apply(null,arguments)}function Om(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,d){for(var p=Array(arguments.length-2),_=2;_<arguments.length;_++)p[_-2]=arguments[_];return e.prototype[a].apply(r,p)}}function Fl(){this.s=this.s,this.o=this.o}var oA={};Fl.prototype.s=!1,Fl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,ww)&&n[ww]||(n[ww]=++Ew)}(this);delete oA[n]}},Fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Aw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let d=0;d<r;d++)d in a&&e.call(t,a[d],d,n)};function Sv(n){return Array.prototype.concat.apply([],arguments)}function xv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Nm(n){return/^[\s\xa0]*$/.test(n)}var ji,Sw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ut(n,e){return-1!=n.indexOf(e)}function Rm(n,e){return n<e?-1:n>e?1:0}e:{var bp=xt.navigator;if(bp){var Ao=bp.userAgent;if(Ao){ji=Ao;break e}}ji=""}function Fm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xw(n){const e={};for(const t in n)e[t]=n[t];return e}var Lm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wa(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let d=0;d<Lm.length;d++)t=Lm[d],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cp(n){return Cp[" "](n),n}Cp[" "]=km;var Oh,n,Mv=ut(ji,"Opera"),wp=ut(ji,"Trident")||ut(ji,"MSIE"),kv=ut(ji,"Edge"),kw=kv||wp,Ka=ut(ji,"Gecko")&&!(ut(ji.toLowerCase(),"webkit")&&!ut(ji,"Edge"))&&!(ut(ji,"Trident")||ut(ji,"MSIE"))&&!ut(ji,"Edge"),Vm=ut(ji.toLowerCase(),"webkit")&&!ut(ji,"Edge");function Ep(){var n=xt.document;return n?n.documentMode:void 0}e:{var Pw="",Pv=(n=ji,Ka?/rv:([^\);]+)(\)|;)/.exec(n):kv?/Edge\/([\d\.]+)/.exec(n):wp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Vm?/WebKit\/(\S+)/.exec(n):Mv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pv&&(Pw=Pv?Pv[1]:""),wp){var Um=Ep();if(null!=Um&&Um>parseFloat(Pw)){Oh=String(Um);break e}}Oh=Pw}var Hx={};function uA(){return e=Hx,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Sw(String(Oh)).split("."),t=Sw("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var a=e[p]||"",d=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=Rm(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||Rm(0==a[2].length,0==d[2].length)||Rm(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n}();var e}var Nw=xt.document&&wp&&(Ep()||parseInt(Oh,10))||void 0,lA=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",km,e),xt.removeEventListener("test",km,e)}catch(t){}return n}();function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function jm(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ka){e:{try{Cp(e.nodeName);var a=!0;break e}catch(d){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$x[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jm.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},Pn(jm,li);var $x={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bm="closure_listenable_"+(1e6*Math.random()|0),qx=0;function Gx(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++qx,this.ca=this.fa=!1}function Nv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Rv(n){this.src=n,this.g={},this.h=0}function Rw(n,e){var t=e.type;if(t in n.g){var d,r=n.g[t],a=Dw(r,e);(d=0<=a)&&Array.prototype.splice.call(r,a,1),d&&(Nv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fw(n,e,t,r){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==r)return a}return-1}Rv.prototype.add=function(n,e,t,r,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var p=Fw(n,e,r,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new Gx(e,this.src,d,!!r,a)).fa=t,n.push(e)),e};var Lw="closure_lm_"+(1e6*Math.random()|0),Vw={};function ju(n,e,t,r,a){if(r&&r.once)return Fv(n,e,t,r,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ju(n,e[d],t,r,a);return null}return t=Lv(t),n&&n[Bm]?n.N(e,t,ed(r)?!!r.capture:!!r,a):Zm(n,e,t,!1,r,a)}function Zm(n,e,t,r,a,d){if(!e)throw Error("Invalid event type");var p=ed(a)?!!a.capture:!!a,_=Ya(n);if(_||(n[Lw]=_=new Rv(n)),(t=_.add(e,t,r,p,d)).proxy)return t;if(r=function(){var e=dA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lA||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(qm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Fv(n,e,t,r,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Fv(n,e[d],t,r,a);return null}return t=Lv(t),n&&n[Bm]?n.O(e,t,ed(r)?!!r.capture:!!r,a):Zm(n,e,t,!0,r,a)}function Hm(n,e,t,r,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Hm(n,e[d],t,r,a);else r=ed(r)?!!r.capture:!!r,t=Lv(t),n&&n[Bm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fw(d=n.g[e],t,r,a))&&(Nv(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=Ya(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fw(e,t,r,a)),(t=-1<n?e[n]:null)&&$m(t))}function $m(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Bm])Rw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(qm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ya(e))?(Rw(t,n),0==t.h&&(t.src=null,e[Lw]=null)):Nv(n)}}}function qm(n){return n in Vw?Vw[n]:Vw[n]="on"+n}function dA(n,e){if(n.ca)n=!0;else{e=new jm(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$m(n),n=t.call(r,e)}return n}function Ya(n){return(n=n[Lw])instanceof Rv?n:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(n){return"function"==typeof n?n:(n[Gm]||(n[Gm]=function(e){return n.handleEvent(e)}),n[Gm])}function Si(){Fl.call(this),this.i=new Rv(this),this.P=this,this.I=null}function Gr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var a=e;Wa(e=new li(r,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];a=zm(p,r,!0,e)&&a}if(a=zm(p=e.g=n,r,!0,e)&&a,a=zm(p,r,!1,e)&&a,t)for(d=0;d<t.length;d++)a=zm(p=e.g=t[d],r,!1,e)&&a}function zm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ca&&p.capture==t){var _=p.listener,w=p.ia||p.src;p.fa&&Rw(n.i,p),a=!1!==_.call(w,r)&&a}}return a&&!r.defaultPrevented}Pn(Si,Fl),Si.prototype[Bm]=!0,Si.prototype.removeEventListener=function(n,e,t,r){Hm(this,n,e,t,r)},Si.prototype.M=function(){if(Si.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Nv(t[r]);delete n.g[e],n.h--}}this.I=null},Si.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Si.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Wm=xt.JSON.stringify;function hA(){var n=jv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var td,Nh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Rh,n=>n.reset());class Rh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vv(n){xt.setTimeout(()=>{throw n},0)}function Ll(n,e){td||function(){var n=xt.Promise.resolve(void 0);td=function(){n.then(Uw)}}(),Uv||(td(),Uv=!0),jv.add(n,e)}var Uv=!1,jv=new class{constructor(){this.h=this.g=null}add(e,t){const r=Nh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Uw(){for(var n;n=hA();){try{n.h.call(n.g)}catch(t){Vv(t)}var e=Nh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uv=!1}function Lh(n,e){Si.call(this),this.h=n||1,this.g=e||xt,this.j=Ai(this.kb,this),this.l=Date.now()}function Ip(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Km(n,e,t){if("function"==typeof n)t&&(n=Ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function Tp(n){n.g=Km(()=>{n.g=null,n.i&&(n.i=!1,Tp(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pn(Lh,Si),(nt=Lh.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gr(this,"tick"),this.da&&(Ip(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Lh.Z.M.call(this),Ip(this),delete this.g};class pA extends Fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tp(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vh(n){Fl.call(this),this.h=n,this.g={}}Pn(Vh,Fl);var gA=[];function Bv(n,e,t,r){Array.isArray(t)||(t&&(gA[0]=t.toString()),t=gA);for(var a=0;a<t.length;a++){var d=ju(e,t[a],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Zv(n){Fm(n.g,function(e,t){this.g.hasOwnProperty(t)&&$m(e)},n),n.g={}}function Ym(){this.g=!0}function Uh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<a.length;p++)a[p]=""}}}return Wm(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}Vh.prototype.M=function(){Vh.Z.M.call(this),Zv(this)},Vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ym.prototype.Aa=function(){this.g=!1},Ym.prototype.info=function(){};var nd={},_A=null;function Hv(){return _A=_A||new Si}function $v(n){li.call(this,nd.Ma,n)}function Jm(n){const e=Hv();Gr(e,new $v(e,n))}function Bw(n,e){li.call(this,nd.STAT_EVENT,n),this.stat=e}function xi(n){const e=Hv();Gr(e,new Bw(e,n))}function qv(n,e){li.call(this,nd.Na,n),this.size=e}function Dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}nd.Ma="serverreachability",Pn($v,li),nd.STAT_EVENT="statevent",Pn(Bw,li),nd.Na="timingevent",Pn(qv,li);var Qm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xm(){}function Gv(){}Xm.prototype.h=null;var ty,Ap={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){li.call(this,"d")}function ey(){li.call(this,"c")}function ny(){}function Es(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Vh(this),this.P=vA,this.W=new Lh(n=kw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ry}function ry(){this.i=null,this.g="",this.h=!1}Pn(zv,li),Pn(ey,li),Pn(ny,Xm),ny.prototype.g=function(){return new XMLHttpRequest},ny.prototype.i=function(){return{}},ty=new ny;var vA=45e3,Wv={},Kv={};function iy(n,e,t){n.K=1,n.v=oy(Ja(e)),n.s=t,n.U=!0,$w(n,null)}function $w(n,e){n.F=Date.now(),Sp(n),n.A=Ja(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Yw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new ry,n.g=y0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new pA(Ai(n.Ia,n,n.g),n.O)),Bv(n.V,n.g,"readystatechange",n.gb),e=n.H?xw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jm(1),function(n,e,t,r,a,d){n.info(function(){if(n.g)if(d)for(var p="",_=d.split("&"),w=0;w<_.length;w++){var S=_[w].split("=");if(1<S.length){var k=S[0];S=S[1];var O=k.split("_");p=2<=O.length&&"type"==O[1]?p+(k+"=")+S+"&":p+(k+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function qw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Gw(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=Yv(n,t),a==Kv){4==e&&(n.o=4,xi(14),r=!1),Uh(n.j,n.m,null,"[Incomplete Response]");break}if(a==Wv){n.o=4,xi(15),Uh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uh(n.j,n.m,a,null),xp(n,a)}qw(n)&&a!=Kv&&a!=Wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),uE(e),e.L=!0,xi(11))):(Uh(n.j,n.m,t,"[Invalid Chunked Response]"),sd(n),id(n))}function Yv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Kv:(t=Number(e.substring(t,r)),isNaN(t)?Wv:(r+=1)+t>e.length?Kv:(e=e.substr(r,t),n.C=r+t,e))}function Sp(n){n.Y=Date.now()+n.P,zw(n,n.P)}function zw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dp(Ai(n.eb,n),e)}function rd(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function id(n){0==n.l.G||n.I||g0(n.l,n)}function sd(n){rd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ip(n.W),Zv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||e0(t.i,n)))if(t.I=n.N,!n.J&&e0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Dp(Ai(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;p0(t),cy(t)}no(t),xi(18)}if(1>=Xw(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else jl(t,11)}else if((n.J||t.g==n)&&p0(t),!Nm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const k=S[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const O=S[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const H=S[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Ee=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var d=r.i;!d.g&&(ut(Ee,"spdy")||ut(Ee,"quic")||ut(Ee,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(t0(d,d.h),d.h=null))}if(r.D){const He=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(r.sa=He,On(r.F,r.D,He))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((r=t).oa=NA(r,r.H?r.la:null,r.W),p.J){eE(r.i,p);var _=p,w=r.K;w&&_.setTimeout(w),_.B&&(rd(_),Sp(_)),r.g=p}else PA(r);0<t.l.length&&d0(t)}else"stop"!=S[0]&&"close"!=S[0]||jl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?jl(t,7):ly(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Jm(4)}catch(S){}}function sy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Pm(n)||"string"==typeof n)Aw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Pm(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Pm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var d=0;d<a;d++)e.call(void 0,r[d],t&&t[d],n)}}function jh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof jh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Qv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Bu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Bu(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function Bu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=Es.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Zu(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const k=Zu(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>k)&&(3!=k||kw||this.g&&(this.h.h||this.g.ga()||iE(this.g)))){this.I||4!=k||7==e||Jm(8==e||0>=O?3:2),rd(this);var t=this.g.ba();this.N=t;t:if(qw(this)){var r=iE(this.g);n="";var a=r.length,d=4==Zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sd(this),id(this);var p="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:d&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,d,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,w=this.g;if((_=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nm(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,xi(12),sd(this),id(this);break e}Uh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xp(this,t)}this.U?(Gw(this,k,p),kw&&this.i&&3==k&&(Bv(this.V,this.W,"tick",this.fb),this.W.start())):(Uh(this.j,this.m,p,null),xp(this,p)),4==k&&sd(this),this.i&&!this.I&&(4==k?g0(this.l,this):(this.i=!1,Sp(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),sd(this),id(this)}}}catch(k){}},nt.fb=function(){if(this.g){var n=Zu(this.g),e=this.g.ga();this.C<e.length&&(rd(this),Gw(this,n,e),this.i&&4!=n&&Sp(this))}},nt.cancel=function(){this.I=!0,sd(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jm(3),xi(17)),sd(this),this.o=2,id(this)):zw(this,this.Y-n)},(nt=jh.prototype).R=function(){Qv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return Qv(this),this.g.concat()},nt.get=function(n,e){return Bu(this.h,n)?this.h[n]:e},nt.set=function(n,e){Bu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],d=this.get(a);n.call(e,d,a,this)}};var bA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vl){this.g=void 0!==e?e:n.g,Mp(this,n.j),this.s=n.s,kp(this,n.i),Pp(this,n.m),this.l=n.l,e=n.h;var t=new Hh;t.i=e.i,e.g&&(t.g=new jh(e.g),t.h=e.h),Qa(this,t),this.o=n.o}else n&&(t=String(n).match(bA))?(this.g=!!e,Mp(this,t[1]||"",!0),this.s=Xa(t[2]||""),kp(this,t[3]||"",!0),Pp(this,t[4]),this.l=Xa(t[5]||"",!0),Qa(this,t[6]||"",!0),this.o=Xa(t[7]||"")):(this.g=!!e,this.h=new Hh(null,this.g))}function Ja(n){return new Vl(n)}function Mp(n,e,t){n.j=t?Xa(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kp(n,e,t){n.i=t?Xa(e,!0):e}function Pp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Qa(n,e,t){e instanceof Hh?(n.h=e,function(n,e){e&&!n.j&&(Ul(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(ay(this,r),Yw(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Bh(e,Ww)),n.h=new Hh(e,n.g))}function On(n,e,t){n.h.set(e,t)}function oy(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xa(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Op),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Op(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bh(e,Zh,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bh(e,Zh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bh(t,"/"==t.charAt(0)?Xv:EA,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bh(t,IA)),n.join("")};var Zh=/[#\/\?@]/g,EA=/[#\?:]/g,Xv=/[#\?]/g,Ww=/[#\?@]/g,IA=/#/g;function Hh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ul(n){n.g||(n.g=new jh,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var d=n[t].substring(0,r);a=n[t].substring(r+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ay(n,e){Ul(n),e=od(n,e),Bu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Bu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Qv(n)))}function Kw(n,e){return Ul(n),e=od(n,e),Bu(n.g.h,e)}function Yw(n,e,t){ay(n,e),0<t.length&&(n.i=null,n.g.set(od(n,e),xv(t)),n.h+=t.length)}function od(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qw(n){this.l=n||TA,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=Hh.prototype).add=function(n,e){Ul(this),this.i=null,n=od(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Ul(this),this.g.forEach(function(t,r){Aw(t,function(a){n.call(e,a,r,this)},this)},this)},nt.T=function(){Ul(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],d=0;d<a.length;d++)t.push(e[r]);return t},nt.R=function(n){Ul(this);var e=[];if("string"==typeof n)Kw(this,n)&&(e=Sv(e,this.g.get(od(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Sv(e,n[t])}return e},nt.set=function(n,e){return Ul(this),this.i=null,Kw(this,n=od(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var d=0;d<r.length;d++){var p=a;""!==r[d]&&(p+="="+encodeURIComponent(String(r[d]))),n.push(p)}}return this.i=n.join("&")};var TA=10;function ad(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xw(n){return n.h?1:n.g?n.g.size:0}function e0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function t0(n,e){n.g?n.g.add(e):n.h=e}function eE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xv(n.i)}function n0(){}function tE(){this.g=new n0}function Jn(n,e,t){const r=t||"";try{sy(n,function(a,d){let p=a;ed(a)&&(p=Wm(a)),e.push(r+d+"="+encodeURIComponent(p))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function s0(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(d){}}function to(n){this.l=n.$b||null,this.j=n.ib||!1}function qh(n,e){Si.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qw.prototype.cancel=function(){if(this.i=DA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},n0.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},n0.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Pn(to,Xm),to.prototype.g=function(){return new qh(this.l,this.j)},to.prototype.i=function(n){return function(){return n}}({}),Pn(qh,Si);var Np=0;function AA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Rp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fp(n)}function Fp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=qh.prototype).open=function(n,e){if(this.readyState!=Np)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fp(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rp(this)),this.readyState=Np},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fp(this)),this.g&&(this.readyState=3,Fp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rp(this):Fp(this),3==this.readyState&&AA(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,Rp(this))},nt.Ta=function(n){this.g&&(this.response=n,Rp(this))},nt.ha=function(){this.g&&Rp(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(qh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nE=xt.JSON.parse;function Ar(n){Si.call(this),this.headers=new jh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=o0,this.K=this.L=!1}Pn(Ar,Si);var o0="",rE=/^https?$/i,SA=["POST","PUT"];function Lp(n){return"content-type"==n.toLowerCase()}function uy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,a0(n),Vp(n)}function a0(n){n.D||(n.D=!0,Gr(n,"complete"),Gr(n,"error"))}function u0(n){if(n.h&&void 0!==Mm&&(!n.C[1]||4!=Zu(n)||2!=n.ba()))if(n.v&&4==Zu(n))Km(n.Fa,0,n);else if(Gr(n,"readystatechange"),4==Zu(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var a=String(n.H).match(bA)[1]||null;if(!a&&xt.self&&xt.self.location){var d=xt.self.location.protocol;a=d.substr(0,d.length-1)}r=!rE.test(a?a.toLowerCase():"")}t=r}if(t)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var p=2<Zu(n)?n.g.statusText:""}catch(w){p=""}n.j=p+" ["+n.ba()+"]",a0(n)}}finally{Vp(n)}}}function Vp(n,e){if(n.g){l0(n);const t=n.g,r=n.C[0]?km:null;n.g=null,n.C=null,e||Gr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function l0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function Zu(n){return n.g?n.g.readyState:0}function iE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case o0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function c0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Fm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function Gh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kA(n){this.za=0,this.l=[],this.h=new Ym,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gh("baseRetryDelayMs",5e3,n),this.$a=Gh("retryDelaySeedMs",1e4,n),this.Ya=Gh("forwardChannelMaxRetries",2,n),this.ra=Gh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Qw(n&&n.concurrentRequestLimit),this.Ca=new tE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ly(n){if(sE(n),3==n.G){var e=n.V++,t=Ja(n.F);On(t,"SID",n.J),On(t,"RID",e),On(t,"TYPE","terminate"),zh(n,t),(e=new Es(n,n.h,e,void 0)).K=2,e.v=oy(Ja(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=y0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sp(e)}lE(n)}function cy(n){n.g&&(uE(n),n.g.cancel(),n.g=null)}function sE(n){cy(n),n.u&&(xt.clearTimeout(n.u),n.u=null),p0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function oE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&d0(n)}function d0(n){ad(n.i)||n.m||(n.m=!0,Ll(n.Ha,n),n.C=0)}function aE(n,e){var t;t=e?e.m:n.V++;const r=Ja(n.F);On(r,"SID",n.J),On(r,"RID",t),On(r,"AID",n.U),zh(n,r),n.o&&n.s&&c0(r,n.o,n.s),t=new Es(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=f0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),t0(n.i,t),iy(t,r,e)}function zh(n,e){n.j&&sy({},function(t,r){On(e,r,t)})}function f0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ai(n.j.Oa,n.j,n):null;e:{var a=n.l;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=a[0].h,p.push("ofs="+d)):d=0:p.push("ofs="+d);let _=!0;for(let w=0;w<t;w++){let S=a[w].h;const k=a[w].g;if(S-=d,0>S)d=Math.max(0,a[w].h-100),_=!1;else try{Jn(k,p,"req"+S+"_")}catch(O){r&&r(k)}}if(_){r=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function PA(n){n.g||n.u||(n.Y=1,Ll(n.Ga,n),n.A=0)}function no(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dp(Ai(n.Ga,n),m0(n,n.A)),n.A++,0))}function uE(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function OA(n){n.g=new Es(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ja(n.oa);On(e,"RID","rpc"),On(e,"SID",n.J),On(e,"CI",n.N?"0":"1"),On(e,"AID",n.U),zh(n,e),On(e,"TYPE","xmlhttp"),n.o&&n.s&&c0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=oy(Ja(e)),t.s=null,t.U=!0,$w(t,n)}function p0(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function g0(n,e){var t=null;if(n.g==e){p0(n),uE(n),n.g=null;var r=2}else{if(!e0(n.i,e))return;t=e.D,eE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Gr(r=Hv(),new qv(r,t,e,a)),d0(n)}else PA(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(Xw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dp(Ai(n.Ha,n,e),m0(n,n.C)),n.C++,0)))}(n,e)||2==r&&no(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:jl(n,5);break;case 4:jl(n,10);break;case 3:jl(n,6);break;default:jl(n,2)}}function m0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function jl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ai(n.jb,n);t||(t=new Vl("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Mp(t,"https"),oy(t)),function(n,e){const t=new Ym;if(xt.Image){const r=new Image;r.onload=Om(s0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Om(s0,t,r,"TestLoadImage: error",!1,e),r.onabort=Om(s0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Om(s0,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xi(2);n.G=0,n.j&&n.j.va(e),lE(n),sE(n)}function lE(n){n.G=0,n.I=-1,n.j&&((0!=DA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xv(n.l),n.l.length=0),n.j.ua())}function NA(n,e,t){let r=function(n){return n instanceof Vl?Ja(n):new Vl(n,void 0)}(t);if(""!=r.i)e&&kp(r,e+"."+r.i),Pp(r,r.m);else{const a=xt.location;r=function(n,e,t,r){var a=new Vl(null,void 0);return n&&Mp(a,n),e&&kp(a,e),t&&Pp(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Fm(n.aa,function(a,d){On(r,d,a)}),t=n.sa,(e=n.D)&&t&&On(r,e,t),On(r,"VER",n.ma),zh(n,r),r}function y0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&n.Ba&&!n.qa?new to({ib:!0}):n.qa)).L=n.H,e}function dy(){}function hy(){if(wp&&!(10<=Number(Nw)))throw Error("Environmental error: no available transport.")}function rs(n,e){Si.call(this),this.g=new kA(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wh(this)}function cE(n){zv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dE(){ey.call(this),this.status=1}function Wh(n){this.g=n}(nt=Ar.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ty.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:ty),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void uy(this,d)}n=t||"";const a=new jh(this.headers);r&&sy(r,function(d,p){a.set(p,d)}),r=function(n){e:{var e=Lp;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=Dw(SA,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{l0(this),0<this.B&&((this.K=function(n){return wp&&uA()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=Km(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){uy(this,d)}},nt.pa=function(){void 0!==Mm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),Vp(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vp(this,!0)),Ar.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?u0(this):this.cb())},nt.cb=function(){u0(this)},nt.ba=function(){try{return 2<Zu(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nE(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=kA.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Es(this,this.h,n,void 0);let d=this.s;if(this.P&&(d?(d=xw(d),Wa(d,this.P)):d=this.P),null===this.o&&(a.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=f0(this,a,e),On(t=Ja(this.F),"RID",n),On(t,"CVER",22),this.D&&On(t,"X-HTTP-Session-Id",this.D),zh(this,t),this.o&&d&&c0(t,this.o,d),t0(this.i,a),this.Ra&&On(t,"TYPE","init"),this.ja?(On(t,"$req",e),On(t,"SID","null"),a.$=!0,iy(a,t,null)):iy(a,t,e),this.G=2}}else 3==this.G&&(n?aE(this,n):0==this.l.length||ad(this.i)||aE(this))},nt.Ga=function(){if(this.u=null,OA(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dp(Ai(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),cy(this),OA(this))},nt.ab=function(){null!=this.v&&(this.v=null,cy(this),no(this),xi(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(nt=dy.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},hy.prototype.g=function(n,e){return new rs(n,e)},Pn(rs,Si),rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ll(Ai(n.hb,n,e))),xi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=NA(n,null,n.W),d0(n)},rs.prototype.close=function(){ly(this.g)},rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,oE(this.g,e)}else this.v?((e={}).__data__=Wm(n),oE(this.g,e)):oE(this.g,n)},rs.prototype.M=function(){this.g.j=null,delete this.j,ly(this.g),delete this.g,rs.Z.M.call(this)},Pn(cE,zv),Pn(dE,ey),Pn(Wh,dy),Wh.prototype.xa=function(){Gr(this.g,"a")},Wh.prototype.wa=function(n){Gr(this.g,new cE(n))},Wh.prototype.va=function(n){Gr(this.g,new dE(n))},Wh.prototype.ua=function(){Gr(this.g,"b")},hy.prototype.createWebChannel=hy.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,Qm.NO_ERROR=0,Qm.TIMEOUT=8,Qm.HTTP_ERROR=6,Zw.COMPLETE="complete",Gv.EventType=Ap,Ap.OPEN="a",Ap.CLOSE="b",Ap.ERROR="c",Ap.MESSAGE="d",Si.prototype.listen=Si.prototype.N,Ar.prototype.listenOnce=Ar.prototype.O,Ar.prototype.getLastError=Ar.prototype.La,Ar.prototype.getLastErrorCode=Ar.prototype.Da,Ar.prototype.getStatus=Ar.prototype.ba,Ar.prototype.getResponseJson=Ar.prototype.Qa,Ar.prototype.getResponseText=Ar.prototype.ga,Ar.prototype.send=Ar.prototype.ea;var RA=Xs.createWebChannelTransport=function(){return new hy},FA=Xs.getStatEventTarget=function(){return Hv()},_0=Xs.ErrorCode=Qm,fy=Xs.EventType=Zw,Kh=Xs.Event=nd,v0=Xs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aa=Xs.FetchXmlHttpFactory=to,Bl=Xs.WebChannel=Gv,LA=Xs.XhrIo=Ar;const hE="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let is="9.1.3";const So=new za.Yd("@firebase/firestore");function ci(){return So.logLevel}function Be(n,...e){if(So.logLevel<=za.in.DEBUG){const t=e.map(Zl);So.debug(`Firestore (${is}): ${n}`,...t)}}function gn(n,...e){if(So.logLevel<=za.in.ERROR){const t=e.map(Zl);So.error(`Firestore (${is}): ${n}`,...t)}}function ld(n,...e){if(So.logLevel<=za.in.WARN){const t=e.map(Zl);So.warn(`Firestore (${is}): ${n}`,...t)}}function Zl(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: `+n;throw gn(e),new Error(e)}function yt(n,e){n||it()}function $e(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cd{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class fE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class pE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gE{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const d=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let p=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ar,e.enqueueRetryable(()=>d(this.currentUser))};const _=()=>{const S=p;e.enqueueRetryable((0,Ie.Z)(function*(){yield S.promise,yield d(r.currentUser)}))},w=S=>{Be("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(Be("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ar)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new cd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new zr(e)}}class mE{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=zr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class yE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function _E(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Is.T=-1;class b0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=_E(40);for(let d=0;d<a.length;++d)r.length<20&&a[d]<t&&(r+=e.charAt(a[d]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function Jh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function C0(n){return n+"\0"}class di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new di(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new di(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function w0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Up{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Up.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Up?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const d=e.get(a),p=t.get(a);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Up{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const UA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Up{construct(e,t,r){return new hi(e,t,r)}static isValidIdentifier(e){return UA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const d=()=>{if(0===r.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let p=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===_?(p=!p,a++):"."!==_||p?(r+=_,a++):(d(),a++)}if(d(),p)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class Qh{constructor(e){this.fields=e,e.sort(hi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mi(t)}static fromUint8Array(e){const t=function(r){let a="";for(let d=0;d<r.length;++d)a+=String.fromCharCode(r[d]);return a}(e);return new Mi(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const BA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(yt(!!n),"string"==typeof n){let e=0;const t=BA.exec(n);if(yt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wr(n.seconds),nanos:Wr(n.nanos)}}function Wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jp(n){return"string"==typeof n?Mi.fromBase64String(n):Mi.fromUint8Array(n)}function vE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bE(n){const e=n.mapValue.fields.__previous_value__;return vE(e)?bE(e):e}function py(n){const e=Hu(n.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}function hd(n){return null==n}function gy(n){return 0===n&&1/n==-1/0}function my(n){return"number"==typeof n&&Number.isInteger(n)&&!gy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(dn.fromString(e))}static fromName(e){return new ot(dn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new dn(e.slice()))}}function fd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vE(n)?4:10:it()}function $u(n,e){const t=fd(n);if(t!==fd(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return py(n).isEqual(py(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const d=Hu(r.timestampValue),p=Hu(a.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,jp(n.bytesValue).isEqual(jp(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Wr(r.geoPointValue.latitude)===Wr(a.geoPointValue.latitude)&&Wr(r.geoPointValue.longitude)===Wr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Wr(r.integerValue)===Wr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const d=Wr(r.doubleValue),p=Wr(a.doubleValue);return d===p?gy(d)===gy(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return Jh(n.arrayValue.values||[],e.arrayValue.values||[],$u);case 10:return function(r,a){const d=r.mapValue.fields||{},p=a.mapValue.fields||{};if(w0(d)!==w0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(void 0===p[_]||!$u(d[_],p[_])))return!1;return!0}(n,e);default:return it()}var a}function yy(n,e){return void 0!==(n.values||[]).find(t=>$u(t,e))}function Bp(n,e){const t=fd(n),r=fd(e);if(t!==r)return Zt(t,r);switch(t){case 0:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(a,d){const p=Wr(a.integerValue||a.doubleValue),_=Wr(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(n,e);case 3:return CE(n.timestampValue,e.timestampValue);case 4:return CE(py(n),py(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(a,d){const p=jp(a),_=jp(d);return p.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const p=a.split("/"),_=d.split("/");for(let w=0;w<p.length&&w<_.length;w++){const S=Zt(p[w],_[w]);if(0!==S)return S}return Zt(p.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const p=Zt(Wr(a.latitude),Wr(d.latitude));return 0!==p?p:Zt(Wr(a.longitude),Wr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const p=a.values||[],_=d.values||[];for(let w=0;w<p.length&&w<_.length;++w){const S=Bp(p[w],_[w]);if(S)return S}return Zt(p.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){const p=a.fields||{},_=Object.keys(p),w=d.fields||{},S=Object.keys(w);_.sort(),S.sort();for(let k=0;k<_.length&&k<S.length;++k){const O=Zt(_[k],S[k]);if(0!==O)return O;const H=Bp(p[_[k]],w[S[k]]);if(0!==H)return H}return Zt(_.length,S.length)}(n.mapValue,e.mapValue);default:throw it()}}function CE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Hu(n),r=Hu(e),a=Zt(t.seconds,r.seconds);return 0!==a?a:Zt(t.nanos,r.nanos)}function _y(n){return wE(n)}function wE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Hu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jp(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",d=!0;for(const p of r.values||[])d?d=!1:a+=",",a+=wE(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let d="{",p=!0;for(const _ of a)p?p=!1:d+=",",d+=`${_}:${wE(r.fields[_])}`;return d+"}"}(n.mapValue):it();var e}function vy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hl(n){return!!n&&"integerValue"in n}function E0(n){return!!n&&"arrayValue"in n}function I0(n){return!!n&&"nullValue"in n}function EE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function $l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return dd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=hi.emptyPath(),r={},a=[];e.forEach((p,_)=>{if(!t.isImmediateParentOf(_)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=_.popLast()}p?r[_.lastSegment()]=$l(p):a.push(_.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,r,a)}delete(e){const t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Zp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){dd(t,(a,d)=>e[a]=d);for(const a of r)delete e[a]}clone(){return new Bi($l(this.value))}}function T0(n){const e=[];return dd(n.fields,(t,r)=>{const a=new hi([t]);if(Zp(r)){const d=T0(r.mapValue).fields;if(0===d.length)e.push(a);else for(const p of d)e.push(a.child(p))}else e.push(a)}),new Qh(e)}class Qn{constructor(e,t,r,a,d){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Qn(e,0,Pt.min(),Bi.empty(),0)}static newFoundDocument(e,t,r){return new Qn(e,1,t,r,0)}static newNoDocument(e,t){return new Qn(e,2,t,Bi.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Qn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZA{constructor(e,t=null,r=[],a=[],d=null,p=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=d,this.startAt=p,this.endAt=_,this.A=null}}function IE(n,e=null,t=[],r=[],a=null,d=null,p=null){return new ZA(n,e,t,r,a,d,p)}function Hp(n){const e=$e(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+_y(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Cy(e.startAt)),e.endAt&&(t+="|ub:",t+=Cy(e.endAt)),e.A=t}return e.A}function $p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!x0(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!$u(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qA(n.startAt,e.startAt)&&qA(n.endAt,e.endAt)}function by(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Zi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new D0(e,t,r):"array-contains"===t?new Kx(e,r):"in"===t?new qp(e,r):"not-in"===t?new $A(e,r):"array-contains-any"===t?new S0(e,r):new Zi(e,t,r)}static R(e,t,r){return"in"===t?new Wx(e,r):new A0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Bp(t,this.value)):null!==t&&fd(this.value)===fd(t)&&this.P(Bp(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class D0 extends Zi{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.P(t)}}class Wx extends Zi{constructor(e,t){super(e,"in",t),this.keys=DE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class A0 extends Zi{constructor(e,t){super(e,"not-in",t),this.keys=DE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}class Kx extends Zi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E0(t)&&yy(t.arrayValue,this.value)}}class qp extends Zi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yy(this.value.arrayValue,t)}}class $A extends Zi{constructor(e,t){super(e,"not-in",t)}matches(e){if(yy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yy(this.value.arrayValue,t)}}class S0 extends Zi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yy(this.value.arrayValue,r))}}class pd{constructor(e,t){this.position=e,this.before=t}}function Cy(n){return`${n.before?"b":"a"}:${n.position.map(e=>_y(e)).join(",")}`}class ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function x0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function M0(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const d=e[a],p=n.position[a];if(r=d.field.isKeyField()?ot.comparator(ot.fromName(p.referenceValue),t.key):Bp(p,t.data.field(d.field)),"desc"===d.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function qA(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$u(n.position[t],e.position[t]))return!1;return!0}class qu{constructor(e,t=null,r=[],a=[],d=null,p="F",_=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=d,this.limitType=p,this.startAt=_,this.endAt=w,this.V=null,this.S=null}}function wy(n,e,t,r,a,d,p,_){return new qu(n,e,t,r,a,d,p,_)}function Gl(n){return new qu(n)}function Ey(n){return!hd(n.limit)&&"F"===n.limitType}function Gp(n){return!hd(n.limit)&&"L"===n.limitType}function zp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Iy(n){for(const e of n.filters)if(e.v())return e.field;return null}function Wp(n){return null!==n.collectionGroup}function zl(n){const e=$e(n);if(null===e.V){e.V=[];const t=Iy(e),r=zp(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new ql(t)),e.V.push(new ql(hi.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.V.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new ql(hi.keyField(),d))}}}return e.V}function ro(n){const e=$e(n);if(!e.S)if("F"===e.limitType)e.S=IE(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of zl(e))t.push(new ql(d.field,"desc"===d.dir?"asc":"desc"));const r=e.endAt?new pd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new pd(e.startAt.position,!e.startAt.before):null;e.S=IE(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function AE(n,e,t){return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xh(n,e){return $p(ro(n),ro(e))&&n.limitType===e.limitType}function k0(n){return`${Hp(ro(n))}|lt:${n.limitType}`}function Kp(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${_y(r.value)}`;var r}).join(", ")}]`),hd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Cy(n.startAt)),n.endAt&&(e+=", endAt: "+Cy(n.endAt)),`Target(${e})`}(ro(n))}; limitType=${n.limitType})`}function ef(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ot.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!M0(t.startAt,zl(t),r)||t.endAt&&M0(t.endAt,zl(t),r)));var t,r}function SE(n){return(e,t)=>{let r=!1;for(const a of zl(n)){const d=GA(a,e,t);if(0!==d)return d;r=r||a.field.isKeyField()}return 0}}function GA(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):function(a,d,p){const _=d.data.field(a),w=p.data.field(a);return null!==_&&null!==w?Bp(_,w):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function xE(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gy(e)?"-0":e}}function Ty(n){return{integerValue:""+n}}function Dy(n,e){return my(e)?Ty(e):xE(n,e)}class Yp{constructor(){this._=void 0}}function ME(n,e,t){return n instanceof gd?function(r,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof Wl?O0(n,e):n instanceof Kl?zA(n,e):function(r,a){const d=P0(r,a),p=PE(d)+PE(r.C);return Hl(d)&&Hl(r.C)?Ty(p):xE(r.N,p)}(n,e)}function kE(n,e,t){return n instanceof Wl?O0(n,e):n instanceof Kl?zA(n,e):t}function P0(n,e){return n instanceof tf?Hl(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gd extends Yp{}class Wl extends Yp{constructor(e){super(),this.elements=e}}function O0(n,e){const t=N0(e);for(const r of n.elements)t.some(a=>$u(a,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Yp{constructor(e){super(),this.elements=e}}function zA(n,e){let t=N0(e);for(const r of n.elements)t=t.filter(a=>!$u(a,r));return{arrayValue:{values:t}}}class tf extends Yp{constructor(e,t){super(),this.N=e,this.C=t}}function PE(n){return Wr(n.integerValue||n.doubleValue)}function N0(n){return E0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jp{constructor(e,t){this.field=e,this.transform=t}}class OE{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ay(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qp{}function WA(n,e,t){n instanceof Xp?function(r,a,d){const p=r.value.clone(),_=R0(r.fieldTransforms,a,d.transformResults);p.setAll(_),a.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Gu?function(r,a,d){if(!Ay(r.precondition,a))return void a.convertToUnknownDocument(d.version);const p=R0(r.fieldTransforms,a,d.transformResults),_=a.data;_.setAll(FE(r)),_.setAll(p),a.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sy(n,e,t){var a;n instanceof Xp?function(r,a,d){if(!Ay(r.precondition,a))return;const p=r.value.clone(),_=KA(r.fieldTransforms,d,a);p.setAll(_),a.convertToFoundDocument(RE(a),p).setHasLocalMutations()}(n,e,t):n instanceof Gu?function(r,a,d){if(!Ay(r.precondition,a))return;const p=KA(r.fieldTransforms,d,a),_=a.data;_.setAll(FE(r)),_.setAll(p),a.convertToFoundDocument(RE(a),_).setHasLocalMutations()}(n,e,t):Ay(n.precondition,a=e)&&a.convertToNoDocument(Pt.min())}function NE(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),d=P0(r.transform,a||null);null!=d&&(null==t&&(t=Bi.empty()),t.set(r.field,d))}return t||null}function md(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Jh(t,r,(a,d)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Wl&&r instanceof Wl||t instanceof Kl&&r instanceof Kl?Jh(t.elements,r.elements,$u):t instanceof tf&&r instanceof tf?$u(t.C,r.C):t instanceof gd&&r instanceof gd);var t,r}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function RE(n){return n.isFoundDocument()?n.version:Pt.min()}class Xp extends Qp{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Gu extends Qp{constructor(e,t,r,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=d,this.type=1}}function FE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function R0(n,e,t){const r=new Map;yt(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],p=d.transform,_=e.data.field(d.field);r.set(d.field,kE(p,_,t[a]))}return r}function KA(n,e,t){const r=new Map;for(const a of n){const d=a.transform,p=t.data.field(a.field);r.set(a.field,ME(d,p,e))}return r}class yd extends Qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class eg extends Qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class eu{constructor(e){this.count=e}}var Nr,tn;function ua(n){switch(n){default:return it();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function xo(n){if(void 0===n)return gn("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Nr.OK:return ye.OK;case Nr.CANCELLED:return ye.CANCELLED;case Nr.UNKNOWN:return ye.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return ye.INTERNAL;case Nr.UNAVAILABLE:return ye.UNAVAILABLE;case Nr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Nr.NOT_FOUND:return ye.NOT_FOUND;case Nr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Nr.ABORTED:return ye.ABORTED;case Nr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Nr.DATA_LOSS:return ye.DATA_LOSS;default:return it()}}(tn=Nr||(Nr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Tn{constructor(e,t){this.comparator=e,this.root=t||fi.EMPTY}insert(e,t){return new Tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fi{constructor(e,t,r,a,d){this.key=e,this.value=t,this.color=null!=r?r:fi.RED,this.left=null!=a?a:fi.EMPTY,this.right=null!=d?d:fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,d){return new fi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const d=r(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return fi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1,fi.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,a){return this}insert(n,e,t){return new fi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gr{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=r.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gr(this.comparator);return t.data=e,t}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const YA=new Tn(ot.comparator);function Mo(){return YA}const F0=new Tn(ot.comparator);function _d(){return F0}const JA=new Tn(ot.comparator);function L0(){return JA}const QA=new gr(ot.comparator);function Cn(...n){let e=QA;for(const t of n)e=e.add(t);return e}const VE=new gr(Zt);function vd(){return VE}class ng{constructor(e,t,r,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,t)),new ng(Pt.min(),r,vd(),Mo(),Cn())}}class nf{constructor(e,t,r,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nf(Mi.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class rg{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class xy{constructor(e,t){this.targetId=e,this.O=t}}class ig{constructor(e,t,r=Mi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class My{constructor(){this.F=0,this.M=U0(),this.L=Mi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Cn(),t=Cn(),r=Cn();return this.M.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:it()}}),new nf(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=U0()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class UE{constructor(e){this.tt=e,this.et=new Map,this.nt=Mo(),this.st=V0(),this.it=new gr(Zt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const d=a.target;if(by(d))if(0===r){const p=new ot(d.path);this.at(t,p,Qn.newNoDocument(p,Pt.min()))}else yt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((d,p)=>{const _=this.dt(p);if(_){if(d.current&&by(_.target)){const w=new ot(_.target.path);null!==this.nt.get(w)||this.gt(p,w)||this.at(p,w,Qn.newNoDocument(w,e))}d.K&&(t.set(p,d.W()),d.G())}});let r=Cn();this.st.forEach((d,p)=>{let _=!0;p.forEachWhile(w=>{const S=this.dt(w);return!S||2===S.purpose||(_=!1,!1)}),_&&(r=r.add(d))});const a=new ng(e,t,this.it,this.nt,r);return this.nt=Mo(),this.st=V0(),this.it=new gr(Zt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new My,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new gr(Zt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new My),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function V0(){return new Tn(ot.comparator)}function U0(){return new Tn(ot.comparator)}const jE={asc:"ASCENDING",desc:"DESCENDING"},BE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZE{constructor(e,t){this.databaseId=e,this.D=t}}function rf(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(n,e){return n.D?e.toBase64():e.toUint8Array()}function XA(n,e){return rf(n,e.toTimestamp())}function pi(n){return yt(!!n),Pt.fromTimestamp(function(e){const t=Hu(e);return new di(t.seconds,t.nanos)}(n))}function j0(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $E(n){const e=dn.fromString(n);return yt(wd(e)),e}function sg(n,e){return j0(n.databaseId,e.path)}function tu(n,e){const t=$E(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(GE(t))}function B0(n,e){return j0(n.databaseId,e)}function qE(n){const e=$E(n);return 4===e.length?dn.emptyPath():GE(e)}function og(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GE(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zE(n,e,t){return{name:sg(n,e),fields:t.value.mapValue.fields}}function WE(n,e,t){const r=tu(n,e.name),a=pi(e.updateTime),d=new Bi({mapValue:{fields:e.fields}}),p=Qn.newFoundDocument(r,a,d);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function ky(n,e){let t;if(e instanceof Xp)t={update:zE(n,e.key,e.value)};else if(e instanceof yd)t={delete:sg(n,e.key)};else if(e instanceof Gu)t={update:zE(n,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof eg))return it();t={verify:sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,d){const p=d.transform;if(p instanceof gd)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tf)return{fieldPath:d.field.canonicalString(),increment:p.C};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:XA(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:it()),t;var a}function KE(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Or.updateTime(pi(a.updateTime)):void 0!==a.exists?Or.exists(a.exists):Or.none():Or.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(d,p){let _=null;"setToServerValue"in p?(yt("REQUEST_TIME"===p.setToServerValue),_=new gd):"appendMissingElements"in p?_=new Wl(p.appendMissingElements.values||[]):"removeAllFromArray"in p?_=new Kl(p.removeAllFromArray.values||[]):"increment"in p?_=new tf(d,p.increment):it();const w=hi.fromServerFormat(p.fieldPath);return new Jp(w,_)}(n,a)):[];var a;if(e.update){const a=tu(n,e.update.name),d=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Qh((e.updateMask.fieldPaths||[]).map(S=>hi.fromServerFormat(S)));return new Gu(a,d,p,t,r)}return new Xp(a,d,t,r)}if(e.delete){const a=tu(n,e.delete);return new yd(a,t)}if(e.verify){const a=tu(n,e.verify);return new eg(a,t)}return it()}function Z0(n,e){return{documents:[B0(n,e.path)]}}function H0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=B0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=B0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(_){if(0===_.length)return;const w=_.map(S=>function(k){if("=="===k.op){if(EE(k.value))return{unaryFilter:{field:Yl(k.field),op:"IS_NAN"}};if(I0(k.value))return{unaryFilter:{field:Yl(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(EE(k.value))return{unaryFilter:{field:Yl(k.field),op:"IS_NOT_NAN"}};if(I0(k.value))return{unaryFilter:{field:Yl(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(k.field),op:QE(k.op),value:k.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(_){if(0!==_.length)return _.map(w=>{return{field:Yl((S=w).field),direction:JE(S.dir)};var S})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=(w=e.limit,n.D||hd(w)?w:{value:w});var w;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=G0(e.startAt)),e.endAt&&(t.structuredQuery.endAt=G0(e.endAt)),t}function $0(n){let e=qE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){yt(1===r);const k=t.from[0];k.allDescendants?a=k.collectionId:e=e.child(k.collectionId)}let d=[];t.where&&(d=q0(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(k=>{return new ql(bd((O=k).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let _=null;t.limit&&(_=function(k){let O;return O="object"==typeof k?k.value:k,hd(O)?null:O}(t.limit));let w=null;t.startAt&&(w=z0(t.startAt));let S=null;return t.endAt&&(S=z0(t.endAt)),wy(e,a,p,d,_,"F",w,S)}function q0(n){return n?void 0!==n.unaryFilter?[rS(n)]:void 0!==n.fieldFilter?[Cd(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>q0(e)).reduce((e,t)=>e.concat(t)):it():[]}function G0(n){return{before:n.before,values:n.position}}function z0(n){return new pd(n.values||[],!!n.before)}function JE(n){return jE[n]}function QE(n){return BE[n]}function Yl(n){return{fieldPath:n.canonicalString()}}function bd(n){return hi.fromServerFormat(n.fieldPath)}function Cd(n){return Zi.create(bd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function rS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bd(n.unaryFilter.field);return Zi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bd(n.unaryFilter.field);return Zi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bd(n.unaryFilter.field);return Zi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bd(n.unaryFilter.field);return Zi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function iS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wd(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function nu(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sS(e)),e=W0(n.get(t),e);return sS(e)}function W0(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function sS(n){return n+"\x01\x01"}function ru(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let a="";for(let d=0;d<e;){const p=n.indexOf("\x01",d);switch((p<0||p>t)&&it(),n.charAt(p+1)){case"\x01":const _=n.substring(d,p);let w;0===a.length?w=_:(a+=_,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(d,p),a+="\0";break;case"\x11":a+=n.substring(d,p+1);break;default:it()}d=p+2}return new dn(r)}class XE{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ko{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}ko.store="owner",ko.key="owner";class lt{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}lt.store="mutationQueues",lt.keyPath="userId";class Kn{constructor(e,t,r,a,d){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=d}}Kn.store="mutations",Kn.keyPath="batchId",Kn.userMutationsIndex="userMutationsIndex",Kn.userMutationsKeyPath=["userId","batchId"];class Hi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,nu(t)]}static key(e,t,r){return[e,nu(t),r]}}Hi.store="documentMutations",Hi.PLACEHOLDER=new Hi;class oS{constructor(e,t){this.path=e,this.readTime=t}}class Py{constructor(e,t){this.path=e,this.version=t}}class mr{constructor(e,t,r,a,d,p){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=d,this.parentPath=p}}mr.store="remoteDocuments",mr.readTimeIndex="readTimeIndex",mr.readTimeIndexPath="readTime",mr.collectionReadTimeIndex="collectionReadTimeIndex",mr.collectionReadTimeIndexPath=["parentPath","readTime"];class io{constructor(e){this.byteSize=e}}io.store="remoteDocumentGlobal",io.key="remoteDocumentGlobalKey";class ki{constructor(e,t,r,a,d,p,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=p,this.query=_}}ki.store="targets",ki.keyPath="targetId",ki.queryTargetsIndexName="queryTargetsIndex",ki.queryTargetsKeyPath=["canonicalId","targetId"];class jt{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}jt.store="targetDocuments",jt.keyPath=["targetId","path"],jt.documentTargetsIndex="documentTargetsIndex",jt.documentTargetsKeyPath=["path","targetId"];class Po{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}Po.key="targetGlobalKey",Po.store="targetGlobal";class Jl{constructor(e,t){this.collectionId=e,this.parent=t}}Jl.store="collectionParents",Jl.keyPath=["collectionId","parent"];class la{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}la.store="clientMetadata",la.keyPath="clientId";class sf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}sf.store="bundles",sf.keyPath="bundleId";class Ed{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Ed.store="namedQueries",Ed.keyPath="name";const eI=[lt.store,Kn.store,Hi.store,mr.store,ki.store,ko.store,Po.store,jt.store,la.store,io.store,Jl.store,sf.store,Ed.store],K0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((r,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(r,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,r)=>{t(e)})}static reject(e){return new Fe((t,r)=>{r(e)})}static waitFor(e){return new Fe((t,r)=>{let a=0,d=0,p=!1;e.forEach(_=>{++a,_.next(()=>{++d,p&&d===a&&t()},w=>r(w))}),p=!0,d===a&&t()})}static or(e){let t=Fe.resolve(!1);for(const r of e)t=t.next(a=>a?Fe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,d)=>{r.push(t.call(this,a,d))}),this.waitFor(r)}}class Oy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new ar,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new ug(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=Ny(r.target.error);this.Et.reject(new ug(e,a))}}static open(e,t,r,a){try{return new Oy(t,e.transaction(a,r))}catch(d){throw new ug(t,d)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new aS(t)}}class ca{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===ca.Rt((0,Ut.z$)())&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),iu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Ut.hl)())return!1;if(ca.Pt())return!0;const e=(0,Ut.z$)(),t=ca.Rt(e),r=0<t&&t<10,a=ca.vt(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||d)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=p=>{r(p.target.result)},d.onblocked=()=>{a(new ug(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const _=p.target.error;a("VersionError"===_.name?new Ne(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ne(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new ug(e,_))},d.onupgradeneeded=p=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,d.transaction,p.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var d=this;return(0,Ie.Z)(function*(){const p="readonly"===t;let _=0;for(;;){++_;try{d.db=yield d.Dt(e);const w=Oy.open(d.db,e,p?"readonly":"readwrite",r),S=a(w).catch(k=>(w.abort(k),Fe.reject(k))).toPromise();return S.catch(()=>{}),yield w.It,S}catch(w){const S="FirebaseError"!==w.name&&_<3;if(Be("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),d.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ag{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return iu(this.kt.delete())}}class ug extends Ne{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Id(n){return"IndexedDbTransactionError"===n.name}class aS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),iu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),iu(this.store.add(e))}get(e){return iu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),iu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),iu(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(d,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(d,p,_)=>_.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Fe((r,a)=>{t.onerror=d=>{const p=Ny(d.target.error);a(p)},t.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(_=>{_?p.continue():r()}):r()}})}Bt(e,t){const r=[];return new Fe((a,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const _=p.target.result;if(!_)return void a();const w=new ag(_),S=t(_.primaryKey,_.value,w);if(S instanceof Fe){const k=S.catch(O=>(w.done(),Fe.reject(O)));r.push(k)}w.isDone?a():null===w.Ft?_.continue():_.continue(w.Ft)}}).next(()=>Fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function iu(n){return new Fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=Ny(r.target.error);t(a)}})}let J0=!1;function Ny(n){const e=ca.Rt((0,Ut.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J0||(J0=!0,setTimeout(()=>{throw r},0)),r}}return n}class Q0 extends Y0{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Ts(n,e){const t=$e(n);return ca.St(t.Qt,e)}class Td{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&WA(d,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Sy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Sy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Jh(this.mutations,e.mutations,(t,r)=>md(t,r))&&Jh(this.baseMutations,e.baseMutations,(t,r)=>md(t,r))}}class Dd{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){yt(e.mutations.length===r.length);let a=L0();const d=e.mutations;for(let p=0;p<d.length;p++)a=a.insert(d[p].key,r[p].version);return new Dd(e,t,r,a)}}class Ql{constructor(e,t,r,a,d=Pt.min(),p=Pt.min(),_=Mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=_}withSequenceNumber(e){return new Ql(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class tI{constructor(e){this.Wt=e}}function X0(n,e){if(e.document)return WE(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ot.fromSegments(e.noDocument.path),r=Ad(e.noDocument.readTime),a=Qn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=ot.fromSegments(e.unknownDocument.path),r=Ad(e.unknownDocument.version);return Qn.newUnknownDocument(t,r)}return it()}function eb(n,e,t){const r=Ry(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const d={name:sg(_=n.Wt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:rf(_,w.version.toTimestamp())};return new mr(null,null,d,e.hasCommittedMutations,r,a)}var _,w;if(e.isNoDocument()){const d=e.key.path.toArray(),p=af(e.version),_=e.hasCommittedMutations;return new mr(null,new oS(d,p),null,_,r,a)}if(e.isUnknownDocument()){const d=e.key.path.toArray(),p=af(e.version);return new mr(new Py(d,p),null,null,!0,r,a)}return it()}function Ry(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tb(n){const e=new di(n[0],n[1]);return Pt.fromTimestamp(e)}function af(n){const e=n.toTimestamp();return new XE(e.seconds,e.nanoseconds)}function Ad(n){const e=new di(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function uf(n,e){const t=(e.baseMutations||[]).map(d=>KE(n.Wt,d));for(let d=0;d<e.mutations.length-1;++d){const p=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(p.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const r=e.mutations.map(d=>KE(n.Wt,d)),a=di.fromMillis(e.localWriteTimeMs);return new Td(e.batchId,a,t,r)}function lg(n){const e=Ad(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ad(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var a;return void 0!==n.query.documents?(yt(1===(a=n.query).documents.length),r=ro(Gl(qE(a.documents[0])))):r=ro($0(n.query)),new Ql(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Mi.fromBase64String(n.resumeToken))}function uS(n,e){const t=af(e.snapshotVersion),r=af(e.lastLimboFreeSnapshotVersion);let a;a=by(e.target)?Z0(n.Wt,e.target):H0(n.Wt,e.target);const d=e.resumeToken.toBase64();return new ki(e.targetId,Hp(e.target),t,d,e.sequenceNumber,r,a)}function nI(n){const e=$0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AE(e,e.limit,"L"):e}class Yx{getBundleMetadata(e,t){return lS(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Ad(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return lS(e).put({bundleId:(r=t).id,createTime:af(pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nb(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:nI(a.bundledQuery),readTime:Ad(a.readTime)};var a})}saveNamedQuery(e,t){return nb(e).put({name:(r=t).name,readTime:af(pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lS(n){return Ts(n,sf.store)}function nb(n){return Ts(n,Ed.store)}class Fy{constructor(){this.Gt=new rb}addToCollectionParentIndex(e,t){return this.Gt.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.Gt.getEntries(t))}}class rb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new gr(dn.comparator),d=!a.has(r);return this.index[t]=a.add(r),d}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new gr(dn.comparator)).toArray()}}class cS{constructor(){this.zt=new rb}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const d={collectionId:r,parent:nu(a)};return ib(e).put(d)}return Fe.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[C0(t),""],!1,!0);return ib(e).Lt(a).next(d=>{for(const p of d){if(p.collectionId!==t)break;r.push(ru(p.parent))}return r})}}function ib(n){return Ts(n,Jl.store)}const lf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rI(n,e,t){const r=n.store(Kn.store),a=n.store(Hi.store),d=[],p=IDBKeyRange.only(t.batchId);let _=0;const w=r.Kt({range:p},(k,O,H)=>(_++,H.delete()));d.push(w.next(()=>{yt(1===_)}));const S=[];for(const k of t.mutations){const O=Hi.key(e,k.key.path,t.batchId);d.push(a.delete(O)),S.push(k.key)}return Fe.waitFor(d).next(()=>S)}function Ly(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class sb{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){yt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new sb(d,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).Kt({index:Kn.userMutationsIndex,range:r},(a,d,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const d=cf(e),p=zu(e);return p.add({}).next(_=>{yt("number"==typeof _);const w=new Td(_,t,r,a),S=function(H,z,Ee){const He=Ee.baseMutations.map(_t=>ky(H.Wt,_t)),Qe=Ee.mutations.map(_t=>ky(H.Wt,_t));return new Kn(z,Ee.batchId,Ee.localWriteTime.toMillis(),He,Qe)}(this.N,this.userId,w),k=[];let O=new gr((H,z)=>Zt(H.canonicalString(),z.canonicalString()));for(const H of a){const z=Hi.key(this.userId,H.key.path,_);O=O.add(H.key.path.popLast()),k.push(p.put(S)),k.push(d.put(z,Hi.PLACEHOLDER))}return O.forEach(H=>{k.push(this.Ht.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Jt[_]=w.keys()}),Fe.waitFor(k).next(()=>w)})}lookupMutationBatch(e,t){return zu(e).get(t).next(r=>r?(yt(r.userId===this.userId),uf(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Fe.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let d=null;return zu(e).Kt({index:Kn.userMutationsIndex,range:a},(p,_,w)=>{_.userId===this.userId&&(yt(_.batchId>=r),d=uf(this.N,_)),w.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zu(e).Kt({index:Kn.userMutationsIndex,range:t,reverse:!0},(a,d,p)=>{r=d.batchId,p.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).Lt(Kn.userMutationsIndex,t).next(r=>r.map(a=>uf(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),d=[];return cf(e).Kt({range:a},(p,_,w)=>{const[S,k,O]=p,H=ru(k);if(S===this.userId&&t.path.isEqual(H))return zu(e).get(O).next(z=>{if(!z)throw it();yt(z.userId===this.userId),d.push(uf(this.N,z))});w.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gr(Zt);const a=[];return t.forEach(d=>{const p=Hi.prefixForPath(this.userId,d.path),_=IDBKeyRange.lowerBound(p),w=cf(e).Kt({range:_},(S,k,O)=>{const[H,z,Ee]=S,He=ru(z);H===this.userId&&d.path.isEqual(He)?r=r.add(Ee):O.done()});a.push(w)}),Fe.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,d=Hi.prefixForPath(this.userId,r),p=IDBKeyRange.lowerBound(d);let _=new gr(Zt);return cf(e).Kt({range:p},(w,S,k)=>{const[O,H,z]=w,Ee=ru(H);O===this.userId&&r.isPrefixOf(Ee)?Ee.length===a&&(_=_.add(z)):k.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const r=[],a=[];return t.forEach(d=>{a.push(zu(e).get(d).next(p=>{if(null===p)throw it();yt(p.userId===this.userId),r.push(uf(this.N,p))}))}),Fe.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return rI(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Fe.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const r=IDBKeyRange.lowerBound(Hi.prefixForUser(this.userId)),a=[];return cf(e).Kt({range:r},(d,p,_)=>{if(d[0]===this.userId){const w=ru(d[1]);a.push(w)}else _.done()}).next(()=>{yt(0===a.length)})})}containsKey(e,t){return iI(e,this.userId,t)}ee(e){return sI(e).get(this.userId).next(t=>t||new lt(this.userId,-1,""))}}function iI(n,e,t){const r=Hi.prefixForPath(e,t.path),a=r[1],d=IDBKeyRange.lowerBound(r);let p=!1;return cf(n).Kt({range:d,qt:!0},(_,w,S)=>{const[k,O,H]=_;k===e&&O===a&&(p=!0),S.done()}).next(()=>p)}function zu(n){return Ts(n,Kn.store)}function cf(n){return Ts(n,Hi.store)}function sI(n){return Ts(n,lt.store)}class Oo{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Oo(0)}static ie(){return new Oo(-1)}}class dS{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Oo(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Pt.fromTimestamp(new di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ce(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sd(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const d=[];return Sd(e).Kt((p,_)=>{const w=lg(_);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,d.push(this.removeTargetData(e,w)))}).next(()=>Fe.waitFor(d)).next(()=>a)}forEachTarget(e,t){return Sd(e).Kt((r,a)=>{const d=lg(a);t(d)})}re(e){return oI(e).get(Po.key).next(t=>(yt(null!==t),t))}oe(e,t){return oI(e).put(Po.key,t)}ae(e,t){return Sd(e).put(uS(this.N,t))}ce(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Hp(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let d=null;return Sd(e).Kt({range:a,index:ki.queryTargetsIndexName},(p,_,w)=>{const S=lg(_);$p(t,S.target)&&(d=S,w.done())}).next(()=>d)}addMatchingKeys(e,t,r){const a=[],d=Wu(e);return t.forEach(p=>{const _=nu(p.path);a.push(d.put(new jt(r,_))),a.push(this.referenceDelegate.addReference(e,r,p))}),Fe.waitFor(a)}removeMatchingKeys(e,t,r){const a=Wu(e);return Fe.forEach(t,d=>{const p=nu(d.path);return Fe.waitFor([a.delete([r,p]),this.referenceDelegate.removeReference(e,r,d)])})}removeMatchingKeysForTargetId(e,t){const r=Wu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Wu(e);let d=Cn();return a.Kt({range:r,qt:!0},(p,_,w)=>{const S=ru(p[1]),k=new ot(S);d=d.add(k)}).next(()=>d)}containsKey(e,t){const r=nu(t.path),a=IDBKeyRange.bound([r],[C0(r)],!1,!0);let d=0;return Wu(e).Kt({index:jt.documentTargetsIndex,qt:!0,range:a},([p,_],w,S)=>{0!==p&&(d++,S.done())}).next(()=>d>0)}Tt(e,t){return Sd(e).get(t).next(r=>r?lg(r):null)}}function Sd(n){return Ts(n,ki.store)}function oI(n){return Ts(n,Po.store)}function Wu(n){return Ts(n,jt.store)}function xd(n){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,Ie.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==K0)throw n;Be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function aI([n,e],[t,r]){const a=Zt(n,t);return 0===a?Zt(e,r):a}class ob{constructor(e){this.ue=e,this.buffer=new gr(aI),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ie.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Id(a)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield xd(a)}yield t._e(e)}))}}class uI{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(Is.T);const r=new ob(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(lf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lf):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,d,p,_,w,S;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),a=this.params.maximumSequenceNumbersToCollect):a=O,p=Date.now(),this.nthSequenceNumber(e,a))).next(O=>(r=O,_=Date.now(),this.removeTargets(e,r,t))).next(O=>(d=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(S=Date.now(),ci()<=za.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-k}ms\n\tDetermined least recently used ${a} in `+(_-p)+`ms\n\tRemoved ${d} targets in `+(w-_)+`ms\n\tRemoved ${O} documents in `+(S-w)+`ms\nTotal Duration: ${S-k}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:O})))}}class lI{constructor(e,t){this.db=e,this.garbageCollector=new uI(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return Uy(e,r)}removeReference(e,t,r){return Uy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Uy(e,t)}Ie(e,t){return function(r,a){let d=!1;return sI(r).jt(p=>iI(r,p,a).next(_=>(_&&(d=!0),Fe.resolve(!_)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Ee(e,(p,_)=>{if(_<=t){const w=this.Ie(e,p).next(S=>{if(!S)return d++,r.getEntry(e,p).next(()=>(r.removeEntry(p),Wu(e).delete([0,nu(p.path)])))});a.push(w)}}).next(()=>Fe.waitFor(a)).next(()=>r.apply(e)).next(()=>d)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Uy(e,t)}Ee(e,t){const r=Wu(e);let a,d=Is.T;return r.Kt({index:jt.documentTargetsIndex},([p,_],{path:w,sequenceNumber:S})=>{0===p?(d!==Is.T&&t(new ot(ru(a)),d),d=S,a=w):d=Is.T}).next(()=>{d!==Is.T&&t(new ot(ru(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uy(n,e){return Wu(n).put((r=n.currentSequenceNumber,new jt(0,nu(e.path),r)));var r}class df{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,d]of r)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){dd(this.inner,(t,r)=>{for(const[a,d]of r)e(a,d)})}isEmpty(){return VA(this.inner)}}class cI{constructor(){this.changes=new df(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Pt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Qn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Fe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ab{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Xl(e).put(jy(t),r)}removeEntry(e,t){const r=Xl(e),a=jy(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Xl(e).get(jy(t)).next(r=>this.Re(t,r))}be(e,t){return Xl(e).get(jy(t)).next(r=>({document:this.Re(t,r),size:Ly(r)}))}getEntries(e,t){let r=Mo();return this.Pe(e,t,(a,d)=>{const p=this.Re(a,d);r=r.insert(a,p)}).next(()=>r)}ve(e,t){let r=Mo(),a=new Tn(ot.comparator);return this.Pe(e,t,(d,p)=>{const _=this.Re(d,p);r=r.insert(d,_),a=a.insert(d,Ly(p))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return Fe.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),d=t.getIterator();let p=d.getNext();return Xl(e).Kt({range:a},(_,w,S)=>{const k=ot.fromSegments(_);for(;p&&ot.comparator(p,k)<0;)r(p,null),p=d.getNext();p&&p.isEqual(k)&&(r(p,w),p=d.hasNext()?d.getNext():null),p?S.Mt(p.path.toArray()):S.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=Mo();const d=t.path.length+1,p={};if(r.isEqual(Pt.min())){const _=t.path.toArray();p.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),w=Ry(r);p.range=IDBKeyRange.lowerBound([_,w],!0),p.index=mr.collectionReadTimeIndex}return Xl(e).Kt(p,(_,w,S)=>{if(_.length!==d)return;const k=X0(this.N,w);t.path.isPrefixOf(k.key.path)?ef(t,k)&&(a=a.insert(k.key,k)):S.done()}).next(()=>a)}newChangeBuffer(e){return new fS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ub(e).get(io.key).next(t=>(yt(!!t),t))}Ae(e,t){return ub(e).put(io.key,t)}Re(e,t){if(t){const r=X0(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return Qn.newInvalidDocument(e)}}class fS extends cI{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new df(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new gr((d,p)=>Zt(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const _=this.De.get(d);if(p.document.isValidDocument()){const w=eb(this.Se.N,p.document,this.getReadTime(d));a=a.add(d.path.popLast()),r+=Ly(w)-_,t.push(this.Se.addEntry(e,d,w))}else if(r-=_,this.trackRemovals){const w=eb(this.Se.N,Qn.newNoDocument(d,Pt.min()),this.getReadTime(d));t.push(this.Se.addEntry(e,d,w))}else t.push(this.Se.removeEntry(e,d))}),a.forEach(d=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,d))}),t.push(this.Se.updateMetadata(e,r)),Fe.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((d,p)=>{this.De.set(d,p)}),r))}}function ub(n){return Ts(n,io.store)}function Xl(n){return Ts(n,mr.store)}function jy(n){return n.path.toArray()}class pS{constructor(e){this.N=e}Ct(e,t,r,a){yt(r<a&&r>=0&&a<=11);const d=new Oy("createOrUpgrade",t);var _;r<1&&a>=1&&(e.createObjectStore(ko.store),(_=e).createObjectStore(lt.store,{keyPath:lt.keyPath}),_.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Hi.store),dI(e),function(_){_.createObjectStore(mr.store)}(e));let p=Fe.resolve();return r<3&&a>=3&&(0!==r&&(function(_){_.deleteObjectStore(jt.store),_.deleteObjectStore(ki.store),_.deleteObjectStore(Po.store)}(e),dI(e)),p=p.next(()=>function(_){const w=_.store(Po.store),S=new Po(0,0,Pt.min().toTimestamp(),0);return w.put(Po.key,S)}(d))),r<4&&a>=4&&(0!==r&&(p=p.next(()=>function(_,w){return w.store(Kn.store).Lt().next(S=>{_.deleteObjectStore(Kn.store),_.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0});const k=w.store(Kn.store),O=S.map(H=>k.put(H));return Fe.waitFor(O)})}(e,d))),p=p.next(()=>{!function(_){_.createObjectStore(la.store,{keyPath:la.keyPath})}(e)})),r<5&&a>=5&&(p=p.next(()=>this.Ce(d))),r<6&&a>=6&&(p=p.next(()=>(function(_){_.createObjectStore(io.store)}(e),this.Ne(d)))),r<7&&a>=7&&(p=p.next(()=>this.xe(d))),r<8&&a>=8&&(p=p.next(()=>this.ke(e,d))),r<9&&a>=9&&(p=p.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const w=_.objectStore(mr.store);w.createIndex(mr.readTimeIndex,mr.readTimeIndexPath,{unique:!1}),w.createIndex(mr.collectionReadTimeIndex,mr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(p=p.next(()=>this.$e(d))),r<11&&a>=11&&(p=p.next(()=>{(function(_){_.createObjectStore(sf.store,{keyPath:sf.keyPath})})(e),function(_){_.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(mr.store).Kt((r,a)=>{t+=Ly(a)}).next(()=>{const r=new io(t);return e.store(io.store).put(io.key,r)})}Ce(e){const t=e.store(lt.store),r=e.store(Kn.store);return t.Lt().next(a=>Fe.forEach(a,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return r.Lt(Kn.userMutationsIndex,p).next(_=>Fe.forEach(_,w=>{yt(w.userId===d.userId);const S=uf(this.N,w);return rI(e,d.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(jt.store),r=e.store(mr.store);return e.store(Po.store).get(Po.key).next(a=>{const d=[];return r.Kt((p,_)=>{const w=new dn(p),S=[0,nu(w)];d.push(t.get(S).next(k=>k?Fe.resolve():t.put(new jt(0,nu(w),a.highestListenSequenceNumber))))}).next(()=>Fe.waitFor(d))})}ke(e,t){e.createObjectStore(Jl.store,{keyPath:Jl.keyPath});const r=t.store(Jl.store),a=new rb,d=p=>{if(a.add(p)){const _=p.lastSegment(),w=p.popLast();return r.put({collectionId:_,parent:nu(w)})}};return t.store(mr.store).Kt({qt:!0},(p,_)=>{const w=new dn(p);return d(w.popLast())}).next(()=>t.store(Hi.store).Kt({qt:!0},([p,_,w],S)=>{const k=ru(_);return d(k.popLast())}))}$e(e){const t=e.store(ki.store);return t.Kt((r,a)=>{const d=lg(a),p=uS(this.N,d);return t.put(p)})}}function dI(n){n.createObjectStore(jt.store,{keyPath:jt.keyPath}).createIndex(jt.documentTargetsIndex,jt.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ki.store,{keyPath:ki.keyPath}).createIndex(ki.queryTargetsIndexName,ki.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Po.store)}const lb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cb{constructor(e,t,r,a,d,p,_,w,S,k){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=d,this.window=p,this.document=_,this.Fe=S,this.Me=k,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!cb.bt())throw new Ne(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lI(this,a),this.We=t+"main",this.N=new tI(w),this.Ge=new ca(this.We,11,new pS(this.N)),this.ze=new dS(this.referenceDelegate,this.N),this.Ht=new cS,this.He=new ab(this.N,this.Ht),this.Je=new Yx,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===k&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,lb);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Is(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,Ie.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>By(e).put(new la(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Id(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return cg(e).get(ko.key).next(t=>Fe.resolve(this.cn(t)))}un(e){return By(e).delete(this.clientId)}hn(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=Ts(r,la.store);return a.Lt().next(d=>{const p=e.fn(d,18e5),_=d.filter(w=>-1===p.indexOf(w));return Fe.forEach(_,w=>a.delete(w.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Fe.resolve(!0):cg(e).get(ko.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,lb);return!1}}return!(!this.networkEnabled||!this.inForeground)||By(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[ko.store,la.store],t=>{const r=new Q0(t,Is.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>By(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return sb.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let d;return Be("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",eI,p=>(d=new Q0(p,this.Le?this.Le.next():Is.T),"readwrite-primary"===t?this.sn(d).next(_=>!!_||this.rn(d)).next(_=>{if(!_)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(ye.FAILED_PRECONDITION,K0);return r(d)}).next(_=>this.an(d).next(()=>_)):this.Tn(d).next(()=>r(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Tn(e){return cg(e).get(ko.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ye.FAILED_PRECONDITION,lb)})}an(e){const t=new ko(this.clientId,this.allowTabSynchronization,Date.now());return cg(e).put(ko.key,t)}static bt(){return ca.bt()}on(e){const t=cg(e);return t.get(ko.key).next(r=>this.cn(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete(ko.key)):Fe.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(gn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ut.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cg(n){return Ts(n,ko.store)}function By(n){return Ts(n,la.store)}function Zy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hI{constructor(e,t){this.progress=e,this.En=t}}class fI{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const d of r)d.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const d of t)d.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return ot.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Wp(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new ot(t)).next(r=>{let a=_d();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let d=_d();return this.Ht.getCollectionParents(e,a).next(p=>Fe.forEach(p,_=>{const w=(S=t,k=_.child(a),new qu(k,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,k;return this.Dn(e,w,r).next(S=>{S.forEach((k,O)=>{d=d.insert(k,O)})})}).next(()=>d))}Dn(e,t,r){let a,d;return this.He.getDocumentsMatchingQuery(e,t,r).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(d=p,this.Cn(e,d,a).next(_=>{a=_;for(const w of d)for(const S of w.mutations){const k=S.key;let O=a.get(k);null==O&&(O=Qn.newInvalidDocument(k),a=a.insert(k,O)),Sy(S,O,w.localWriteTime),O.isFoundDocument()||(a=a.remove(k))}}))).next(()=>(a.forEach((p,_)=>{ef(t,_)||(a=a.remove(p))}),a))}Cn(e,t,r){let a=Cn();for(const p of t)for(const _ of p.mutations)_ instanceof Gu&&null===r.get(_.key)&&(a=a.add(_.key));let d=r;return this.He.getEntries(e,a).next(p=>(p.forEach((_,w)=>{w.isFoundDocument()&&(d=d.insert(_,w))}),d))}}class db{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=Cn(),a=Cn();for(const d of t.docChanges)switch(d.type){case 0:r=r.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new db(e,t.fromCache,r,a)}}class hb{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Fn(e,t):this.On.Pn(e,a).next(d=>{const p=this.Mn(t,d);return(Ey(t)||Gp(t))&&this.Ln(t.limitType,p,a,r)?this.Fn(e,t):(ci()<=za.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kp(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(p.forEach(w=>{_=_.insert(w.key,w)}),_)))});var d}Mn(e,t){let r=new gr(SE(e));return t.forEach((a,d)=>{ef(e,d)&&(r=r.add(d))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Fn(e,t){return ci()<=za.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Kp(t)),this.On.getDocumentsMatchingQuery(e,t,Pt.min())}}class gS{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new Tn(Zt),this.qn=new df(d=>Hp(d),$p),this.Kn=Pt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new fI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function pI(n,e,t,r){return new gS(n,e,t,r)}function gI(n,e){return dg.apply(this,arguments)}function dg(){return(dg=(0,Ie.Z)(function*(n,e){const t=$e(n);let r=t.In,a=t.Qn;const d=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let _;return t.In.getAllMutationBatches(p).next(w=>(_=w,r=t.persistence.getMutationQueue(e),a=new fI(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(p))).next(w=>{const S=[],k=[];let O=Cn();for(const H of _){S.push(H.batchId);for(const z of H.mutations)O=O.add(z.key)}for(const H of w){k.push(H.batchId);for(const z of H.mutations)O=O.add(z.key)}return a.Pn(p,O).next(H=>({Wn:H,removedBatchIds:S,addedBatchIds:k}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),d})).apply(this,arguments)}function fb(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),d=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,_,w,S){const k=w.batch,O=k.keys();let H=Fe.resolve();return O.forEach(z=>{H=H.next(()=>S.getEntry(_,z)).next(Ee=>{const He=w.docVersions.get(z);yt(null!==He),Ee.version.compareTo(He)<0&&(k.applyToRemoteDocument(Ee,w),Ee.isValidDocument()&&S.addEntry(Ee,w.commitVersion))})}),H.next(()=>p.In.removeMutationBatch(_,k))}(t,r,e,d).next(()=>d.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function pb(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function gb(n,e){const t=$e(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const _=[];e.targetChanges.forEach((S,k)=>{const O=a.get(k);if(!O)return;_.push(t.ze.removeMatchingKeys(d,S.removedDocuments,k).next(()=>t.ze.addMatchingKeys(d,S.addedDocuments,k)));const H=S.resumeToken;if(H.approximateByteSize()>0){const z=O.withResumeToken(H,r).withSequenceNumber(d.currentSequenceNumber);a=a.insert(k,z),Ee=O,Qe=S,yt((He=z).resumeToken.approximateByteSize()>0),(0===Ee.resumeToken.approximateByteSize()||He.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||Qe.addedDocuments.size+Qe.modifiedDocuments.size+Qe.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(d,z))}var Ee,He,Qe});let w=Mo();if(e.documentUpdates.forEach((S,k)=>{e.resolvedLimboDocuments.has(S)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(d,S))}),_.push(mI(d,p,e.documentUpdates,r,void 0).next(S=>{w=S})),!r.isEqual(Pt.min())){const S=t.ze.getLastRemoteSnapshotVersion(d).next(k=>t.ze.setTargetsMetadata(d,d.currentSequenceNumber,r));_.push(S)}return Fe.waitFor(_).next(()=>p.apply(d)).next(()=>t.Qn.vn(d,w)).next(()=>w)}).then(d=>(t.Un=a,d))}function mI(n,e,t,r,a){let d=Cn();return t.forEach(p=>d=d.add(p)),e.getEntries(n,d).next(p=>{let _=Mo();return t.forEach((w,S)=>{const k=p.get(w),O=(null==a?void 0:a.get(w))||r;S.isNoDocument()&&S.version.isEqual(Pt.min())?(e.removeEntry(w,O),_=_.insert(w,S)):!k.isValidDocument()||S.version.compareTo(k.version)>0||0===S.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(S,O),_=_.insert(w,S)):Be("LocalStore","Ignoring outdated watch update for ",w,". Current version:",k.version," Watch version:",S.version)}),_})}function mS(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function ec(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(d=>d?(a=d,Fe.resolve(a)):t.ze.allocateTargetId(r).next(p=>(a=new Ql(e,p,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function hf(n,e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,Ie.Z)(function*(n,e,t){const r=$e(n),a=r.Un.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",d,p=>r.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Id(p))throw p;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function $y(n,e,t){const r=$e(n);let a=Pt.min(),d=Cn();return r.persistence.runTransaction("Execute query","readonly",p=>function(_,w,S){const k=$e(_),O=k.qn.get(S);return void 0!==O?Fe.resolve(k.Un.get(O)):k.ze.getTargetData(w,S)}(r,p,ro(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(p,_.targetId).next(w=>{d=w})}).next(()=>r.Bn.getDocumentsMatchingQuery(p,e,t?a:Pt.min(),t?d:Cn())).next(_=>({documents:_,Gn:d})))}function mb(n,e){const t=$e(n),r=$e(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>r.Tt(d,e).next(p=>p?p.target:null))}function yb(n){const e=$e(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,d){const p=$e(r);let _=Mo(),w=Ry(d);const S=Xl(a),k=IDBKeyRange.lowerBound(w,!0);return S.Kt({index:mr.readTimeIndex,range:k},(O,H)=>{const z=X0(p.N,H);_=_.insert(z.key,z),w=H.readTime}).next(()=>({En:_,readTime:tb(w)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function _I(){return(_I=(0,Ie.Z)(function*(n){const e=$e(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Xl(r);let d=Pt.min();return a.Kt({index:mr.readTimeIndex,reverse:!0},(p,_,w)=>{_.readTime&&(d=tb(_.readTime)),w.done()}).next(()=>d)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function tc(){return(tc=(0,Ie.Z)(function*(n,e,t,r){const a=$e(n);let d=Cn(),p=Mo(),_=L0();for(const k of t){const O=e.zn(k.metadata.name);k.document&&(d=d.add(O)),p=p.insert(O,e.Hn(k)),_=_.insert(O,e.Jn(k.metadata.readTime))}const w=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield ec(a,(k=r,ro(Gl(dn.fromString(`__bundle__/docs/${k}`)))));var k;return a.persistence.runTransaction("Apply bundle documents","readwrite",k=>mI(k,w,p,Pt.min(),_).next(O=>(w.apply(k),O)).next(O=>a.ze.removeMatchingKeysForTargetId(k,S.targetId).next(()=>a.ze.addMatchingKeys(k,d,S.targetId)).next(()=>a.Qn.vn(k,O)).next(()=>O)))})).apply(this,arguments)}function Jx(n,e){return hg.apply(this,arguments)}function hg(){return(hg=(0,Ie.Z)(function*(n,e,t=Cn()){const r=yield ec(n,ro(nI(e.bundledQuery))),a=$e(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const p=pi(e.readTime);if(r.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(d,e);const _=r.withResumeToken(Mi.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(d,_).next(()=>a.ze.removeMatchingKeysForTargetId(d,r.targetId)).next(()=>a.ze.addMatchingKeys(d,t,r.targetId)).next(()=>a.Je.saveNamedQuery(d,e))})})).apply(this,arguments)}class qy{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Fe.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:pi(r.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:nI(r.bundledQuery),readTime:pi(r.readTime)}),Fe.resolve();var r}}class _b{constructor(){this.Zn=new gr(ur.ts),this.es=new gr(ur.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new ur(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new ur(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new ot(new dn([])),r=new ur(t,e),a=new ur(t,e+1),d=[];return this.es.forEachInRange([r,a],p=>{this.rs(p),d.push(p.key)}),d}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ot(new dn([])),r=new ur(t,e),a=new ur(t,e+1);let d=Cn();return this.es.forEachInRange([r,a],p=>{d=d.add(p.key)}),d}containsKey(e){const t=new ur(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ur{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ot.comparator(e.key,t.key)||Zt(e.ls,t.ls)}static ns(e,t){return Zt(e.ls,t.ls)||ot.comparator(e.key,t.key)}}class _S{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new gr(ur.ts)}checkEmpty(e){return Fe.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const d=this.fs;this.fs++;const p=new Td(d,t,r,a);this.In.push(p);for(const _ of a)this.ds=this.ds.add(new ur(_.key,d)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Fe.resolve(p)}lookupMutationBatch(e,t){return Fe.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),d=a<0?0:a;return Fe.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Fe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ur(t,0),a=new ur(t,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([r,a],p=>{const _=this.ws(p.ls);d.push(_)}),Fe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gr(Zt);return t.forEach(a=>{const d=new ur(a,0),p=new ur(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,p],_=>{r=r.add(_.ls)})}),Fe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let d=r;ot.isDocumentKey(d)||(d=d.child(""));const p=new ur(new ot(d),0);let _=new gr(Zt);return this.ds.forEachWhile(w=>{const S=w.key.path;return!!r.isPrefixOf(S)&&(S.length===a&&(_=_.add(w.ls)),!0)},p),Fe.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){yt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Fe.forEach(t.mutations,a=>{const d=new ur(a.key,t.batchId);return r=r.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new ur(t,0),a=this.ds.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Fe.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Qx{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Tn(ot.comparator),this.size=0}addEntry(e,t,r){const a=t.key,d=this.docs.get(a),p=d?d.size:0,_=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:r}),this.size+=_-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Fe.resolve(r?r.document.clone():Qn.newInvalidDocument(t))}getEntries(e,t){let r=Mo();return t.forEach(a=>{const d=this.docs.get(a);r=r.insert(a,d?d.document.clone():Qn.newInvalidDocument(a))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=Mo();const d=new ot(t.path.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:w,readTime:S}}=p.getNext();if(!t.path.isPrefixOf(_.path))break;S.compareTo(r)<=0||ef(t,w)&&(a=a.insert(w.key,w.clone()))}return Fe.resolve(a)}Ts(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vS(this)}getSize(e){return Fe.resolve(this.size)}}class vS extends cI{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class su{constructor(e){this.persistence=e,this.Es=new df(t=>Hp(t),$p),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Is=0,this.As=new _b,this.targetCount=0,this.Rs=Oo.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Fe.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.ae(t),Fe.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let a=0;const d=[];return this.Es.forEach((p,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Es.delete(p),d.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Fe.waitFor(d).next(()=>a)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(p=>{d.push(a.markPotentiallyOrphaned(e,p))}),Fe.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.As.containsKey(t))}}class vI{constructor(e,t){this.bs={},this.Le=new Is(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new su(this),this.Ht=new Fy,this.He=new Qx(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new tI(t),this.Je=new qy(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new _S(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const a=new Xx(this.Le.next());return this.referenceDelegate.vs(),r(a).next(d=>this.referenceDelegate.Vs(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ss(e,t){return Fe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Xx extends Y0{constructor(e){super(),this.currentSequenceNumber=e}}class ff{constructor(e){this.persistence=e,this.Ds=new _b,this.Cs=null}static Ns(e){return new ff(e)}get xs(){if(this.Cs)return this.Cs;throw it()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.xs.add(d.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.xs,r=>{const a=ot.fromPath(r);return this.ks(e,a).next(d=>{d||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Fe.or([()=>Fe.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function bI(n,e){return`firestore_clients_${n}_${e}`}function CI(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wI(n,e){return`firestore_targets_${n}_${e}`}class Gy{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let d,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(d=new Ne(a.error.code,a.error.message))),p?new Gy(e,t,a.state,d):(gn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,d="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new Ne(r.error.code,r.error.message))),d?new fg(e,r.state,a):(gn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,d=vd();for(let p=0;a&&p<r.activeTargetIds.length;++p)a=my(r.activeTargetIds[p]),d=d.add(r.activeTargetIds[p]);return a?new zy(e,d):(gn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pg(t.clientId,t.onlineState):(gn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wy{constructor(){this.activeTargetIds=vd()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gg{constructor(e,t,r,a,d){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Tn(Zt),this.started=!1,this.Ks=[];const p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=bI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Wy),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const d=e.getItem(bI(e.persistenceKey,a));if(d){const p=zy.$s(a,d);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wI(this.persistenceKey,e));if(r){const a=fg.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wI(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ai(r.key);return t.ci(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(d){let p=Is.T;if(null!=d)try{const _=JSON.parse(d);yt("number"==typeof _),p=_}catch(_){gn("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(r.newValue);a!==Is.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new Gy(this.currentUser,e,t,r),d=CI(this.persistenceKey,this.currentUser,e);this.setItem(d,a.Os())}ni(e){const t=CI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=wI(this.persistenceKey,e),d=new fg(e,t,r);this.setItem(a,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ai(e);return zy.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return Gy.$s(new zr(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return fg.$s(a,t)}Xs(e){return pg.$s(e)}li(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),d=this.ti(r),p=[],_=[];return d.forEach(w=>{a.has(w)||p.push(w)}),a.forEach(w=>{d.has(w)||_.push(w)}),this.syncEngine.gi(p,_).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=vd();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class vb{constructor(){this.yi=new Wy,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Wy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class bS{Ti(e){}shutdown(){}}class CS{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ES{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class IS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const d=this.Bi(e,t);Be("RestConnection","Sending: ",d,r);const p={};return this.Ui(p,a),this.qi(e,d,p,r).then(_=>(Be("RestConnection","Received: ",_),_),_=>{throw ld("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${wS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((d,p)=>{const _=new LA;_.listenOnce(fy.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case _0.NO_ERROR:const S=_.getResponseJson();Be("Connection","XHR received:",JSON.stringify(S)),d(S);break;case _0.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),p(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case _0.HTTP_ERROR:const k=_.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',k,"response text:",_.getResponseText()),k>0){const O=_.getResponseJson().error;if(O&&O.status&&O.message){const H=function(z){const Ee=z.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ee)>=0?Ee:ye.UNKNOWN}(O.status);p(new Ne(H,O.message))}else p(new Ne(ye.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);_.send(t,"POST",w,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=RA(),d=FA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new aa({})),this.Ui(p.initMessageHeaders,t),(0,Ut.uI)()||(0,Ut.b$)()||(0,Ut.d)()||(0,Ut.w1)()||(0,Ut.Mn)()||(0,Ut.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Be("Connection","Creating WebChannel: "+_,p);const w=a.createWebChannel(_,p);let S=!1,k=!1;const O=new ES({vi:z=>{k?Be("Connection","Not sending because WebChannel is closed:",z):(S||(Be("Connection","Opening WebChannel transport."),w.open(),S=!0),Be("Connection","WebChannel sending:",z),w.send(z))},Vi:()=>w.close()}),H=(z,Ee,He)=>{z.listen(Ee,Qe=>{try{He(Qe)}catch(_t){setTimeout(()=>{throw _t},0)}})};return H(w,Bl.EventType.OPEN,()=>{k||Be("Connection","WebChannel transport opened.")}),H(w,Bl.EventType.CLOSE,()=>{k||(k=!0,Be("Connection","WebChannel transport closed"),O.$i())}),H(w,Bl.EventType.ERROR,z=>{k||(k=!0,ld("Connection","WebChannel transport errored:",z),O.$i(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),H(w,Bl.EventType.MESSAGE,z=>{var Ee;if(!k){const He=z.data[0];yt(!!He);const Qe=He,_t=Qe.error||(null===(Ee=Qe[0])||void 0===Ee?void 0:Ee.error);if(_t){Be("Connection","WebChannel received error:",_t);const an=_t.status;let Bn=function(Rr){const fu=Nr[Rr];if(void 0!==fu)return xo(fu)}(an),qt=_t.message;void 0===Bn&&(Bn=ye.INTERNAL,qt="Unknown error status: "+an+" with message "+_t.message),k=!0,O.$i(new Ne(Bn,qt)),w.close()}else Be("Connection","WebChannel received:",He),O.Oi(He)}}),H(d,Kh.STAT_EVENT,z=>{z.stat===v0.PROXY?Be("Connection","Detected buffering proxy"):z.stat===v0.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function bb(){return"undefined"!=typeof window?window:null}function mg(){return"undefined"!=typeof document?document:null}function pf(n){return new ZE(n,!0)}class Cb{constructor(e,t,r=1e3,a=1.5,d=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class EI{constructor(e,t,r,a,d,p){this.Oe=e,this.er=r,this.nr=a,this.credentialsProvider=d,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Cb(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Ie.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Ie.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==e?r.rr.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):t&&t.code===ye.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===t&&this.yr(r)},r=>{e(()=>{const a=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.pr(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Ie.Z)(function*(){e.state=0,e.start()}))}pr(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class II extends EI{constructor(e,t,r,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,r,d),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:it(),a=e.targetChange.targetIds||[],d=function(w,S){return w.D?(yt(void 0===S||"string"==typeof S),Mi.fromBase64String(S||"")):(yt(void 0===S||S instanceof Uint8Array),Mi.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,_=p&&function(w){const S=void 0===w.code?ye.UNKNOWN:xo(w.code);return new Ne(S,w.message||"")}(p);t=new ig(r,a,d,_||null)}else if("documentChange"in e){const r=e.documentChange,a=tu(n,r.document.name),d=pi(r.document.updateTime),p=new Bi({mapValue:{fields:r.document.fields}}),_=Qn.newFoundDocument(a,d,p);t=new rg(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,a=tu(n,r.document),d=r.readTime?pi(r.readTime):Pt.min(),p=Qn.newNoDocument(a,d);t=new rg([],r.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const r=e.documentRemove,a=tu(n,r.document);t=new rg([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return it();{const r=e.filter,d=new eu(r.count||0);t=new xy(r.targetId,d)}}var w;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return Pt.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?Pt.min():d.readTime?pi(d.readTime):Pt.min()}(e);return this.listener.Er(t,r)}Ir(e){const t={};t.database=og(this.N),t.addTarget=function(a,d){let p;const _=d.target;return p=by(_)?{documents:Z0(a,_)}:{query:H0(a,_)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=HE(a,d.resumeToken):d.snapshotVersion.compareTo(Pt.min())>0&&(p.readTime=rf(a,d.snapshotVersion.toTimestamp())),p}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.wr(t)}Ar(e){const t={};t.database=og(this.N),t.removeTarget=e,this.wr(t)}}class Ky extends EI{constructor(e,t,r,a,d){super(e,"write_stream_connection_backoff","write_stream_idle",t,r,d),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,a){let d=pi(r.updateTime?r.updateTime:a);return d.isEqual(Pt.min())&&(d=pi(a)),new OE(d,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.vr(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=og(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ky(this.N,r))};this.wr(t)}}class TS extends class{}{constructor(e,t,r){super(),this.credentials=e,this.nr=t,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ne(ye.UNKNOWN,a.toString())})}Ki(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ne(ye.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class TI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(gn(t),this.$r=!1):Be("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Yy{constructor(e,t,r,a,d){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ti(_=>{r.enqueueAndForget((0,Ie.Z)(function*(){var w;rc(p)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,Ie.Z)(function*(S){const k=$e(S);k.Kr.add(4),yield gf(k),k.Wr.set("Unknown"),k.Kr.delete(4),yield nc(k)}),function(S){return w.apply(this,arguments)})(p))}))}),this.Wr=new TI(r,a)}}function nc(n){return Md.apply(this,arguments)}function Md(){return(Md=(0,Ie.Z)(function*(n){if(rc(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function gf(n){return wb.apply(this,arguments)}function wb(){return(wb=(0,Ie.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function Eb(n,e){const t=$e(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),Db(t)?Tb(t):mf(t).cr()&&Ib(t,e))}function yg(n,e){const t=$e(n),r=mf(t);t.qr.delete(e),r.cr()&&DI(t,e),0===t.qr.size&&(r.cr()?r.lr():rc(t)&&t.Wr.set("Unknown"))}function Ib(n,e){n.Gr.Y(e.targetId),mf(n).Ir(e)}function DI(n,e){n.Gr.Y(e),mf(n).Ar(e)}function Tb(n){n.Gr=new UE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),mf(n).start(),n.Wr.Or()}function Db(n){return rc(n)&&!mf(n).ar()&&n.qr.size>0}function rc(n){return 0===$e(n).Kr.size}function AI(n){n.Gr=void 0}function DS(n){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,Ie.Z)(function*(n){n.qr.forEach((e,t)=>{Ib(n,e)})})).apply(this,arguments)}function eM(n,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,Ie.Z)(function*(n,e){AI(n),Db(n)?(n.Wr.Lr(e),Tb(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function _g(n,e,t){return xb.apply(this,arguments)}function xb(){return(xb=(0,Ie.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof ig&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(a,d){const p=d.cause;for(const _ of d.targetIds)a.qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,p),a.qr.delete(_),a.Gr.removeTarget(_))}),function(a,d){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jy(n,r)}else if(e instanceof rg?n.Gr.rt(e):e instanceof xy?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Pt.min()))try{const r=yield pb(n.localStore);t.compareTo(r)>=0&&(yield function(a,d){const p=a.Gr._t(d);return p.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const S=a.qr.get(w);S&&a.qr.set(w,S.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach(_=>{const w=a.qr.get(_);if(!w)return;a.qr.set(_,w.withResumeToken(Mi.EMPTY_BYTE_STRING,w.snapshotVersion)),DI(a,_);const S=new Ql(w.target,_,1,w.sequenceNumber);Ib(a,S)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield Jy(n,r)}var r})).apply(this,arguments)}function Jy(n,e,t){return Mb.apply(this,arguments)}function Mb(){return(Mb=(0,Ie.Z)(function*(n,e,t){if(!Id(e))throw e;n.Kr.add(1),yield gf(n),n.Wr.set("Offline"),t||(t=()=>pb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield nc(n)}))})).apply(this,arguments)}function vg(n,e){return e().catch(t=>Jy(n,t,e))}function No(n){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,Ie.Z)(function*(n){const e=$e(n),t=Ku(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;AS(e);)try{const a=yield mS(e.localStore,r);if(null===a){0===e.Ur.length&&t.lr();break}r=a.batchId,tM(e,a)}catch(a){yield Jy(e,a)}SI(e)&&bg(e)})).apply(this,arguments)}function AS(n){return rc(n)&&n.Ur.length<10}function tM(n,e){n.Ur.push(e);const t=Ku(n);t.cr()&&t.br&&t.Pr(e.mutations)}function SI(n){return rc(n)&&!Ku(n).ar()&&n.Ur.length>0}function bg(n){Ku(n).start()}function SS(n){return kb.apply(this,arguments)}function kb(){return(kb=(0,Ie.Z)(function*(n){Ku(n).Sr()})).apply(this,arguments)}function xI(n){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,Ie.Z)(function*(n){const e=Ku(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function Pb(n,e,t){return e_.apply(this,arguments)}function e_(){return(e_=(0,Ie.Z)(function*(n,e,t){const r=n.Ur.shift(),a=Dd.from(r,e,t);yield vg(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield No(n)})).apply(this,arguments)}function MI(n,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,Ie.Z)(function*(n,e){var t;e&&Ku(n).br&&(yield(t=(0,Ie.Z)(function*(r,a){if(ua(d=a.code)&&d!==ye.ABORTED){const p=r.Ur.shift();Ku(r).hr(),yield vg(r,()=>r.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield No(r)}var d}),function(r,a){return t.apply(this,arguments)})(n,e)),SI(n)&&bg(n)})).apply(this,arguments)}function Nb(n,e){return t_.apply(this,arguments)}function t_(){return(t_=(0,Ie.Z)(function*(n,e){const t=$e(n);e?(t.Kr.delete(2),yield nc(t)):e||(t.Kr.add(2),yield gf(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function mf(n){return n.zr||(n.zr=function(e,t,r){const a=$e(e);return a.Cr(),new II(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:DS.bind(null,n),Ci:eM.bind(null,n),Er:_g.bind(null,n)}),n.jr.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.zr.hr(),Db(n)?Tb(n):n.Wr.set("Unknown")):(yield n.zr.stop(),AI(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Ku(n){return n.Hr||(n.Hr=function(e,t,r){const a=$e(e);return a.Cr(),new Ky(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:SS.bind(null,n),Ci:MI.bind(null,n),Vr:xI.bind(null,n),vr:Pb.bind(null,n)}),n.jr.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Hr.hr(),yield No(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class yf{constructor(e,t,r,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=d,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,a,d){const p=Date.now()+r,_=new yf(e,t,p,a,d);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yu(n,e){if(gn("AsyncQueue",`${e}: ${n}`),Id(n))return new Ne(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Cg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=_d(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new Cg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=r.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _f{constructor(){this.Jr=new Tn(ot.comparator)}track(e){const t=e.doc.key,r=this.Jr.get(t);r?0!==e.type&&3===r.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==r.type?this.Jr=this.Jr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jr=this.Jr.remove(t):1===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):it():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kt{constructor(e,t,r,a,d,p,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=_,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Kt(e,t,Cg.emptySet(t),d,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class ic{constructor(){this.Xr=void 0,this.listeners=[]}}class vf{constructor(){this.queries=new df(e=>k0(e),Xh),this.onlineState="Unknown",this.Zr=new Set}}function kd(n,e){return kI.apply(this,arguments)}function kI(){return(kI=(0,Ie.Z)(function*(n,e){const t=$e(n),r=e.query;let a=!1,d=t.queries.get(r);if(d||(a=!0,d=new ic),a)try{d.Xr=yield t.onListen(r)}catch(p){const _=Yu(p,`Initialization of query '${Kp(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,d),d.listeners.push(e),e.eo(t.onlineState),d.Xr&&e.no(d.Xr)&&PI(t)})).apply(this,arguments)}function Dt(n,e){return As.apply(this,arguments)}function As(){return(As=(0,Ie.Z)(function*(n,e){const t=$e(n),r=e.query;let a=!1;const d=t.queries.get(r);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),a=0===d.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function Rb(n,e){const t=$e(n);let r=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const _ of p.listeners)_.no(a)&&(r=!0);p.Xr=a}}r&&PI(t)}function Pd(n,e,t){const r=$e(n),a=r.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);r.queries.delete(e)}function PI(n){n.Zr.forEach(e=>{e.next()})}class n_{constructor(e,t,r){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Kt(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Kt.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class OI{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class xS{constructor(e){this.N=e}zn(e){return tu(this.N,e)}Hn(e){return e.metadata.exists?WE(this.N,e.document,!1):Qn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return pi(e)}}class MS{constructor(e,t,r){this.lo=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=NI(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,r=new xS(this.N);for(const a of e)if(a.metadata.queries){const d=r.zn(a.metadata.name);for(const p of a.metadata.queries){const _=(t.get(p)||Cn()).add(d);t.set(p,_)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function(n,e,t,r){return tc.apply(this,arguments)}(e.localStore,new xS(e.N),e.documents,e.lo.id),r=e.wo(e.documents);for(const a of e.queries)yield Jx(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new hI(Object.assign({},e.progress),t)})()}}function NI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class so{constructor(e){this.key=e}}class Xn{constructor(e){this.key=e}}class Ro{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Cn(),this.mutatedKeys=Cn(),this.po=SE(e),this.To=new Cg(this.po)}get Eo(){return this._o}Io(e,t){const r=t?t.Ao:new _f,a=t?t.To:this.To;let d=t?t.mutatedKeys:this.mutatedKeys,p=a,_=!1;const w=Ey(this.query)&&a.size===this.query.limit?a.last():null,S=Gp(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((k,O)=>{const H=a.get(k),z=ef(this.query,O)?O:null,Ee=!!H&&this.mutatedKeys.has(H.key),He=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Qe=!1;H&&z?H.data.isEqual(z.data)?Ee!==He&&(r.track({type:3,doc:z}),Qe=!0):this.Ro(H,z)||(r.track({type:2,doc:z}),Qe=!0,(w&&this.po(z,w)>0||S&&this.po(z,S)<0)&&(_=!0)):!H&&z?(r.track({type:0,doc:z}),Qe=!0):H&&!z&&(r.track({type:1,doc:H}),Qe=!0,(w||S)&&(_=!0)),Qe&&(z?(p=p.add(z),d=He?d.add(k):d.delete(k)):(p=p.delete(k),d=d.delete(k)))}),Ey(this.query)||Gp(this.query))for(;p.size>this.query.limit;){const k=Ey(this.query)?p.last():p.first();p=p.delete(k.key),d=d.delete(k.key),r.track({type:1,doc:k})}return{To:p,Ao:r,Ln:_,mutatedKeys:d}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const d=e.Ao.Yr();d.sort((S,k)=>function(O,H){const z=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return z(O)-z(H)}(S.type,k.type)||this.po(S.doc,k.doc)),this.bo(r);const p=t?this.Po():[],_=0===this.yo.size&&this.current?1:0,w=_!==this.mo;return this.mo=_,0!==d.length||w?{snapshot:new Kt(this.query,e.To,a,d,e.mutatedKeys,0===_,w,!1),vo:p}:{vo:p}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new _f,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Cn(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const t=[];return e.forEach(r=>{this.yo.has(r)||t.push(new Xn(r))}),this.yo.forEach(r=>{e.has(r)||t.push(new so(r))}),t}So(e){this._o=e.Gn,this.yo=Cn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Kt.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class RI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kS{constructor(e){this.key=e,this.Co=!1}}class FI{constructor(e,t,r,a,d,p){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new df(_=>k0(_),Xh),this.ko=new Map,this.$o=new Set,this.Oo=new Tn(ot.comparator),this.Fo=new Map,this.Mo=new _b,this.Lo={},this.Bo=new Map,this.Uo=Oo.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Fb(n,e){return sc.apply(this,arguments)}function sc(){return(sc=(0,Ie.Z)(function*(n,e){const t=Yb(n);let r,a;const d=t.xo.get(e);if(d)r=d.targetId,t.sharedClientState.addLocalQueryTarget(r),a=d.view.Do();else{const p=yield ec(t.localStore,ro(e)),_=t.sharedClientState.addLocalQueryTarget(p.targetId);r=p.targetId,a=yield Od(t,e,r,"current"===_),t.isPrimaryClient&&Eb(t.remoteStore,p)}return a})).apply(this,arguments)}function Od(n,e,t,r){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,Ie.Z)(function*(n,e,t,r){n.Ko=(k,O,H)=>{return(z=(0,Ie.Z)(function*(Ee,He,Qe,_t){let an=He.view.Io(Qe);an.Ln&&(an=yield $y(Ee.localStore,He.query,!1).then(({documents:Rr})=>He.view.Io(Rr,an)));const Bn=_t&&_t.targetChanges.get(He.targetId),qt=He.view.applyChanges(an,Ee.isPrimaryClient,Bn);return It(Ee,He.targetId,qt.vo),qt.snapshot}),function(Ee,He,Qe,_t){return z.apply(this,arguments)})(n,k,O,H);var z};const a=yield $y(n.localStore,e,!0),d=new Ro(e,a.Gn),p=d.Io(a.documents),_=nf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=d.applyChanges(p,n.isPrimaryClient,_);It(n,t,w.vo);const S=new RI(e,t,d);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),w.snapshot})).apply(this,arguments)}function Nd(n,e){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,Ie.Z)(function*(n,e){const t=$e(n),r=t.xo.get(e),a=t.ko.get(r.targetId);if(a.length>1)return t.ko.set(r.targetId,a.filter(d=>!Xh(d,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yg(t.remoteStore,r.targetId),Dg(t,r.targetId)}).catch(xd))):(Dg(t,r.targetId),yield hf(t.localStore,r.targetId,!0))})).apply(this,arguments)}function wg(){return(wg=(0,Ie.Z)(function*(n,e,t){const r=HI(n);try{const a=yield function(d,p){const _=$e(d),w=di.now(),S=p.reduce((O,H)=>O.add(H.key),Cn());let k;return _.persistence.runTransaction("Locally write mutations","readwrite",O=>_.Qn.Pn(O,S).next(H=>{k=H;const z=[];for(const Ee of p){const He=NE(Ee,k.get(Ee.key));null!=He&&z.push(new Gu(Ee.key,He,T0(He.value.mapValue),Or.exists(!0)))}return _.In.addMutationBatch(O,w,z,p)})).then(O=>(O.applyToLocalDocumentSet(k),{batchId:O.batchId,changes:k}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(d,p,_){let w=d.Lo[d.currentUser.toKey()];w||(w=new Tn(Zt)),w=w.insert(p,_),d.Lo[d.currentUser.toKey()]=w}(r,a.batchId,t),yield Ju(r,a.changes),yield No(r.remoteStore)}catch(a){const d=Yu(a,"Failed to persist write");t.reject(d)}})).apply(this,arguments)}function bf(n,e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,Ie.Z)(function*(n,e){const t=$e(n);try{const r=yield gb(t.localStore,e);e.targetChanges.forEach((a,d)=>{const p=t.Fo.get(d);p&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Co=!0:a.modifiedDocuments.size>0?yt(p.Co):a.removedDocuments.size>0&&(yt(p.Co),p.Co=!1))}),yield Ju(t,r,e)}catch(r){yield xd(r)}})).apply(this,arguments)}function Ub(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.xo.forEach((d,p)=>{const _=p.view.eo(e);_.snapshot&&a.push(_.snapshot)}),function(d,p){const _=$e(d);_.onlineState=p;let w=!1;_.queries.forEach((S,k)=>{for(const O of k.listeners)O.eo(p)&&(w=!0)}),w&&PI(_)}(r.eventManager,e),a.length&&r.No.Er(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cf(n,e,t){return jb.apply(this,arguments)}function jb(){return(jb=(0,Ie.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Fo.get(e),d=a&&a.key;if(d){let p=new Tn(ot.comparator);p=p.insert(d,Qn.newNoDocument(d,Pt.min()));const _=Cn().add(d),w=new ng(Pt.min(),new Map,new gr(Zt),p,_);yield bf(r,w),r.Oo=r.Oo.remove(d),r.Fo.delete(e),Rd(r)}else yield hf(r.localStore,e,!1).then(()=>Dg(r,e,t)).catch(xd)})).apply(this,arguments)}function r_(n,e){return i_.apply(this,arguments)}function i_(){return(i_=(0,Ie.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const a=yield fb(t.localStore,e);Tg(t,r,null),Ig(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ju(t,a)}catch(a){yield xd(a)}})).apply(this,arguments)}function VI(n,e,t){return s_.apply(this,arguments)}function s_(){return(s_=(0,Ie.Z)(function*(n,e,t){const r=$e(n);try{const a=yield function(d,p){const _=$e(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return _.In.lookupMutationBatch(w,p).next(k=>(yt(null!==k),S=k.keys(),_.In.removeMutationBatch(w,k))).next(()=>_.In.performConsistencyCheck(w)).next(()=>_.Qn.Pn(w,S))})}(r.localStore,e);Tg(r,e,t),Ig(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ju(r,a)}catch(a){yield xd(a)}})).apply(this,arguments)}function Bb(){return(Bb=(0,Ie.Z)(function*(n,e){const t=$e(n);rc(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const p=$e(d);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>p.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Bo.get(r)||[];a.push(e),t.Bo.set(r,a)}catch(r){const a=Yu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Ig(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function Tg(n,e,t){const r=$e(n);let a=r.Lo[r.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),r.Lo[r.currentUser.toKey()]=a}}function Dg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ko.get(e))n.xo.delete(r),t&&n.No.jo(r,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(r=>{n.Mo.containsKey(r)||PS(n,r)})}function PS(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(yg(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),Rd(n))}function It(n,e,t){for(const r of t)r instanceof so?(n.Mo.addReference(r.key,e),nM(n,r)):r instanceof Xn?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,e),n.Mo.containsKey(r.key)||PS(n,r.key)):it()}function nM(n,e){const t=e.key,r=t.path.canonicalString();n.Oo.get(t)||n.$o.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.$o.add(r),Rd(n))}function Rd(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new ot(dn.fromString(e)),r=n.Uo.next();n.Fo.set(r,new kS(t)),n.Oo=n.Oo.insert(t,r),Eb(n.remoteStore,new Ql(ro(Gl(t.path)),r,2,Is.T))}}function Ju(n,e,t){return Zb.apply(this,arguments)}function Zb(){return(Zb=(0,Ie.Z)(function*(n,e,t){const r=$e(n),a=[],d=[],p=[];var _;r.xo.isEmpty()||(r.xo.forEach((_,w)=>{p.push(r.Ko(w,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),a.push(S);const k=db.kn(w.targetId,S);d.push(k)}}))}),yield Promise.all(p),r.No.Er(a),yield(_=(0,Ie.Z)(function*(w,S){const k=$e(w);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Fe.forEach(S,H=>Fe.forEach(H.Nn,z=>k.persistence.referenceDelegate.addReference(O,H.targetId,z)).next(()=>Fe.forEach(H.xn,z=>k.persistence.referenceDelegate.removeReference(O,H.targetId,z)))))}catch(O){if(!Id(O))throw O;Be("LocalStore","Failed to update sequence numbers: "+O)}for(const O of S){const H=O.targetId;if(!O.fromCache){const z=k.Un.get(H),He=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);k.Un=k.Un.insert(H,He)}}}),function(w,S){return _.apply(this,arguments)})(r.localStore,d))})).apply(this,arguments)}function OS(n,e){return UI.apply(this,arguments)}function UI(){return(UI=(0,Ie.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield gI(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(p=>{p.forEach(_=>{_.reject(new Ne(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ju(t,r.Wn)}var a})).apply(this,arguments)}function rM(n,e){const t=$e(n),r=t.Fo.get(e);if(r&&r.Co)return Cn().add(r.key);{let a=Cn();const d=t.ko.get(e);if(!d)return a;for(const p of d){const _=t.xo.get(p);a=a.unionWith(_.view.Eo)}return a}}function NS(n,e){return gi.apply(this,arguments)}function gi(){return(gi=(0,Ie.Z)(function*(n,e){const t=$e(n),r=yield $y(t.localStore,e.query,!0),a=e.view.So(r);return t.isPrimaryClient&&It(t,e.targetId,a.vo),a})).apply(this,arguments)}function RS(n){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,Ie.Z)(function*(n){const e=$e(n);return yb(e.localStore).then(t=>Ju(e,t))})).apply(this,arguments)}function $b(n,e,t,r){return qb.apply(this,arguments)}function qb(){return(qb=(0,Ie.Z)(function*(n,e,t,r){const a=$e(n),d=yield function(p,_){const w=$e(p),S=$e(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",k=>S.Xt(k,_).next(O=>O?w.Qn.Pn(k,O):Fe.resolve(null)))}(a.localStore,e);var _;null!==d?("pending"===t?yield No(a.remoteStore):"acknowledged"===t||"rejected"===t?(Tg(a,e,r||null),Ig(a,e),_=e,$e($e(a.localStore).In).te(_)):it(),yield Ju(a,d)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Gb(){return(Gb=(0,Ie.Z)(function*(n,e){const t=$e(n);if(Yb(t),HI(t),!0===e&&!0!==t.qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield jI(t,r.toArray());t.qo=!0,yield Nb(t.remoteStore,!0);for(const d of a)Eb(t.remoteStore,d)}else if(!1===e&&!1!==t.qo){const r=[];let a=Promise.resolve();t.ko.forEach((d,p)=>{t.sharedClientState.isLocalQueryTarget(p)?r.push(p):a=a.then(()=>(Dg(t,p),hf(t.localStore,p,!0))),yg(t.remoteStore,p)}),yield a,yield jI(t,r),function(d){const p=$e(d);p.Fo.forEach((_,w)=>{yg(p.remoteStore,w)}),p.Mo.us(),p.Fo=new Map,p.Oo=new Tn(ot.comparator)}(t),t.qo=!1,yield Nb(t.remoteStore,!1)}})).apply(this,arguments)}function jI(n,e,t){return zb.apply(this,arguments)}function zb(){return(zb=(0,Ie.Z)(function*(n,e,t){const r=$e(n),a=[],d=[];for(const p of e){let _;const w=r.ko.get(p);if(w&&0!==w.length){_=yield ec(r.localStore,ro(w[0]));for(const S of w){const k=r.xo.get(S),O=yield NS(r,k);O.snapshot&&d.push(O.snapshot)}}else{const S=yield mb(r.localStore,p);_=yield ec(r.localStore,S),yield Od(r,BI(S),p,!1)}a.push(_)}return r.No.Er(d),a})).apply(this,arguments)}function BI(n){return wy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Wb(n){const e=$e(n);return $e($e(e.localStore).persistence).pn()}function LS(n,e,t,r){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,Ie.Z)(function*(n,e,t,r){const a=$e(n);if(a.qo)Be("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const d=yield yb(a.localStore),p=ng.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ju(a,d,p);break}case"rejected":yield hf(a.localStore,e,!0),Dg(a,e,r);break;default:it()}})).apply(this,arguments)}function ZI(n,e,t){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,Ie.Z)(function*(n,e,t){const r=Yb(n);if(r.qo){for(const a of e){if(r.ko.has(a)){Be("SyncEngine","Adding an already active target "+a);continue}const d=yield mb(r.localStore,a),p=yield ec(r.localStore,d);yield Od(r,BI(d),p.targetId,!1),Eb(r.remoteStore,p)}for(const a of t)r.ko.has(a)&&(yield hf(r.localStore,a,!1).then(()=>{yg(r.remoteStore,a),Dg(r,a)}).catch(xd))}})).apply(this,arguments)}function Yb(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cf.bind(null,e),e.No.Er=Rb.bind(null,e.eventManager),e.No.jo=Pd.bind(null,e.eventManager),e}function HI(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,e),e}class $I{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.N=pf(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return pI(this.persistence,new hb,e.initialUser,this.N)}Go(e){return new vI(ff.Ns,this.N)}Wo(e){return new vb}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qI extends $I{constructor(e,t,r){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield function(n){return _I.apply(this,arguments)}(r.localStore),yield r.Jo.initialize(r,e),yield HI(r.Jo.syncEngine),yield No(r.Jo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ho(e){return pI(this.persistence,new hb,e.initialUser,this.N)}zo(e){return new hS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Zy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new cb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bb(),mg(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new vb}}class US extends qI{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const a=r.Jo.syncEngine;r.sharedClientState instanceof gg&&(r.sharedClientState.syncEngine={_i:$b.bind(null,a),mi:LS.bind(null,a),gi:ZI.bind(null,a),pn:Wb.bind(null,a),wi:RS.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var d=(0,Ie.Z)(function*(p){yield function(n,e){return Gb.apply(this,arguments)}(r.Jo.syncEngine,p),r.gcScheduler&&(p&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):p||r.gcScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}Wo(e){const t=bb();if(!gg.bt(t))throw new Ne(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Zy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jb{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>Ub(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=OS.bind(null,r.syncEngine),yield Nb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vf}createDatastore(e){const t=pf(e.databaseInfo.databaseId),r=new IS(e.databaseInfo);return new TS(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,d=_=>Ub(this.syncEngine,_,0),p=CS.bt()?new CS:new bS,new Yy(t,r,a,d,p);var t,r,a,d,p}createSyncEngine(e,t){return function(r,a,d,p,_,w,S){const k=new FI(r,a,d,p,_,w);return S&&(k.qo=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=$e(t);Be("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield gf(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function GI(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jS{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new ar,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(r=>{r&&r.ho()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.na();if(null===t)return null;const r=e.ta.decode(t),a=Number(r);isNaN(a)&&e.sa(`length string (${r}) is not valid number`);const d=yield e.ia(a);return new OI(JSON.parse(d),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Ie.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ia(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const r=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class BS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,Ie.Z)(function*(d,p){const _=$e(d),w=og(_.N)+"/documents",S={documents:p.map(z=>sg(_.N,z))},k=yield _.Ki("BatchGetDocuments",w,S),O=new Map;k.forEach(z=>{const Ee=function(n,e){return"found"in e?function(t,r){yt(!!r.found);const a=tu(t,r.found.name),d=pi(r.found.updateTime),p=new Bi({mapValue:{fields:r.found.fields}});return Qn.newFoundDocument(a,d,p)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const a=tu(t,r.missing),d=pi(r.readTime);return Qn.newNoDocument(a,d)}(n,e):it()}(_.N,z);O.set(Ee.key.toString(),Ee)});const H=[];return p.forEach(z=>{const Ee=O.get(z.toString());yt(!!Ee),H.push(Ee)}),H}),function(d,p){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const d=ot.fromPath(a);e.mutations.push(new eg(d,e.precondition(d)))}),yield(r=(0,Ie.Z)(function*(a,d){const p=$e(a),_=og(p.N)+"/documents",w={writes:d.map(S=>ky(p.N,S))};yield p.Li("Commit",_,w)}),function(a,d){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Or.updateTime(t):Or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Ne(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Or.updateTime(t)}return Or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zI{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.aa=5,this.rr=new Cb(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Ie.Z)(function*(){const t=new BS(e.datastore),r=e.ua(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.ha(d)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!hd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ua(t)}return!1}}class Sg{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=zr.UNAUTHENTICATED,this.clientId=b0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var d=(0,Ie.Z)(function*(p){Be("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return d.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=Yu(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ZS(n,e){return a_.apply(this,arguments)}function a_(){return(a_=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ie.Z)(function*(d){r.isEqual(d)||(yield gI(e.localStore,d),r=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function WI(n,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xb(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(d=(0,Ie.Z)(function*(p,_){const w=$e(p);w.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const S=rc(w);w.Kr.add(3),yield gf(w),S&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(_),w.Kr.delete(3),yield nc(w)}),function(p,_){return d.apply(this,arguments)})(e.remoteStore,a);var d}),n.onlineComponents=e})).apply(this,arguments)}function Xb(n){return eC.apply(this,arguments)}function eC(){return(eC=(0,Ie.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield ZS(n,new $I)),n.offlineComponents})).apply(this,arguments)}function u_(n){return l_.apply(this,arguments)}function l_(){return(l_=(0,Ie.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield WI(n,new Jb)),n.onlineComponents})).apply(this,arguments)}function KI(n){return Xb(n).then(e=>e.persistence)}function tC(n){return Xb(n).then(e=>e.localStore)}function HS(n){return u_(n).then(e=>e.remoteStore)}function YI(n){return u_(n).then(e=>e.syncEngine)}function xg(n){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,Ie.Z)(function*(n){const e=yield u_(n),t=e.eventManager;return t.onListen=Fb.bind(null,e.syncEngine),t.onUnlisten=Nd.bind(null,e.syncEngine),t})).apply(this,arguments)}function JI(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,d,p,_,w){const S=new oc({next:O=>{d.enqueueAndForget(()=>Dt(a,k));const H=O.docs.has(p);!H&&O.fromCache?w.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&_&&"server"===_.source?w.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),k=new n_(Gl(p.path),S,{includeMetadataChanges:!0,uo:!0});return kd(a,k)}(yield xg(n),n.asyncQueue,e,t,r)})),r.promise}function QI(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,d,p,_,w){const S=new oc({next:O=>{d.enqueueAndForget(()=>Dt(a,k)),O.fromCache&&"server"===_.source?w.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),k=new n_(p,S,{includeMetadataChanges:!0,uo:!0});return kd(a,k)}(yield xg(n),n.asyncQueue,e,t,r)})),r.promise}class $i{constructor(e,t,r,a,d,p,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=_,this.useFetchStreams=w}}class Fd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}const Fo=new Map;function kg(n,e,t){if(!t)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eT(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rC(n){if(!ot.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iC(n){if(ot.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pg(n);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tT(n,e){if(e<=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class nT{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,e instanceof Fd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new fE;switch(t.type){case"gapi":const r=t.client;return yt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fo.get(e);t&&(Be("ComponentProvider","Removing Datastore"),Fo.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class ou extends qi{constructor(e,t,r){super(e,t,Gl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ot(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function Ld(n,e,...t){if(n=(0,Ut.m9)(n),kg("collection","path",e),n instanceof Ef){const r=dn.fromString(e,...t);return iC(r),new ou(n,null,r)}{if(!(n instanceof er||n instanceof ou))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return iC(r),new ou(n.firestore,null,r)}}function Og(n,e,...t){if(n=(0,Ut.m9)(n),1===arguments.length&&(e=b0.I()),kg("doc","path",e),n instanceof Ef){const r=dn.fromString(e,...t);return rC(r),new er(n,null,new ot(r))}{if(!(n instanceof er||n instanceof ou))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return rC(r),new er(n.firestore,n instanceof ou?n.converter:null,new ot(r))}}function rT(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),(n instanceof er||n instanceof ou)&&(e instanceof er||e instanceof ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YS(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),n instanceof qi&&e instanceof qi&&n.firestore===e.firestore&&Xh(n._query,e._query)&&n.converter===e.converter}class iT{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Cb(this,"async_queue_retry"),this.Ta=()=>{const t=mg();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=mg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new ar;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Id(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,gn("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=t,t}enqueueAfterDelay(e,t,r){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=yf.createAndSchedule(this,e,t,r,d=>this.Ra(d));return this._a.push(a),a}Ea(){this.ma&&it()}verifyOperationInProgress(){}ba(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function sC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class oC{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends Ef{constructor(e,t){super(e,t),this.type="firestore",this._queue=new iT,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oT(this),this._firestoreClient.terminate()}}function Yr(n){return n._firestoreClient||oT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oT(n){var e;const t=n._freezeSettings(),r=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $i(n._databaseId,d,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var d,_;n._firestoreClient=new Sg(n._credentials,n._queue,r)}function aT(n,e,t){const r=new ar;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield ZS(n,t),yield WI(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(d=a).name?d.code===ye.FAILED_PRECONDITION||d.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var d})).then(()=>r.promise)}function aC(n){if(n._initialized||n._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Mi.fromBase64String(e))}catch(t){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ac{constructor(e){this._methodName=e}}class c_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const r1=/^__.*__$/;class Rg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xp(e,this.data,t,this.fieldTransforms)}}class If{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class Tf{constructor(e,t,r,a,d,p){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.ka(e),a}$a(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return jg(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(hT(this.Da)&&r1.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class au{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||pf(e)}Ba(e,t,r,a=!1){return new Tf({Da:e,methodName:t,La:r,path:hi.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vd(n){const e=n._freezeSettings(),t=pf(n._databaseId);return new au(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ud(n,e,t,r,a,d={}){const p=n.Ba(d.merge||d.mergeFields?2:0,e,t,a);d_("Data must be an object, but it was:",p,r);const _=yT(r,p);let w,S;if(d.merge)w=new Qh(p.fieldMask),S=p.fieldTransforms;else if(d.mergeFields){const k=[];for(const O of d.mergeFields){const H=Ug(e,O,t);if(!p.contains(H))throw new Ne(ye.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);cC(k,H)||k.push(H)}w=new Qh(k),S=p.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,S=p.fieldTransforms;return new Rg(new Bi(_),w,S)}class Fg extends ac{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fg}}function fT(n,e,t){return new Tf({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class pT extends ac{_toFieldTransform(e){return new Jp(e.path,new gd)}isEqual(e){return e instanceof pT}}class uC extends ac{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=fT(this,e,!0),r=this.Ua.map(d=>jd(d,t)),a=new Wl(r);return new Jp(e.path,a)}isEqual(e){return this===e}}class lC extends ac{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=fT(this,e,!0),r=this.Ua.map(d=>jd(d,t)),a=new Kl(r);return new Jp(e.path,a)}isEqual(e){return this===e}}class gT extends ac{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new tf(e.N,Dy(e.N,this.qa));return new Jp(e.path,t)}isEqual(e){return this===e}}function Lg(n,e,t,r){const a=n.Ba(1,e,t);d_("Data must be an object, but it was:",a,r);const d=[],p=Bi.empty();dd(r,(w,S)=>{const k=h_(e,w,t);S=(0,Ut.m9)(S);const O=a.$a(k);if(S instanceof Fg)d.push(k);else{const H=jd(S,O);null!=H&&(d.push(k),p.set(k,H))}});const _=new Qh(d);return new If(p,_,a.fieldTransforms)}function Vg(n,e,t,r,a,d){const p=n.Ba(1,e,t),_=[Ug(e,r,t)],w=[a];if(d.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<d.length;H+=2)_.push(Ug(e,d[H])),w.push(d[H+1]);const S=[],k=Bi.empty();for(let H=_.length-1;H>=0;--H)if(!cC(S,_[H])){const z=_[H];let Ee=w[H];Ee=(0,Ut.m9)(Ee);const He=p.$a(z);if(Ee instanceof Fg)S.push(z);else{const Qe=jd(Ee,He);null!=Qe&&(S.push(z),k.set(z,Qe))}}const O=new Qh(S);return new If(k,O,p.fieldTransforms)}function mT(n,e,t,r=!1){return jd(t,n.Ba(r?4:3,e))}function jd(n,e){if(_T(n=(0,Ut.m9)(n)))return d_("Unsupported field value:",e,n),yT(n,e);if(n instanceof ac)return function(t,r){if(!hT(r.Da))throw r.Fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,r){const a=[];let d=0;for(const p of t){let _=jd(p,r.Oa(d));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dy(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=di.fromDate(t);return{timestampValue:rf(r.N,a)}}if(t instanceof di){const a=new di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rf(r.N,a)}}if(t instanceof c_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof da)return{bytesValue:HE(r.N,t._byteString)};if(t instanceof er){const a=r.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw r.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:j0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Fa(`Unsupported field value: ${Pg(t)}`)}(n,e)}function yT(n,e){const t={};return VA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dd(n,(r,a)=>{const d=jd(a,e.Na(r));null!=d&&(t[r]=d)}),{mapValue:{fields:t}}}function _T(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof c_||n instanceof da||n instanceof er||n instanceof ac)}function d_(n,e,t){if(!_T(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Pg(t);throw e.Fa("an object"===r?n+" a custom object":n+" "+r)}var r}function Ug(n,e,t){if((e=(0,Ut.m9)(e))instanceof Qu)return e._internalPath;if("string"==typeof e)return h_(n,e);throw jg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const vT=new RegExp("[~\\*/\\[\\]]");function h_(n,e,t){if(e.search(vT)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qu(...e.split("."))._internalPath}catch(r){throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jg(n,e,t,r,a){const d=r&&!r.isEmpty(),p=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let w="";return(d||p)&&(w+=" (found",d&&(w+=` in field ${r}`),p&&(w+=` in document ${a}`),w+=")"),new Ne(ye.INVALID_ARGUMENT,_+n+w)}function cC(n,e){return n.some(t=>t.isEqual(e))}class Bg{constructor(e,t,r,a,d){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bT extends Bg{data(){return super.data()}}function Zg(n,e){return"string"==typeof e?h_(n,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}class Bd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends Bg{constructor(e,t,r,a,d,p){super(e,t,r,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Df extends uu{data(e={}){return super.data(e)}}class Zd{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Bd(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Df(this._firestore,this._userDataWriter,r.key,r,new Bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new Df(r._firestore,r._userDataWriter,p.doc.key,p.doc,new Bd(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const _=new Df(r._firestore,r._userDataWriter,p.doc.key,p.doc,new Bd(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,S=-1;return 0!==p.type&&(w=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:ss(p.type),doc:_,oldIndex:w,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ss(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function Hd(n,e){return n instanceof uu&&e instanceof uu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zd&&e instanceof Zd&&n._firestore===e._firestore&&YS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function CT(n){if(Gp(n)&&0===n.explicitOrderBy.length)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}function $d(n,...e){for(const t of e)n=t._apply(n);return n}class $g extends Hg{constructor(e,t,r){super(),this.Ka=e,this.ja=t,this.Qa=r,this.type="where"}_apply(e){const t=Vd(e.firestore),r=function(a,d,p,_,w,S,k){let O;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){gC(k,S);const z=[];for(const Ee of k)z.push(IT(_,a,Ee));O={arrayValue:{values:z}}}else O=IT(_,a,k)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||gC(k,S),O=mT(p,"where",k,"in"===S||"not-in"===S);const H=Zi.create(w,S,O);return function(z,Ee){if(Ee.v()){const Qe=Iy(z);if(null!==Qe&&!Qe.isEqual(Ee.field))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Qe.toString()}' and '${Ee.field.toString()}'`);const _t=zp(z);null!==_t&&Gg(0,Ee.field,_t)}const He=function(Qe,_t){for(const an of Qe.filters)if(_t.indexOf(an.op)>=0)return an.op;return null}(z,function(Qe){switch(Qe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==He)throw new Ne(ye.INVALID_ARGUMENT,He===Ee.op?`Invalid query. You cannot use more than one '${Ee.op.toString()}' filter.`:`Invalid query. You cannot use '${Ee.op.toString()}' filters with '${He.toString()}' filters.`)}(a,H),H}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new qi(e.firestore,e.converter,function(a,d){const p=a.filters.concat([d]);return new qu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class dC extends Hg{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(r,a,d){if(null!==r.startAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new ql(a,d);return function(_,w){if(null===zp(_)){const S=Iy(_);null!==S&&Gg(0,S,w.field)}}(r,p),p}(e._query,this.Ka,this.Wa);return new qi(e.firestore,e.converter,function(r,a){const d=r.explicitOrderBy.concat([a]);return new qu(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hC extends Hg{constructor(e,t,r){super(),this.type=e,this.Ga=t,this.za=r}_apply(e){return new qi(e.firestore,e.converter,AE(e._query,this.Ga,this.za))}}class f_ extends Hg{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=pC(e,this.type,this.Ha,this.Ja);return new qi(e.firestore,e.converter,(a=t,new qu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class qg extends Hg{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=pC(e,this.type,this.Ha,this.Ja);return new qi(e.firestore,e.converter,(a=t,new qu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function pC(n,e,t,r){if(t[0]=(0,Ut.m9)(t[0]),t[0]instanceof Bg)return function(a,d,p,_,w){if(!_)throw new Ne(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const S=[];for(const k of zl(a))if(k.field.isKeyField())S.push(vy(d,_.key));else{const O=_.data.field(k.field);if(vE(O))throw new Ne(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const H=k.field.canonicalString();throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}S.push(O)}return new pd(S,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Vd(n.firestore);return function(d,p,_,w,S,k){const O=d.explicitOrderBy;if(S.length>O.length)throw new Ne(ye.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let z=0;z<S.length;z++){const Ee=S[z];if(O[z].field.isKeyField()){if("string"!=typeof Ee)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Ee}`);if(!Wp(d)&&-1!==Ee.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${Ee}' contains a slash.`);const He=d.path.child(dn.fromString(Ee));if(!ot.isDocumentKey(He))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${He}' is not because it contains an odd number of segments.`);const Qe=new ot(He);H.push(vy(p,Qe))}else{const He=mT(_,w,Ee);H.push(He)}}return new pd(H,k)}(n._query,n.firestore._databaseId,a,e,t,r)}}function IT(n,e,t){if("string"==typeof(t=(0,Ut.m9)(t))){if(""===t)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wp(e)&&-1!==t.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!ot.isDocumentKey(r))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vy(n,new ot(r))}if(t instanceof er)return vy(n,t._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pg(t)}.`)}function gC(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gg(n,e,t){if(!t.isEqual(e))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class p_{convertValue(e,t="none"){switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return dd(e.fields,(a,d)=>{r[a]=this.convertValue(d,t)}),r}convertGeoPoint(e){return new c_(Wr(e.latitude),Wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(py(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);yt(wd(r));const a=new Fd(r.get(1),r.get(3)),d=new ot(r.popFirst(5));return a.isEqual(t)||gn(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function g_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class mC extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class m_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vd(e)}set(e,t,r){this._verifyNotCommitted();const a=uc(e,this._firestore),d=g_(a.converter,t,r),p=Ud(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,r);return this._mutations.push(p.toMutation(a._key,Or.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const d=uc(e,this._firestore);let p;return p="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Qu?Vg(this._dataReader,"WriteBatch.update",d._key,t,r,a):Lg(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(p.toMutation(d._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uc(e,this._firestore);return this._mutations=this._mutations.concat(new yd(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uc(n,e){if((n=(0,Ut.m9)(n)).firestore!==e)throw new Ne(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lc extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function xT(n,e,t){n=on(n,er);const r=on(n.firestore,lr),a=g_(n.converter,e,t);return qd(r,[Ud(Vd(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Or.none())])}function MT(n,e,t,...r){n=on(n,er);const a=on(n.firestore,lr),d=Vd(a);let p;return p="string"==typeof(e=(0,Ut.m9)(e))||e instanceof Qu?Vg(d,"updateDoc",n._key,e,t,r):Lg(d,"updateDoc",n._key,e),qd(a,[p.toMutation(n._key,Or.exists(!0))])}function yC(n,...e){var t,r,a;n=(0,Ut.m9)(n);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||sC(e[p])||(d=e[p],p++);const _={includeMetadataChanges:d.includeMetadataChanges};if(sC(e[p])){const O=e[p];e[p]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[p+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[p+2]=null===(a=O.complete)||void 0===a?void 0:a.bind(O)}let w,S,k;if(n instanceof er)S=on(n.firestore,lr),k=Gl(n._key.path),w={next:O=>{e[p]&&e[p](y_(S,n,O))},error:e[p+1],complete:e[p+2]};else{const O=on(n,qi);S=on(O.firestore,lr),k=O._query;const H=new lc(S);w={next:z=>{e[p]&&e[p](new Zd(S,H,O,z))},error:e[p+1],complete:e[p+2]},CT(n._query)}return function(O,H,z,Ee){const He=new oc(Ee),Qe=new n_(H,He,z);return O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return kd(yield xg(O),Qe)})),()=>{He.Xo(),O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return Dt(yield xg(O),Qe)}))}}(Yr(S),k,_,w)}function qd(n,e){return function(t,r){const a=new ar;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,e,t){return wg.apply(this,arguments)}(yield YI(t),r,a)})),a.promise}(Yr(n),e)}function y_(n,e,t){const r=t.docs.get(e._key),a=new lc(n);return new uu(n,a,e._key,r,new Bd(t.hasPendingWrites,t.fromCache),e.converter)}class d1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vd(e)}get(e){const t=uc(e,this._firestore),r=new mC(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return it();const d=a[0];if(d.isFoundDocument())return new Bg(this._firestore,r,d.key,d,t.converter);if(d.isNoDocument())return new Bg(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const a=uc(e,this._firestore),d=g_(a.converter,t,r),p=Ud(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,r);return this._transaction.set(a._key,p),this}update(e,t,r,...a){const d=uc(e,this._firestore);let p;return p="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Qu?Vg(this._dataReader,"Transaction.update",d._key,t,r,a):Lg(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,p),this}delete(e){const t=uc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uc(e,this._firestore),r=new lc(this._firestore);return super.get(e).then(a=>new uu(this._firestore,r,t._key,a._document,new Bd(!1,!1),t.converter))}}function NT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function p1(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function g1(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){is=n})(Ga.SDK_VERSION),(0,Ga._registerComponent)(new vp.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new lr(t,new gE(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),(0,Ga.registerVersion)(hE,"3.1.1",void 0),(0,Ga.registerVersion)(hE,"3.1.1","esm2017");class __{constructor(e){this._delegate=e}static fromBase64String(e){return g1(),new __(da.fromBase64String(e))}static fromUint8Array(e){return p1(),new __(da.fromUint8Array(e))}toBase64(){return g1(),this._delegate.toBase64()}toUint8Array(){return p1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RT(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class pM{enableIndexedDbPersistence(e,t){return function(n,e){aC(n=on(n,lr));const t=Yr(n),r=n._freezeSettings(),a=new Jb;return aT(t,a,new qI(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){aC(n=on(n,lr));const e=Yr(n),t=n._freezeSettings(),r=new Jb;return aT(e,r,new US(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!ca.bt())return Promise.resolve();const a=r+"main";yield ca.delete(a)}),function(r){return t.apply(this,arguments)})(Zy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class m1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ld("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const d=(n=on(n,Ef))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let p,_;if("string"==typeof r.mockUserToken)p=r.mockUserToken,_=zr.MOCK_USER;else{p=(0,Ut.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new zr(w)}n._credentials=new pE(new cd(p,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield KI(n),t=yield HS(n);return e.setNetworkEnabled(!0),function(r){const a=$e(r);return a.Kr.delete(0),nc(a)}(t)}))}(Yr(n=on(n,lr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield KI(n),t=yield HS(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(a){const d=$e(a);d.Kr.add(0),yield gf(d),d.Wr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(Yr(n=on(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ar;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,e){return Bb.apply(this,arguments)}(yield YI(e),t)})),t.promise}(Yr(n=on(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new oc(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield xg(n),a=t,$e(r).Zr.add(a),void a.next();var r,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield xg(n),a=t,void $e(r).Zr.delete(a);var r,a}))}}(Yr(n=on(n,lr)),sC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kg(this,Ld(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new ha(this,Og(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function(n,e){if(n=on(n,Ef),kg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(n,null,(t=e,new qu(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const r=yield(a=n,u_(a).then(d=>d.datastore));var a;new zI(n.asyncQueue,r,e,t).run()})),t.promise}(Yr(n),t=>e(new d1(n,t)))}(this._delegate,t=>e(new FT(this,t)))}batch(){return Yr(this._delegate),new LT(new m_(this._delegate,e=>qd(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Yr(n=on(n,lr)),r=new oC;return function(n,e,t,r){const a=function(d,p){let _;return _="string"==typeof d?(new TextEncoder).encode(d):d,w=function(w,S){if(w instanceof Uint8Array)return GI(w,S);if(w instanceof ArrayBuffer)return GI(new Uint8Array(w),S);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new jS(w,p);var w}(t,pf(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(n,e,t){const r=$e(n);var a;(a=(0,Ie.Z)(function*(d,p,_){try{const w=yield p.getMetadata();if(yield function(H,z){const Ee=$e(H),He=pi(z.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",Qe=>Ee.Je.getBundleMetadata(Qe,z.id)).then(Qe=>!!Qe&&Qe.createTime.compareTo(He)>=0)}(d.localStore,w))return yield p.close(),void _._completeWith((H=w,{taskState:"Success",documentsLoaded:H.totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}));_._updateProgress(NI(w));const S=new MS(w,d.localStore,p.N);let k=yield p.Qo();for(;k;){const H=yield S.fo(k);H&&_._updateProgress(H),k=yield p.Qo()}const O=yield S.complete();yield Ju(d,O.En,void 0),yield function(H,z){const Ee=$e(H);return Ee.persistence.runTransaction("Save bundle","readwrite",He=>Ee.Je.saveBundleMetadata(He,z))}(d.localStore,w),_._completeWith(O.progress)}catch(w){ld("SyncEngine",`Loading bundle failed with ${w}`),_._failWith(w)}var H}),function(d,p,_){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield YI(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const a=$e(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Je.getNamedQuery(d,r))}(yield tC(n),e)}))}(Yr(n=on(n,lr)),e).then(t=>t?new qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class _C extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new __(new da(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class FT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}get(e){const t=zd(e);return this._delegate.get(t).then(r=>new zg(this._firestore,new uu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=zd(e);return r?(NT("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const d=zd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...a),this}delete(e){const t=zd(e);return this._delegate.delete(t),this}}class LT{constructor(e){this._delegate=e}set(e,t,r){const a=zd(e);return r?(NT("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const d=zd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...a),this}delete(e){const t=zd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Df(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wg(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gd.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let d=a.get(t);return d||(d=new Gd(e,new _C(e),t),a.set(t,d)),d}}Gd.INSTANCES=new WeakMap;class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ha(t,new er(t._delegate,r,new ot(e)))}static forKey(e,t,r){return new ha(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kg(this.firestore,Ld(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ut.m9)(e))instanceof er&&rT(this._delegate,e)}set(e,t){t=NT("DocumentReference.set",t);try{return t?xT(this._delegate,e,t):xT(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MT(this._delegate,e):MT(this._delegate,e,t,...r)}catch(a){throw Ss(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return qd(on(n.firestore,lr),[new yd(n._key,Or.none())])}(this._delegate)}onSnapshot(...e){const t=y1(e),r=VT(e,a=>new zg(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return yC(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=on(n,er);const e=on(n.firestore,lr),t=Yr(e),r=new lc(e);return function(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(a,d,p){try{const _=yield function(w,S){const k=$e(w);return k.persistence.runTransaction("read document","readonly",O=>k.Qn.An(O,S))}(a,d);_.isFoundDocument()?p.resolve(_):_.isNoDocument()?p.resolve(null):p.reject(new Ne(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const w=Yu(_,`Failed to get document '${d} from cache`);p.reject(w)}}),function(a,d,p){return r.apply(this,arguments)})(yield tC(n),e,t);var r})),t.promise}(t,n._key).then(a=>new uu(e,r,n._key,a,new Bd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=on(n,er);const e=on(n.firestore,lr);return JI(Yr(e),n._key,{source:"server"}).then(t=>y_(e,n,t))}(this._delegate):function(n){n=on(n,er);const e=on(n.firestore,lr);return JI(Yr(e),n._key).then(t=>y_(e,n,t))}(this._delegate),t.then(r=>new zg(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?Gd.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function y1(n){for(const e of n)if("object"==typeof e&&!RT(e))return e;return{}}function VT(n,e){var t,r;let a;return a=RT(n[0])?n[0]:RT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class zg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Hd(this._delegate,e._delegate)}}class Wg extends zg{data(e){const t=this._delegate.data(e);return function(n,e){n||it()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}where(e,t,r){try{return new xs(this.firestore,$d(this._delegate,function(n,e,t){const r=e,a=Zg("where",n);return new $g(a,r,t)}(e,t,r)))}catch(a){throw Ss(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,$d(this._delegate,function(n,e="asc"){const t=e,r=Zg("orderBy",n);return new dC(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,$d(this._delegate,function(n){return tT("limit",n),new hC("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,$d(this._delegate,function(n){return tT("limitToLast",n),new hC("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,$d(this._delegate,function(...n){return new f_("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,$d(this._delegate,function(...n){return new f_("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,$d(this._delegate,function(...n){return new qg("endBefore",n,!0)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,$d(this._delegate,function(...n){return new qg("endAt",n,!1)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return YS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=on(n,qi);const e=on(n.firestore,lr),t=Yr(e),r=new lc(e);return function(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(a,d,p){try{const _=yield $y(a,d,!0),w=new Ro(d,_.Gn),S=w.Io(_.documents),k=w.applyChanges(S,!1);p.resolve(k.snapshot)}catch(_){const w=Yu(_,`Failed to execute query '${d} against cache`);p.reject(w)}}),function(a,d,p){return r.apply(this,arguments)})(yield tC(n),e,t);var r})),t.promise}(t,n._query).then(a=>new Zd(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=on(n,qi);const e=on(n.firestore,lr),t=Yr(e),r=new lc(e);return QI(t,n._query,{source:"server"}).then(a=>new Zd(e,r,n,a))}(this._delegate):function(n){n=on(n,qi);const e=on(n.firestore,lr),t=Yr(e),r=new lc(e);return CT(n._query),QI(t,n._query).then(a=>new Zd(e,r,n,a))}(this._delegate),t.then(r=>new UT(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=y1(e),r=VT(e,a=>new UT(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return yC(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Gd.getInstance(this.firestore,e):null))}}class mM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Wg(this._firestore,r))})}isEqual(e){return Hd(this._delegate,e._delegate)}}class Kg extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ha(this.firestore,e):null}doc(e){try{return new ha(this.firestore,void 0===e?Og(this._delegate):Og(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=on(n.firestore,lr),r=Og(n),a=g_(n.converter,e);return qd(t,[Ud(Vd(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ha(this.firestore,t))}isEqual(e){return rT(this._delegate,e._delegate)}withConverter(e){return new Kg(this.firestore,this._delegate.withConverter(e?Gd.getInstance(this.firestore,e):null))}}function zd(n){return on(n,er)}class jT{constructor(...e){this._delegate=new Qu(...e)}static documentId(){return new jT(hi.keyField().canonicalString())}isEqual(e){return(e=(0,Ut.m9)(e))instanceof Qu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new pT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wd(e)}static delete(){const e=new Fg("deleteField");return e._methodName="FieldValue.delete",new Wd(e)}static arrayUnion(...e){const t=function(...n){return new uC("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wd(t)}static arrayRemove(...e){const t=function(...n){return new lC("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wd(t)}static increment(e){const t=function(n){return new gT("increment",n)}(e);return t._methodName="FieldValue.increment",new Wd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vC={Firestore:m1,GeoPoint:c_,Timestamp:di,Blob:__,Transaction:FT,WriteBatch:LT,DocumentReference:ha,DocumentSnapshot:zg,Query:xs,QueryDocumentSnapshot:Wg,QuerySnapshot:UT,CollectionReference:Kg,FieldPath:jT,FieldValue:Wd,setLogLevel:function(n){!function(n){So.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new vp.wA("firestore-compat",t=>((e,t)=>new m1(e,t,new pM))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},vC)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(bw.Z);var cc=V(9765),_1=V(6682),Kd=V(309),Yd=V(5345);function Pi(n,e){return"function"==typeof e?t=>t.pipe(Pi((r,a)=>(0,kn.D)(n(r,a)).pipe((0,ft.U)((d,p)=>e(r,d,a,p))))):t=>t.lift(new ZT(n))}class ZT{constructor(e){this.project=e}call(e,t){return t.subscribe(new yM(e,this.project))}}class yM extends Yd.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Yd.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Yd.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var HT=V(7771),Yg=V(5319),bC=V(7971),_M=V(8858);class vM extends cc.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new bM(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,d=r.length;let p;if(this.closed)throw new bC.N;if(this.isStopped||this.hasError?p=Yg.w.EMPTY:(this.observers.push(e),p=new _M.W(this,e)),a&&e.add(e=new Kd.ht(e,a)),t)for(let _=0;_<d&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<d&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||HT.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,d=a.length;let p=0;for(;p<d&&!(e-a[p].time<r);)p++;return d>t&&(p=Math.max(p,d-t)),p>0&&a.splice(0,p),a}}class bM{constructor(e,t){this.time=e,this.value=t}}function $T(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,p,d=0,_=!1,w=!1;return function(k){let O;d++,!a||_?(_=!1,a=new vM(n,e,r),O=a.subscribe(this),p=k.subscribe({next(H){a.next(H)},error(H){_=!0,a.error(H)},complete(){w=!0,p=void 0,a.complete()}}),w&&(p=void 0)):O=a.subscribe(this),this.add(()=>{d--,O.unsubscribe(),O=void 0,p&&!w&&t&&0===d&&(p.unsubscribe(),p=void 0,a=void 0)})}}(r))}const v_=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),v1=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var lu=V(9193);function b_(n){return e=>0===n?(0,lu.c)():e.lift(new wM(n))}class wM{constructor(e){if(this.total=e,this.total<0)throw new v1}call(e,t){return t.subscribe(new EM(e,this.total))}}class EM extends Ti.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function qT(n=null){return e=>e.lift(new IM(n))}class IM{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new GT(e,this.defaultValue))}}class GT extends Ti.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function zT(n=b1){return e=>e.lift(new TM(n))}class TM{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new DM(e,this.errorFactory))}}class DM extends Ti.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function b1(){return new v_}var Sf=V(4487);function Jd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wn((a,d)=>n(a,d,r)):Sf.y,b_(1),t?qT(e):zT(()=>new v_))}function WT(n,e){return e?Pi(()=>n,e):Pi(()=>n)}var wC=V(3101);V(2329);const E_=new Map,T1={activated:!1,tokenObservers:[]},fa={initialized:!1,enabled:!1};function os(n){return E_.get(n)||T1}function Xu(n,e){E_.set(n,e)}function I_(){return fa}class PM{constructor(e,t,r,a,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Ut.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ut.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ao=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function TC(n){if(!os(n).activated)throw ao.create("use-before-activation",{appName:n.name})}function k1(n,e){return T_.apply(this,arguments)}function T_(){return(T_=(0,Ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(e),headers:r};let p,_;try{p=yield fetch(n,d)}catch(O){throw ao.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==p.status)throw ao.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(O){throw ao.create("fetch-parse-error",{originalErrorMessage:O.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ao.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(w[1]),k=Date.now();return{token:_.attestationToken,expireTimeMillis:k+S,issuedAtTimeMillis:k}})).apply(this,arguments)}function P1(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const el="firebase-app-check-store";let Jg=null;function iD(){return Jg||(Jg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(ao.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(el,{keyPath:"compositeKey"})}}}catch(t){e(ao.create("storage-open",{originalErrorMessage:t.message}))}}),Jg)}function A_(){return(A_=(0,Ie.Z)(function*(n,e){const r=(yield iD()).transaction(el,"readwrite"),d=r.objectStore(el).put({compositeKey:n,value:e});return new Promise((p,_)=>{d.onsuccess=w=>{p()},r.onerror=w=>{var S;_(ao.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const S_=new za.Yd("@firebase/app-check");function R1(n,e){return(0,Ut.hl)()?function(n,e){return function(n,e){return A_.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{S_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jr(){return I_().enabled}function L1(){return x_.apply(this,arguments)}function x_(){return(x_=(0,Ie.Z)(function*(){const n=I_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const V1={error:"UNKNOWN_ERROR"};function M_(n){return Ut.US.encodeString(JSON.stringify(n),!1)}function k_(n){return SC.apply(this,arguments)}function SC(){return(SC=(0,Ie.Z)(function*(n,e=!1){const t=n.app;TC(t);const r=os(t);let d,p,a=r.token;if(!a){const _=yield r.cachedTokenPromise;_&&Qd(_)&&(a=_,Xu(t,Object.assign(Object.assign({},r),{token:a})),P_(t,{token:a.token}))}if(!e&&a&&Qd(a))return{token:a.token};if(Jr()){const _=yield k1(P1(t,yield L1()),n.platformLoggerProvider);return yield R1(t,_),Xu(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{a=yield r.provider.getToken()}catch(_){S_.error(_),d=_}return a?(p={token:a.token},Xu(t,Object.assign(Object.assign({},r),{token:a})),yield R1(t,a)):p=U1(d),P_(t,p),p})).apply(this,arguments)}function tl(n,e){const t=os(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Xu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function P_(n,e){const t=os(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function Qd(n){return n.expireTimeMillis-Date.now()>0}function U1(n){return{token:M_(V1),error:n}}class O_{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=os(this.app);for(const t of e)tl(this.app,t.next);return Promise.resolve()}}const fD="app-check-internal";(0,Ga._registerComponent)(new vp.wA("app-check",n=>function(n,e){return new O_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fD).initialize()})),(0,Ga._registerComponent)(new vp.wA(fD,n=>function(n){return{getToken:e=>k_(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,d=os(a),p={next:t,error:r,type:e},_=Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,p]});if(!_.tokenRefresher){const w=function(n){const{app:e}=n;return new PM((0,Ie.Z)(function*(){let r;if(r=os(e).token?yield k_(n,!0):yield k_(n),r.error)throw r.error}),()=>!0,()=>{const t=os(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=w}if(!_.tokenRefresher.isRunning()&&d.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),d.token&&Qd(d.token)){const w=d.token;Promise.resolve().then(()=>t({token:w.token})).catch(()=>{})}else null==d.token&&d.cachedTokenPromise.then(w=>{w&&Qd(w)&&t({token:w.token})}).catch(()=>{});Xu(a,_)}(n,"INTERNAL",e),removeTokenListener:e=>tl(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ga.registerVersion)("@firebase/app-check","0.4.2");class mD{constructor(){return(0,qr.vb)("app-check")}}"undefined"!=typeof window&&window;var OC=V(7841);const yD=new l.OlP("angularfire2.auth.use-emulator"),J1=new l.OlP("angularfire2.auth.settings"),Q1=new l.OlP("angularfire2.auth.tenant-id"),X1=new l.OlP("angularfire2.auth.langugage-code"),R_=new l.OlP("angularfire2.auth.use-device-language"),_D=new l.OlP("angularfire.auth.persistence"),vD=(n,e,t,r,a,d,p,_)=>(0,Do.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,d&&w.useDeviceLanguage(),p)for(const[S,k]of Object.entries(p))w.settings[S]=k;return _&&w.setPersistence(_),w},[t,r,a,d,p,_]);let em=(()=>{class n{constructor(t,r,a,d,p,_,w,S,k,O,H,z){const Ee=new cc.xQ,He=(0,Ke.of)(void 0).pipe((0,Kd.QV)(p.outsideAngular),Pi(()=>d.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,ft.U)(()=>(0,Do.on)(t,d,r)),(0,ft.U)(Qe=>vD(Qe,d,_,S,k,O,w,H)),$T({bufferSize:1,refCount:!1}));if(cn(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ke.of)(null);else{He.pipe(Jd()).subscribe();const _t=He.pipe(Pi(qt=>qt.getRedirectResult().then(Rr=>Rr,()=>null)),qr.iC,$T({bufferSize:1,refCount:!1})),an=He.pipe(Pi(qt=>new Un.y(Rr=>({unsubscribe:d.runOutsideAngular(()=>qt.onAuthStateChanged(fu=>Rr.next(fu),fu=>Rr.error(fu),()=>Rr.complete()))})))),Bn=He.pipe(Pi(qt=>new Un.y(Rr=>({unsubscribe:d.runOutsideAngular(()=>qt.onIdTokenChanged(fu=>Rr.next(fu),fu=>Rr.error(fu),()=>Rr.complete()))}))));this.authState=_t.pipe(WT(an),(0,wC.R)(p.outsideAngular),(0,Kd.QV)(p.insideAngular)),this.user=_t.pipe(WT(Bn),(0,wC.R)(p.outsideAngular),(0,Kd.QV)(p.insideAngular)),this.idToken=this.user.pipe(Pi(qt=>qt?(0,kn.D)(qt.getIdToken()):(0,Ke.of)(null))),this.idTokenResult=this.user.pipe(Pi(qt=>qt?(0,kn.D)(qt.getIdTokenResult()):(0,Ke.of)(null))),this.credential=(0,_1.T)(_t,Ee,this.authState.pipe(Wn(qt=>!qt))).pipe((0,ft.U)(qt=>(null==qt?void 0:qt.user)?qt:null),(0,wC.R)(p.outsideAngular),(0,Kd.QV)(p.insideAngular))}return(0,Do.pX)(this,He,d,{spy:{apply:(Qe,_t,an)=>{(Qe.startsWith("signIn")||Qe.startsWith("createUser"))&&an.then(Bn=>Ee.next(Bn))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do.Dh),l.LFG(Do.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qr.HU),l.LFG(yD,8),l.LFG(J1,8),l.LFG(Q1,8),l.LFG(X1,8),l.LFG(R_,8),l.LFG(_D,8),l.LFG(mD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YM=(()=>{class n{constructor(){OC.Z.registerVersion("angularfire",qr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[em]}),n})();function bD(n,e){return function(n,e=Iv.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function uo(n,e){return bD(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function NC(n,e){return uo(n,e).pipe(yp(void 0),Uu(),(0,ft.U)(([t,r])=>{const a=r.payload.docChanges(),d=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((p,_)=>{const w=a.find(k=>k.doc.ref.isEqual(p.ref)),S=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(p.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(p.metadata)||!w&&S&&JSON.stringify(S.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:p}})}),d}))}function RC(n,e,t){return NC(n,t).pipe(_p((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return F_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return F_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return F_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(d=>d.payload),e),[]),t=>t.lift(new yw(void 0,void 0)),(0,ft.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function F_(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function FC(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class L_{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=NC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(yp(void 0),Uu(),Wn(([r,a])=>a.length>0||!r),(0,ft.U)(([r,a])=>a),qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_p((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FC(e);return RC(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return uo(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qr.iC)}get(e){return(0,kn.D)(this.query.get(e)).pipe(qr.iC)}add(e){return this.ref.add(e)}doc(e){return new V_(this.ref.doc(e),this.afs)}}class V_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:d}=ID(r,t);return new L_(a,d,this.afs)}snapshotChanges(){return function(n,e){return bD(n,e).pipe(yp(void 0),Uu(),(0,ft.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,kn.D)(this.ref.get(e)).pipe(qr.iC)}}class LC{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?NC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Wn(t=>t.length>0),qr.iC):NC(this.query,this.afs.schedulers.outsideAngular).pipe(qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_p((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FC(e);return RC(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return uo(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),qr.iC)}get(e){return(0,kn.D)(this.query.get(e)).pipe(qr.iC)}}const tm=new l.OlP("angularfire2.enableFirestorePersistence"),nm=new l.OlP("angularfire2.firestore.persistenceSettings"),wD=new l.OlP("angularfire2.firestore.settings"),ED=new l.OlP("angularfire2.firestore.use-emulator");function ID(n,e=(t=>t)){return{query:e(n),ref:n}}let xf=(()=>{class n{constructor(t,r,a,d,p,_,w,S,k,O,H,z,Ee,He,Qe,_t,an){this.schedulers=w;const Bn=(0,Do.on)(t,_,r),qt=k;O&&vD(Bn,_,H,Ee,He,Qe,z,_t),[this.firestore,this.persistenceEnabled$]=(0,Do.cc)(`${Bn.name}.firestore`,"AngularFirestore",Bn.name,()=>{const Rr=_.runOutsideAngular(()=>Bn.firestore());if(d&&Rr.settings(d),qt&&Rr.useEmulator(...qt),a&&!cn(p)){const fu=()=>{try{return(0,kn.D)(Rr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(NN){return"undefined"!=typeof console&&console.warn(NN),(0,Ke.of)(!1)}};return[Rr,_.runOutsideAngular(fu)]}return[Rr,(0,Ke.of)(!1)]},[d,qt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:p}=ID(a,r),_=this.schedulers.ngZone.run(()=>d);return new L_(_,p,this)}collectionGroup(t,r){const a=r||(p=>p),d=this.firestore.collectionGroup(t);return new LC(a(d),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new V_(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do.Dh),l.LFG(Do.xv,8),l.LFG(tm,8),l.LFG(wD,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qr.HU),l.LFG(nm,8),l.LFG(ED,8),l.LFG(em,8),l.LFG(yD,8),l.LFG(J1,8),l.LFG(Q1,8),l.LFG(X1,8),l.LFG(R_,8),l.LFG(_D,8),l.LFG(mD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TD=(()=>{class n{constructor(){OC.Z.registerVersion("angularfire",qr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tm,useValue:!0},{provide:nm,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xf]}),n})();class lo extends cc.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bC.N;return this._value}next(e){super.next(this._value=e)}}class rx extends Ti.L{notifyNext(e,t,r,a,d){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ix extends Ti.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var VC=V(7444);function sx(n,e,t,r,a=new ix(n,t,r)){if(!a.closed)return e instanceof Un.y?e.subscribe(a):(0,VC.s)(e)(a)}var as=V(6693);const Mf={};class DD{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new j_(e,this.resultSelector))}}class j_ extends rx{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Mf),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(sx(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,p=this.toRespond?a[r]===Mf?--this.toRespond:this.toRespond:0;a[r]=t,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function B_(n){return new Un.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,kn.D)(t):(0,lu.c)()).subscribe(e)})}var AD=V(2441);function cu(n){return function(t){const r=new ox(n),a=t.lift(r);return r.caught=a}}class ox{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ax(e,this.selector,this.caught))}}class ax extends Yd.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const r=new Yd.IY(this);this.add(r);const a=(0,Yd.ft)(t,r);a!==r&&this.add(a)}}}function UC(n){return function(t){return 0===n?(0,lu.c)():t.lift(new ux(n))}}class ux{constructor(e){if(this.total=e,this.total<0)throw new v1}call(e,t){return t.subscribe(new SD(e,this.total))}}class SD extends Ti.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let d=0;d<r;d++){const p=t++%r;e.next(a[p])}}e.complete()}}var co=V(3342),cx=V(1307);class rm{constructor(e){this.callback=e}call(e,t){return t.subscribe(new jC(e,this.callback))}}class jC extends Ti.L{constructor(e,t){super(e),this.add(new Yg.w(t))}}class nl{constructor(e,t){this.id=e,this.url=t}}class BC extends nl{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kf extends nl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Z_ extends nl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dx extends nl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xD extends nl{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD extends nl{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hx extends nl{constructor(e,t,r,a,d){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fx extends nl{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class px extends nl{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class du{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pf{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Of{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H_{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nf{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gx{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kD{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class PD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xd(n){return new PD(n)}const ZC="ngNavigationCancelingError";function $_(n){const e=Error("NavigationCancelingError: "+n);return e[ZC]=!0,e}function mx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let d=0;d<r.length;d++){const p=r[d],_=n[d];if(p.startsWith(":"))a[p.substring(1)]=_;else if(p!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function ga(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let d=0;d<t.length;d++)if(a=t[d],!hc(n[a],e[a]))return!1;return!0}function hc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,d)=>r[d]===a)}return n===e}function q_(n){return Array.prototype.concat.apply([],n)}function OD(n){return n.length>0?n[n.length-1]:null}function Gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rl(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,kn.D)(Promise.resolve(n)):(0,Ke.of)(n)}const XM={exact:function _x(n,e,t){if(!s(n.segments,e.segments)||!$C(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_x(n.children[r],e.children[r],t))return!1;return!0},subset:vx},ND={exact:function(n,e){return ga(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hc(n[t],e[t]))},ignored:()=>!0};function RD(n,e,t){return XM[t.paths](n.root,e.root,t.matrixParams)&&ND[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vx(n,e,t){return FD(n,e,e.segments,t)}function FD(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!s(a,t)||e.hasChildren()||!$C(a,t,r))}if(n.segments.length===t.length){if(!s(n.segments,t)||!$C(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!vx(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),d=t.slice(n.segments.length);return!!(s(n.segments,a)&&$C(n.segments,a,r)&&n.children[Bt])&&FD(n.children[Bt],e,d,r)}}function $C(n,e,t){return e.every((r,a)=>ND[t](n[a].parameters,r.parameters))}class Rf{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return h.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gi(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m(this)}}class G_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xd(this.parameters)),this._parameterMap}toString(){return W(this)}}function s(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class u{}class c{parse(e){const t=new Lo(e);return new Rf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${y(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${I(t)}=${I(a)}`).join("&"):`${I(t)}=${I(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const h=new c;function m(n){return n.segments.map(e=>W(e)).join("/")}function y(n,e){if(!n.hasChildren())return m(n);if(e){const t=n.children[Bt]?y(n.children[Bt],!1):"",r=[];return Gi(n.children,(a,d)=>{d!==Bt&&r.push(`${d}:${y(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Gi(n.children,(r,a)=>{a===Bt&&(t=t.concat(e(r,a)))}),Gi(n.children,(r,a)=>{a!==Bt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Bt?[y(n.children[Bt],!1)]:[`${a}:${y(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${m(n)}/${t[0]}`:`${m(n)}/(${t.join("//")})`}}function b(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function I(n){return b(n).replace(/%3B/gi,";")}function M(n){return b(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(n){return decodeURIComponent(n)}function B(n){return N(n.replace(/\+/g,"%20"))}function W(n){return`${M(n.path)}${function(n){return Object.keys(n).map(e=>`;${M(e)}=${M(n[e])}`).join("")}(n.parameters)}`}const Ve=/^[^\/()?;=#]+/;function Ae(n){const e=n.match(Ve);return e?e[0]:""}const ct=/^[^=?&#]+/,Ht=/^[^?&#]+/;class Lo{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new Yt(e,t)),r}parseSegment(){const e=Ae(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new G_(N(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ae(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Ae(this.remaining);a&&(r=a,this.capture(r))}e[N(t)]=N(r)}parseQueryParam(e){const t=function(n){const e=n.match(ct);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(Ht);return e?e[0]:""}(this.remaining);p&&(r=p,this.capture(r))}const a=B(t),d=B(r);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(d)}else e[a]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ae(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;r.indexOf(":")>-1?(d=r.substr(0,r.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=Bt);const p=this.parseChildren();t[d]=1===Object.keys(p).length?p[Bt]:new Yt([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ff{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=fc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return pc(e,this._root).map(t=>t.value)}}function fc(n,e){if(n===e.value)return e;for(const t of e.children){const r=fc(n,t);if(r)return r}return null}function pc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pc(n,t);if(r.length)return r.unshift(e),r}return[]}class Ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function eh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class z_ extends Ff{constructor(e,t){super(e),this.snapshot=t,bx(this,e)}toString(){return this.snapshot.toString()}}function W_(n,e){const t=function(n,e){const p=new LD([],{},{},"",{},Bt,e,null,n.root,-1,{});return new rk("",new Ms(p,[]))}(n,e),r=new lo([new G_("",{})]),a=new lo({}),d=new lo({}),p=new lo({}),_=new lo(""),w=new Vo(r,a,p,_,d,Bt,e,t.root);return w.snapshot=t.root,new z_(new Ms(w,[]),t)}class Vo{constructor(e,t,r,a,d,p,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=p,this.component=_,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>Xd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>Xd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],d=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(d.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class LD{constructor(e,t,r,a,d,p,_,w,S,k,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=p,this.component=_,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=k,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rk extends Ff{constructor(e,t){super(t),this.url=e,bx(this,t)}toString(){return ik(this._root)}}function bx(n,e){e.value._routerState=n,e.children.forEach(t=>bx(n,t))}function ik(n){const e=n.children.length>0?` { ${n.children.map(ik).join(", ")} } `:"";return`${n.value}${e}`}function Cx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ga(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ga(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ga(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ga(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wx(n,e){return ga(n.params,e.params)&&function(n,e){return s(n,e)&&n.every((t,r)=>ga(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||wx(n.parent,e.parent))}function VD(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return VD(n,r,a);return VD(n,r)})}(n,e,t);return new Ms(r,a)}{if(n.shouldAttach(e.value)){const d=n.retrieve(e.value);if(null!==d){const p=d.route;return sk(e,p),p}}const r=function(n){return new Vo(new lo(n.url),new lo(n.params),new lo(n.queryParams),new lo(n.fragment),new lo(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(d=>VD(n,d));return new Ms(r,a)}}function sk(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)sk(n.children[t],e.children[t])}function UD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function GC(n){return"object"==typeof n&&null!=n&&n.outlets}function Ex(n,e,t,r,a){let d={};return r&&Gi(r,(p,_)=>{d[_]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),new Rf(t.root===n?e:ok(t.root,n,e),d,a)}function ok(n,e,t){const r={};return Gi(n.children,(a,d)=>{r[d]=a===e?t:ok(a,e,t)}),new Yt(n.segments,r)}class ak{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&UD(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(GC);if(a&&a!==OD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ix{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function uk(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return jD(n,e,t);const r=function(n,e,t){let r=0,a=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return d;const p=n.segments[a],_=t[r];if(GC(_))break;const w=`${_}`,S=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!ck(w,S,p))return d;r+=2}else{if(!ck(w,{},p))return d;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const d=new Yt(n.segments.slice(0,r.pathIndex),{});return d.children[Bt]=new Yt(n.segments.slice(r.pathIndex),n.children),jD(d,0,a)}return r.match&&0===a.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?Tx(n,e,t):r.match?jD(n,0,a):Tx(n,e,t)}function jD(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function(n){return GC(n[0])?n[0].outlets:{[Bt]:n}}(t),a={};return Gi(r,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=uk(n.children[p],e,d))}),Gi(n.children,(d,p)=>{void 0===r[p]&&(a[p]=d)}),new Yt(n.segments,a)}}function Tx(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const d=t[a];if(GC(d)){const w=iP(d.outlets);return new Yt(r,w)}if(0===a&&UD(t[0])){r.push(new G_(n.segments[e].path,lk(t[0]))),a++;continue}const p=GC(d)?d.outlets[Bt]:`${d}`,_=a<t.length-1?t[a+1]:null;p&&_&&UD(_)?(r.push(new G_(p,lk(_))),a+=2):(r.push(new G_(p,{})),a++)}return new Yt(r,{})}function iP(n){const e={};return Gi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tx(new Yt([],{}),0,t))}),e}function lk(n){const e={};return Gi(n,(t,r)=>e[r]=`${t}`),e}function ck(n,e,t){return n==t.path&&ga(e,t.parameters)}class oP{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cx(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=eh(t);e.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],r),delete a[p]}),Gi(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(e,t,r){const a=e.value,d=t?t.value:null;if(a===d)if(a.component){const p=r.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,r);else d&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,d=eh(e);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=eh(t);e.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],r),this.forwardEvent(new gx(d.value.snapshot))}),e.children.length&&this.forwardEvent(new H_(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,d=t?t.value:null;if(Cx(a),a===d)if(a.component){const p=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const p=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(_.contexts),p.attachRef=_.componentRef,p.route=_.route.value,p.outlet&&p.outlet.attach(_.componentRef,_.route.value),dk(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=_?_.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=w,p.outlet&&p.outlet.activateWith(a,w),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,r)}}function dk(n){Cx(n.value),n.children.forEach(dk)}class Dx{constructor(e,t){this.routes=e,this.module=t}}function Lf(n){return"function"==typeof n}function im(n){return n instanceof Rf}const zC=Symbol("INITIAL_VALUE");function WC(){return Pi(n=>function(...n){let e,t;return(0,Dv.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Du.k)(n[0])&&(n=n[0]),(0,as.n)(n,t).lift(new DD(e))}(n.map(e=>e.pipe(b_(1),yp(zC)))).pipe(_p((e,t)=>{let r=!1;return t.reduce((a,d,p)=>a!==zC?a:(d===zC&&(r=!0),r||!1!==d&&p!==t.length-1&&!im(d)?a:d),e)},zC),Wn(e=>e!==zC),(0,ft.U)(e=>im(e)?e:!0===e),b_(1)))}let hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:function(){return[Px]},encapsulation:2}),n})();function fk(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];fP(r,pP(e,r))}}function fP(n,e){n.children&&fk(n.children,e)}function pP(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ax(n){const e=n.children&&n.children.map(Ax),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=hk),t}function hu(n){return n.outlet||Bt}function pk(n,e){const t=n.filter(r=>hu(r)===e);return t.push(...n.filter(r=>hu(r)!==e)),t}const gk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function BD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},gk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||mx)(t,n,e);if(!d)return Object.assign({},gk);const p={};Gi(d.posParams,(w,S)=>{p[S]=w.path});const _=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:_,positionalParamSegments:null!==(r=d.posParams)&&void 0!==r?r:{}}}function ZD(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>HD(n,e,r)&&hu(r)!==Bt)}(n,t,r)){const p=new Yt(e,function(n,e,t,r){const a={};a[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const d of t)if(""===d.path&&hu(d)!==Bt){const p=new Yt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[hu(d)]=p}return a}(n,e,r,new Yt(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>HD(n,e,r))}(n,t,r)){const p=new Yt(n.segments,function(n,e,t,r,a,d){const p={};for(const _ of r)if(HD(n,t,_)&&!a[hu(_)]){const w=new Yt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===d?n.segments.length:e.length,p[hu(_)]=w}return Object.assign(Object.assign({},a),p)}(n,e,t,r,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const d=new Yt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}function HD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mk(n,e,t,r){return!!(hu(n)===r||r!==Bt&&HD(e,t,n))&&("**"===n.path||BD(e,n,t).matched)}function yk(n,e,t){return 0===e.length&&!n.children[t]}class KC{constructor(e){this.segmentGroup=e||null}}class _k{constructor(e){this.urlTree=e}}function $D(n){return new Un.y(e=>e.error(new KC(n)))}function vk(n){return new Un.y(e=>e.error(new _k(n)))}function vP(n){return new Un.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class wP{constructor(e,t,r,a,d){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=ZD(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Bt).pipe((0,ft.U)(d=>this.createUrlTree(Sx(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cu(d=>{if(d instanceof _k)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof KC?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Bt).pipe((0,ft.U)(a=>this.createUrlTree(Sx(a),e.queryParams,e.fragment))).pipe(cu(a=>{throw a instanceof KC?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Yt([],{[Bt]:e}):e;return new Rf(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ft.U)(d=>new Yt([],d))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const d of Object.keys(r.children))"primary"===d?a.unshift(d):a.push(d);return(0,kn.D)(a).pipe(Vu(d=>{const p=r.children[d],_=pk(t,d);return this.expandSegmentGroup(e,_,p,d).pipe((0,ft.U)(w=>({segment:w,outlet:d})))}),_p((d,p)=>(d[p.outlet]=p.segment,d),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wn((a,d)=>n(a,d,r)):Sf.y,UC(1),t?qT(e):zT(()=>new v_))}())}expandSegment(e,t,r,a,d,p){return(0,kn.D)(r).pipe(Vu(_=>this.expandSegmentAgainstRoute(e,t,r,_,a,d,p).pipe(cu(S=>{if(S instanceof KC)return(0,Ke.of)(null);throw S}))),Jd(_=>!!_),cu((_,w)=>{if(_ instanceof v_||"EmptyError"===_.name){if(yk(t,a,d))return(0,Ke.of)(new Yt([],{}));throw new KC(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,a,d,p,_){return mk(a,t,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,d,p):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,d,p):$D(t):$D(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vk(d):this.lineralizeSegments(r,d).pipe((0,Hr.zg)(p=>{const _=new Yt(p,{});return this.expandSegment(e,_,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,d,p){const{matched:_,consumedSegments:w,lastChild:S,positionalParamSegments:k}=BD(t,a,d);if(!_)return $D(t);const O=this.applyRedirectCommands(w,a.redirectTo,k);return a.redirectTo.startsWith("/")?vk(O):this.lineralizeSegments(a,O).pipe((0,Hr.zg)(H=>this.expandSegment(e,t,r,H.concat(d.slice(S)),p,!1)))}matchSegmentAgainstRoute(e,t,r,a,d){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ke.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ft.U)(H=>(r._loadedConfig=H,new Yt(a,{})))):(0,Ke.of)(new Yt(a,{}));const{matched:p,consumedSegments:_,lastChild:w}=BD(t,r,a);if(!p)return $D(t);const S=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,Hr.zg)(O=>{const H=O.module,z=O.routes,{segmentGroup:Ee,slicedSegments:He}=ZD(t,_,S,z),Qe=new Yt(Ee.segments,Ee.children);if(0===He.length&&Qe.hasChildren())return this.expandChildren(H,z,Qe).pipe((0,ft.U)(qt=>new Yt(_,qt)));if(0===z.length&&0===He.length)return(0,Ke.of)(new Yt(_,{}));const _t=hu(r)===d;return this.expandSegment(H,Qe,z,He,_t?Bt:d,!0).pipe((0,ft.U)(Bn=>new Yt(_.concat(Bn.segments),Bn.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ke.of)(new Dx(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ke.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Hr.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,ft.U)(d=>(t._loadedConfig=d,d))):function(n){return new Un.y(e=>e.error($_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,Ke.of)(new Dx([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Ke.of)(!0);const d=a.map(p=>{const _=e.get(p);let w;if(function(n){return n&&Lf(n.canLoad)}(_))w=_.canLoad(t,r);else{if(!Lf(_))throw new Error("Invalid CanLoad guard");w=_(t,r)}return rl(w)});return(0,Ke.of)(d).pipe(WC(),(0,co.b)(p=>{if(!im(p))return;const _=$_(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw _.url=p,_}),(0,ft.U)(p=>!0===p))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Ke.of)(r);if(a.numberOfChildren>1||!a.children[Bt])return vP(e.redirectTo);a=a.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const d=this.createSegmentGroup(e,t.root,r,a);return new Rf(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gi(e,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[d]=t[_]}else r[d]=a}),r}createSegmentGroup(e,t,r,a){const d=this.createSegments(e,t.segments,r,a);let p={};return Gi(t.children,(_,w)=>{p[w]=this.createSegmentGroup(e,_,r,a)}),new Yt(d,p)}createSegments(e,t,r,a){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,a):this.findOrReturn(d,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Sx(n){const e={};for(const r of Object.keys(n.children)){const d=Sx(n.children[r]);(d.segments.length>0||d.hasChildren())&&(e[r]=d)}return function(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}class bk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qD{constructor(e,t){this.component=e,this.route=t}}function TP(n,e,t){const r=n._root;return YC(r,e?e._root:null,t,[r.value])}function GD(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function YC(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=eh(e);return n.children.forEach(p=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!s(n.url,e.url)||!ga(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wx(n,e)||!ga(n.queryParams,e.queryParams);case"paramsChange":default:return!wx(n,e)}}(p,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new bk(r)):(d.data=p.data,d._resolvedData=p._resolvedData),YC(n,e,d.component?_?_.children:null:t,r,a),w&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new qD(_.outlet.component,p))}else p&&JC(e,_,a),a.canActivateChecks.push(new bk(r)),YC(n,null,d.component?_?_.children:null:t,r,a)})(p,d[p.value.outlet],t,r.concat([p.value]),a),delete d[p.value.outlet]}),Gi(d,(p,_)=>JC(p,t.getContext(_),a)),a}function JC(n,e,t){const r=eh(n),a=n.value;Gi(r,(d,p)=>{JC(d,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new qD(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class VP{}function Ck(n){return new Un.y(e=>e.error(n))}class jP{constructor(e,t,r,a,d,p){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const e=ZD(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Bt);if(null===t)return null;const r=new LD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ms(r,t),d=new rk(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const t=e.value,r=nk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const d of Object.keys(t.children)){const p=t.children[d],_=pk(e,d),w=this.processSegmentGroup(_,p,d);if(null===w)return null;r.push(...w)}const a=wk(r);return function(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,r,a){for(const d of e){const p=this.processSegmentAgainstRoute(d,t,r,a);if(null!==p)return p}return yk(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!mk(e,t,r,a))return null;let d,p=[],_=[];if("**"===e.path){const z=r.length>0?OD(r).parameters:{};d=new LD(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tk(e),hu(e),e.component,e,Ek(t),Ik(t)+r.length,Dk(e))}else{const z=BD(t,e,r);if(!z.matched)return null;p=z.consumedSegments,_=r.slice(z.lastChild),d=new LD(p,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tk(e),hu(e),e.component,e,Ek(t),Ik(t)+p.length,Dk(e))}const w=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:k}=ZD(t,p,_,w.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===k.length&&S.hasChildren()){const z=this.processChildren(w,S);return null===z?null:[new Ms(d,z)]}if(0===w.length&&0===k.length)return[new Ms(d,[])];const O=hu(e)===a,H=this.processSegment(w,S,k,O?Bt:a);return null===H?null:[new Ms(d,H)]}}function HP(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wk(n){const e=[],t=new Set;for(const r of n){if(!HP(r)){e.push(r);continue}const a=e.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=wk(r.children);e.push(new Ms(r.value,a))}return e.filter(r=>!t.has(r))}function Ek(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ik(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Tk(n){return n.data||{}}function Dk(n){return n.resolve||{}}function xx(n){return Pi(e=>{const t=n(e);return t?(0,kn.D)(t).pipe((0,ft.U)(()=>e)):(0,Ke.of)(e)})}class JP extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mx=new l.OlP("ROUTES");class Ak{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ft.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=d.create(e);return new Dx(q_(p.injector.get(Mx,void 0,l.XFs.Self|l.XFs.Optional)).map(Ax),p)}),cu(d=>{throw t._loader$=void 0,d}));return t._loader$=new AD.c(a,()=>new cc.xQ).pipe((0,cx.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,kn.D)(this.loader.load(e)):rl(e()).pipe((0,Hr.zg)(t=>t instanceof l.YKP?(0,Ke.of)(t):(0,kn.D)(this.compiler.compileModuleAsync(t))))}}class QP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new K_,this.attachRef=null}}class K_{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new QP,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class eO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tO(n){throw n}function nO(n,e,t){return e.parse("/")}function Sk(n,e){return(0,Ke.of)(null)}const rO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{constructor(t,r,a,d,p,_,w,S){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cc.xQ,this.errorHandler=tO,this.malformedUriErrorHandler=nO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sk,afterPreactivation:Sk},this.urlHandlingStrategy=new eO,this.routeReuseStrategy=new JP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(l.h0i),this.console=p.get(l.c2e);const H=p.get(l.R0b);this.isNgZoneEnabled=H instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Rf(new Yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ak(_,w,z=>this.triggerEvent(new du(z)),z=>this.triggerEvent(new Pf(z))),this.routerState=W_(this.currentUrlTree,this.rootComponentType),this.transitions=new lo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Wn(a=>0!==a.id),(0,ft.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Pi(a=>{let d=!1,p=!1;return(0,Ke.of)(a).pipe((0,co.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pi(_=>{const w=this.browserUrlTree.toString(),S=!this.navigated||_.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return zD(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ke.of)(_).pipe(Pi(O=>{const H=this.transitions.getValue();return r.next(new BC(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),H!==this.transitions.getValue()?lu.E:Promise.resolve(O)}),function(n,e,t,r){return Pi(a=>function(n,e,t,r,a){return new wP(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,ft.U)(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,co.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,a){return(0,Hr.zg)(d=>function(n,e,t,r,a="emptyOnly",d="legacy"){try{const p=new jP(n,e,t,r,a,d).recognize();return null===p?Ck(new VP):(0,Ke.of)(p)}catch(p){return Ck(p)}}(n,e,d.urlAfterRedirects,t(d.urlAfterRedirects),r,a).pipe((0,ft.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,co.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const H=new xD(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(H)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:z,source:Ee,restoredState:He,extras:Qe}=_,_t=new BC(H,this.serializeUrl(z),Ee,He);r.next(_t);const an=W_(z,this.rootComponentType).snapshot;return(0,Ke.of)(Object.assign(Object.assign({},_),{targetSnapshot:an,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Qe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),lu.E}),xx(_=>{const{targetSnapshot:w,id:S,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:z}}=_;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!z})}),(0,co.b)(_=>{const w=new MD(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,ft.U)(_=>Object.assign(Object.assign({},_),{guards:TP(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Hr.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=t;return 0===p.length&&0===d.length?(0,Ke.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,kn.D)(n).pipe((0,Hr.zg)(a=>function(n,e,t,r,a){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Ke.of)(!0);const p=d.map(_=>{const w=GD(_,e,a);let S;if(function(n){return n&&Lf(n.canDeactivate)}(w))S=rl(w.canDeactivate(n,e,t,r));else{if(!Lf(w))throw new Error("Invalid CanDeactivate guard");S=rl(w(n,e,t,r))}return S.pipe(Jd())});return(0,Ke.of)(p).pipe(WC())}(a.component,a.route,t,e,r)),Jd(a=>!0!==a,!0))}(p,r,a,n).pipe((0,Hr.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,kn.D)(e).pipe(Vu(a=>Tv(function(n,e){return null!==n&&e&&e(new Of(n)),(0,Ke.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new Nf(n)),(0,Ke.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>B_(()=>{const _=p.guards.map(w=>{const S=GD(w,p.node,t);let k;if(function(n){return n&&Lf(n.canActivateChild)}(S))k=rl(S.canActivateChild(r,n));else{if(!Lf(S))throw new Error("Invalid CanActivateChild guard");k=rl(S(r,n))}return k.pipe(Jd())});return(0,Ke.of)(_).pipe(WC())}));return(0,Ke.of)(d).pipe(WC())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ke.of)(!0);const a=r.map(d=>B_(()=>{const p=GD(d,e,t);let _;if(function(n){return n&&Lf(n.canActivate)}(p))_=rl(p.canActivate(e,n));else{if(!Lf(p))throw new Error("Invalid CanActivate guard");_=rl(p(e,n))}return _.pipe(Jd())}));return(0,Ke.of)(a).pipe(WC())}(n,a.route,t))),Jd(a=>!0!==a,!0))}(r,d,n,e):(0,Ke.of)(_)),(0,ft.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,co.b)(_=>{if(im(_.guardsResult)){const S=$_(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const w=new hx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(w)}),Wn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),xx(_=>{if(_.guards.canActivateChecks.length)return(0,Ke.of)(_).pipe((0,co.b)(w=>{const S=new fx(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),Pi(w=>{let S=!1;return(0,Ke.of)(w).pipe(function(n,e){return(0,Hr.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Ke.of)(t);let d=0;return(0,kn.D)(a).pipe(Vu(p=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Ke.of)({});const d={};return(0,kn.D)(a).pipe((0,Hr.zg)(p=>function(n,e,t,r){const a=GD(n,e,r);return rl(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,r).pipe((0,co.b)(_=>{d[p]=_}))),UC(1),(0,Hr.zg)(()=>Object.keys(d).length===a.length?(0,Ke.of)(d):lu.E))}(n._resolve,n,e,r).pipe((0,ft.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),nk(n,t).resolve),null)))}(p.route,r,n,e)),(0,co.b)(()=>d++),UC(1),(0,Hr.zg)(p=>d===a.length?(0,Ke.of)(t):lu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,co.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,co.b)(w=>{const S=new px(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),xx(_=>{const{targetSnapshot:w,id:S,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:z}}=_;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!z})}),(0,ft.U)(_=>{const w=function(n,e,t){const r=VD(n,e._root,t?t._root:void 0);return new z_(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:w})}),(0,co.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(r=>(new oP(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,co.b)({next(){d=!0},complete(){d=!0}}),function(n){return e=>e.lift(new rm(n))}(()=>{if(!d&&!p){const _=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,_)):this.cancelNavigationTransition(a,_)}this.currentNavigation=null}),cu(_=>{if(p=!0,function(n){return n&&n[ZC]}(_)){const w=im(_.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const S=new Z_(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(S),w?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),O={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zD(a.source)};this.scheduleNavigation(k,"imperative",null,O,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new dx(a.id,this.serializeUrl(a.extractedUrl),_);r.next(w);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return lu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:d,urlTree:p}=r,_={replaceUrl:!0};if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(_.state=w)}this.scheduleNavigation(p,a,d,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fk(t),this.config=t.map(Ax),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:_,preserveFragment:w}=r,S=a||this.routerState.root,k=w?this.currentUrlTree.fragment:p;let O=null;switch(_){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=d||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,a){if(0===t.length)return Ex(e.root,e.root,e,r,a);const d=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ak(!0,0,n);let e=0,t=!1;const r=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const _={};return Gi(d.outlets,(w,S)=>{_[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:_}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,d]},[]);return new ak(t,e,r)}(t);if(d.toRoot())return Ex(e.root,new Yt([],{}),e,r,a);const p=function(n,e,t){if(n.isAbsolute)return new Ix(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const d=t.snapshot._urlSegment;return new Ix(d,d===e.root,0)}const r=UD(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,d=t;for(;d>a;){if(d-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Ix(r,!1,a-d)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(d,e,n),_=p.processChildren?jD(p.segmentGroup,p.index,d.commands):uk(p.segmentGroup,p.index,d.commands);return Ex(p.segmentGroup,_,e,r,a)}(S,this.currentUrlTree,t,O,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=im(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},rO):!1===r?Object.assign({},iO):r,im(t))return RD(this.currentUrlTree,t,a);const d=this.parseUrl(t);return RD(this.currentUrlTree,d,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const d=t[a];return null!=d&&(r[a]=d),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new kf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,d,p){var _,w;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),k=zD(r)&&S&&!zD(S.source),z=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(k&&z)return Promise.resolve(!0);let Ee,He,Qe;p?(Ee=p.resolve,He=p.reject,Qe=p.promise):Qe=new Promise((Bn,qt)=>{Ee=Bn,He=qt});const _t=++this.navigationId;let an;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),an=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):an=0,this.setTransition({id:_t,targetPageId:an,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:d,resolve:Ee,reject:He,promise:Qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qe.catch(Bn=>Promise.reject(Bn))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),d=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(t,r=!1){var a,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new Z_(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.DyG),l.LFG(u),l.LFG(K_),l.LFG(Ue),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function zD(n){return"imperative"!==n}let Y_=(()=>{class n{constructor(t,r,a,d,p){this.router=t,this.route=r,this.commands=[],this.onChanges=new cc.xQ,null==a&&d.setAttribute(p.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:J_(this.skipLocationChange),replaceUrl:J_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:J_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(Vo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})(),sm=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=[],this.onChanges=new cc.xQ,this.subscription=t.events.subscribe(d=>{d instanceof kf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,d,p){if(0!==t||r||a||d||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:J_(this.skipLocationChange),replaceUrl:J_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:J_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(Vo),l.Y36(q))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&t&&(l.Ikx("href",r.href,l.LSH),l.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})();function J_(n){return""===n||!!n}let kx=(()=>{class n{constructor(t,r,a,d,p,_){this.router=t,this.element=r,this.renderer=a,this.cdr=d,this.link=p,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof kf&&this.update()})}ngAfterContentInit(){(0,Ke.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ke.of)(null)).pipe((0,Ph.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,kn.D)(r).pipe((0,Ph.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>t.isActive(a.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Y_,8),l.Y36(sm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,a){if(1&t&&(l.Suo(a,Y_,5),l.Suo(a,sm,5)),2&t){let d;l.iGM(d=l.CRH())&&(r.links=d),l.iGM(d=l.CRH())&&(r.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[l.TTD]}),n})(),Px=(()=>{class n{constructor(t,r,a,d,p){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=d||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,w=new aO(t,_,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(K_),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class aO{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Vo?this.route:e===K_?this.childContexts:this.parent.get(e,t)}}class xk{}class Mk{preload(e,t){return(0,Ke.of)(null)}}let kk=(()=>{class n{constructor(t,r,a,d,p){this.router=t,this.injector=d,this.preloadingStrategy=p,this.loader=new Ak(r,a,S=>t.triggerEvent(new du(S)),S=>t.triggerEvent(new Pf(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(t=>t instanceof kf),Vu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const d of r)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(t,d)):d.children&&a.push(this.processRoutes(t,d.children));return(0,kn.D)(a).pipe((0,Ph.J)(),(0,ft.U)(d=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ke.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Hr.zg)(d=>(r._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(xk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ox=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new kD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi),l.LFG(sr),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const om=new l.OlP("ROUTER_CONFIGURATION"),Pk=new l.OlP("ROUTER_FORROOT_GUARD"),cO=[Ue,{provide:u,useClass:c},{provide:yi,useFactory:function(n,e,t,r,a,d,p,_={},w,S){const k=new yi(null,n,e,t,r,a,d,q_(p));return w&&(k.urlHandlingStrategy=w),S&&(k.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,k),_.enableTracing&&k.events.subscribe(O=>{var H,z;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(z=console.groupEnd)||void 0===z||z.call(console)}),k},deps:[u,K_,Ue,l.zs3,l.v3s,l.Sil,Mx,om,[class{},new l.FiY],[class{},new l.FiY]]},K_,{provide:Vo,useFactory:function(n){return n.routerState.root},deps:[yi]},{provide:l.v3s,useClass:l.EAV},kk,Mk,class{preload(e,t){return t().pipe(cu(()=>(0,Ke.of)(null)))}},{provide:om,useValue:{enableTracing:!1}}];function dO(){return new l.PXZ("Router",yi)}let Ok=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[cO,Nk(t),{provide:Pk,useFactory:pO,deps:[[yi,new l.FiY,new l.tp0]]},{provide:om,useValue:r||{}},{provide:q,useFactory:fO,deps:[fe,[new l.tBr(be),new l.FiY],om]},{provide:Ox,useFactory:hO,deps:[yi,sr,om]},{provide:xk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Mk},{provide:l.PXZ,multi:!0,useFactory:dO},[Nx,{provide:l.ip1,multi:!0,useFactory:_O,deps:[Nx]},{provide:Rk,useFactory:vO,deps:[Nx]},{provide:l.tb,multi:!0,useExisting:Rk}]]}}static forChild(t){return{ngModule:n,providers:[Nk(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pk,8),l.LFG(yi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function hO(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ox(n,e,t)}function fO(n,e,t={}){return t.useHash?new De(n,e):new he(n,e)}function pO(n){return"guarded"}function Nk(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Mx,multi:!0,useValue:n}]}let Nx=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cc.xQ}appInitializer(){return this.injector.get(R,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),d=this.injector.get(yi),p=this.injector.get(om);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),r(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Ke.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),d.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(om),a=this.injector.get(kk),d=this.injector.get(Ox),p=this.injector.get(yi),_=this.injector.get(l.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),d.init(),p.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function _O(n){return n.appInitializer.bind(n)}function vO(n){return n.bootstrapListener.bind(n)}const Rk=new l.OlP("Router Initializer");function CO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite vard\u0105 "),l.qZA())}function wO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"Neteisingas telefono numeris"),l.qZA())}function EO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite elektronin\u012f pa\u0161t\u0105"),l.qZA())}function IO(n,e){1&n&&(l.TgZ(0,"button",16),l._uU(1," SI\u0172STI "),l.qZA())}let TO=(()=>{class n{constructor(t){this.firestore=t,this.zinute=[],this.firestore.collection("projektas").valueChanges().subscribe(r=>this.zinute=r)}ngOnInit(){}pateiktiForma(t){let r={vardas:t.value.vardas,telefonas:t.value.telefonas,email:t.value.email,zinute:t.value.zinute};console.log(r),this.firestore.collection("Zinutes").doc("KlientuZinutes").set(r),t.reset()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-kotaktu-forma"]],decls:48,vars:4,consts:[["id","apacia"],["id","rekvizitai"],[2,"font-weight","800"],["id","kontaktuForma"],["ngNativeValidate","",3,"ngSubmit"],["manoForma","ngForm"],["type","text","name","vardas","placeholder","Vardas","required","","ngModel",""],["vardas","ngModel"],[4,"ngIf"],["type","string","name","telefonas","placeholder","Telefonas","required","","ngModel","","pattern","(86\\d{7}|\\+3706\\d{7})"],["telefonas","ngModel"],["type","email","name","email","placeholder","El. pa\u0161tas","required","","ngModel",""],["email","ngModel"],["name","zinute","id","zinute","cols","20","rows","5","placeholder","\u017dinut\u0117","required","","ngModel","",2,"max-height","90px","max-width","450px","min-width","300px"],["zinute","ngModel"],["class","button","type","submit",4,"ngIf"],["type","submit",1,"button"]],template:function(t,r){if(1&t){const a=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"p"),l._uU(3,' UAB "JPBIT-2" '),l._UZ(4,"br"),l._uU(5," Registracijos adresas: "),l._UZ(6,"br"),l._uU(7," \u012emon\u0117s kodas: 0000000"),l._UZ(8,"br"),l._uU(9," PVM kodas: LT0000000 "),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"p",2),l._uU(12,"Banko rekvizitai:"),l.qZA(),l.TgZ(13,"p"),l._UZ(14,"br"),l._uU(15," AB SEB bankas "),l._UZ(16,"br"),l._uU(17,"A/S (IBAN): LT00 000 000 000 000 000 "),l._UZ(18,"br"),l._uU(19," Banko kodas: 70440 "),l._UZ(20,"br"),l._uU(21," SWIFT kodas (BIC): CBVILT2X "),l._UZ(22,"br"),l._uU(23," K\u016br\u0117jai: "),l._UZ(24,"br"),l._uU(25," Mindaugas Vilkas "),l.qZA(),l.qZA(),l.TgZ(26,"div",3),l.TgZ(27,"form",4,5),l.NdJ("ngSubmit",function(){l.CHM(a);const p=l.MAs(28);return r.pateiktiForma(p)}),l.TgZ(29,"div"),l._UZ(30,"input",6,7),l.YNc(32,CO,2,0,"small",8),l.qZA(),l.TgZ(33,"div"),l._UZ(34,"input",9,10),l.YNc(36,wO,2,0,"small",8),l.qZA(),l.TgZ(37,"div"),l._UZ(38,"input",11,12),l.YNc(40,EO,2,0,"small",8),l.qZA(),l.TgZ(41,"textarea",13,14),l._uU(43,' <small *ngIf="zinute.touched '),l._uU(44,"&"),l._uU(45,"&"),l._uU(46,' \n        !zinute.valid">\u012eveskite tekst\u0105</small> '),l.qZA(),l.YNc(47,IO,2,0,"button",15),l.qZA(),l.qZA(),l.qZA()}if(2&t){const a=l.MAs(28),d=l.MAs(31),p=l.MAs(35),_=l.MAs(39);l.xp6(32),l.Q6J("ngIf",d.touched&&!d.valid),l.xp6(4),l.Q6J("ngIf",p.touched&&!p.valid),l.xp6(4),l.Q6J("ngIf",_.touched&&!_.valid),l.xp6(7),l.Q6J("ngIf",a.valid)}},directives:[Tr,ra,Ei,$a,Ir,Bc,qn,qc],styles:['input[_ngcontent-%COMP%]:focus{outline:none}input[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:13px}#kontaktuForma[_ngcontent-%COMP%]{height:50vh;display:flex;min-width:20vw;position:inherit;left:50%;top:90vh}kontaktai[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#zinute[_ngcontent-%COMP%]{width:68%}#kontaktuForma[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none!important;border-bottom:1px solid #e3e3c2!important;padding:10px 15px 10px 0;margin:15px 15px 15px 0;width:300px}#kontaktuForma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:transparent;border:none!important;border-bottom:1px solid #e3e3c2!important;margin:15px 15px 15px 0}textarea[_ngcontent-%COMP%]:focus{outline-style:ridge}textarea[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:13px}#kontaktuForma[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none!important;border-bottom:1px solid #e3e3c2!important;font-style:"arial,helvetica,sans-serif"}button[_ngcontent-%COMP%]{display:flex;color:#585858;padding-left:.3px;font-family:inherit;font-size:13px}#rekvizitai[_ngcontent-%COMP%]{height:30vh;min-width:20vw!important;position:relative;background-color:#f4f4ea;border-radius:8px;margin-left:15vw;padding:15px 15px 15px 20px}#apacia[_ngcontent-%COMP%]{display:flex;position:inherit;margin-top:90px;margin-bottom:40px;justify-content:space-around;width:auto}#rekvizitai[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#747474}small[_ngcontent-%COMP%]{position:relative;left:-150px;top:27px}']}),n})(),DO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-kontaktai"]],decls:47,vars:0,consts:[["id","footer"],["id","kontaktai1 kontaktai"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d193595.15830869428!2d-74.119763973046!3d40.69766374874431!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNiujorkas%2C%20Jungtin%C4%97s%20Valstijos!5e0!3m2!1slt!2slt!4v1634575465570!5m2!1slt!2slt","width","600","height","450","allowfullscreen","","loading","lazy",1,"map",2,"border","0"],["id","listItem"],["_ngcontent-siq-c68","","href","mailto:puokste@puokste.ly?subject=Paklausimas del geliu"],["id","kontaktai2 kontaktai"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d423283.43554989767!2d-118.69191546801642!3d34.02073049790668!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c2c75ddc27da13%3A0xe22fdf6f254608f4!2sLos%20And%C5%BEelas%2C%20Kalifornija%2C%20Jungtin%C4%97s%20Valstijos!5e0!3m2!1slt!2slt!4v1634575629874!5m2!1slt!2slt","width","600","height","450","allowfullscreen","","loading","lazy",1,"map",2,"border","0"],["id","kontaktai3 kontaktai"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d147552.08651305057!2d25.11295230284011!3d54.70080208729964!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46dd93fb5c6408f5%3A0x400d18c70e9dc40!2sVilnius!5e0!3m2!1slt!2slt!4v1634575688446!5m2!1slt!2slt","width","600","height","450","allowfullscreen","","loading","lazy",1,"map",2,"border","0"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"iframe",2),l._UZ(3,"hr"),l.TgZ(4,"ul",3),l.TgZ(5,"li"),l._uU(6,"716-282-9729"),l.qZA(),l.TgZ(7,"li"),l.TgZ(8,"a",4),l._uU(9,"puokste@puokste.ly"),l.qZA(),l.qZA(),l.TgZ(10,"li"),l._uU(11,"7054 Ridge Dr. Brooklyn, NY 11228"),l.qZA(),l.TgZ(12,"li"),l._uU(13,"Brooklyn"),l.qZA(),l.TgZ(14,"li"),l._uU(15,"Darbo laikas: I-V 10:00 - 12:00"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",5),l._UZ(17,"iframe",6),l._UZ(18,"hr"),l.TgZ(19,"ul",3),l.TgZ(20,"li"),l._uU(21,"323-577-6580"),l.qZA(),l.TgZ(22,"li"),l.TgZ(23,"a",4),l._uU(24,"puokste@puokste.ly"),l.qZA(),l.qZA(),l.TgZ(25,"li"),l._uU(26,"909-1/2 E 49th St. Los Angeles, California"),l.qZA(),l.TgZ(27,"li"),l._uU(28,"Los Angeles"),l.qZA(),l.TgZ(29,"li"),l._uU(30,"Darbo laikas: I-V 10:00 - 12:00"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",7),l._UZ(32,"iframe",8),l._UZ(33,"hr"),l.TgZ(34,"ul",3),l.TgZ(35,"li"),l._uU(36,"+370 6123 45678"),l.qZA(),l.TgZ(37,"li"),l.TgZ(38,"a",4),l._uU(39,"puokste@puokste.ly"),l.qZA(),l.qZA(),l.TgZ(40,"li"),l._uU(41,"Ukmerges g. 231"),l.qZA(),l.TgZ(42,"li"),l._uU(43,"Vilnius"),l.qZA(),l.TgZ(44,"li"),l._uU(45,"Darbo laikas: I-V 10:00 - 12:00"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(46,"app-kotaktu-forma"))},directives:[TO],styles:["*[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]{text-align:center;height:30vh;display:flex;background-color:#f4f4ea}#footer[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;justify-content:space-around;margin-top:50px}#listItem[_ngcontent-%COMP%]{list-style-type:none;min-width:300px}#kontaktai1[_ngcontent-%COMP%]{display:flex}#kontaktai2[_ngcontent-%COMP%]{display:flex}#kontaktai3[_ngcontent-%COMP%]{display:flex}.map[_ngcontent-%COMP%]{height:300px;width:300px;border-radius:5px}hr[_ngcontent-%COMP%]{width:58%;margin-bottom:20px;margin-top:20px}#forma[_ngcontent-%COMP%]{height:60vh;display:flex;justify-content:center;align-items:center}"]}),n})();const Rx=[{id:1,title:"Kuprin\u0117",price:109.95,description:"Puiki kuprin\u0117 kasdieniam naudojimui ir pasivaik\u0161\u010diojimams mi\u0161ke trumpoms,ma\u017eoms i\u0161kyloms. Telpa 15 coli\u0173 ne\u0161iojamas kompiuteris ",category:"men's clothing",categories:[1,8],image:"https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg",rating:{rate:3.9,count:120},quantity:30},{id:2,title:"Mar\u0161kin\u0117liai ",price:22.3,description:"Slim-fit stilius, kontrastingos raglanin\u0117s rankov\u0117s, trij\u0173 sag\u0173 \u201eHenley\u201c plok\u0161tel\u0117, lengvas ir mink\u0161tas audinys, leid\u017eiantis kv\u0117puoti ir patogiai d\u0117v\u0117ti. Tvirti susi\u016bti mar\u0161kiniai su apvaliu kaklu, skirti ilgaam\u017ei\u0161kumui.Puikiai tinka kasdieniam d\u0117v\u0117jimui ir kietiems beisbolo gerb\u0117jams. \u012e \u201eHenley\u201c stiliaus apvali\u0105 i\u0161kirpt\u0119 \u012feina trij\u0173 sag\u0173 segtukas.",category:"men's clothing",categories:[1,2],image:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg",rating:{rate:4.1,count:259},quantity:10},{id:3,title:"Striuk\u0117",price:55.99,description:"Puiki striuk\u0117 pavasariui/rudeniui/\u017eiemai.Tinkan\u010dios \u012fvairioms progoms, pavyzd\u017eiui: darbui, \u017eygiams p\u0117s\u010diomis, stovyklavimui, laipiojimui kalnuose/uoloms, va\u017ein\u0117jimui dvira\u010diu, kelion\u0117ms ar kitoms lauko s\u0105lygoms. Geras dovan\u0173 pasirinkimas jums ar j\u016bs\u0173 \u0161eimos nariui. \u0160irdinga meil\u0117 t\u0117\u010diui, vyrui ar s\u016bnui per pad\u0117kos ar Kal\u0117d\u0173 dien\u0105.",category:"men's clothing",categories:[1,2],image:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg",rating:{rate:4.7,count:500},quantity:0},{id:4,title:"Slim-fit ",price:15.99,description:"Spalva ekrane ir realybeje prakti\u0161kai gali \u0161iek tiek skirtis. / Atkreipkite d\u0117mes\u012f, kad k\u016bno formos skiriasi kiekvieno asmenio, tod\u0117l i\u0161sami informacija apie dyd\u012f tur\u0117t\u0173 b\u016bti pateikta \u017eemiau esan\u010diame produkto apra\u0161yme.",category:"men's clothing",categories:[1,2],image:"https://fakestoreapi.com/img/71YXzeOuslL._AC_UY879_.jpg",rating:{rate:2.1,count:430},quantity:2},{id:5,title:"Apyrank\u0117",price:695,description:"I\u0161 m\u016bs\u0173 legendos kolekcijos Naga \u012fkv\u0117p\u0117 mitinis vandens slibinas, saugantis vandenyno perl\u0105. D\u0117v\u0117kite viduje, kad b\u016btum\u0117te apdovanotas meile arba \u012f i\u0161or\u0119 - apsaugai.",category:"jewelery",categories:[4,6],image:"https://fakestoreapi.com/img/71pWzhdJNwL._AC_UL640_QL65_ML3_.jpg",rating:{rate:4.6,count:400},quantity:6},{id:6,title:"Mikropavas ",price:168,description:"Kokyb\u0117 garantuota. Gr\u0105\u017einkite arba keiskite bet kok\u012f kita u\u017esakym\u0105 per 30 dien\u0173. Suk\u016br\u0117 Hafeez Center JAV.",category:"jewelery",categories:[4,6],image:"https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg",rating:{rate:3.9,count:70},quantity:1},{id:7,title:"\u017eiedas 'princes\u0117'",price:9.99,description:"Klasikinis vestuvi\u0173, su\u017ead\u0117tuvi\u0173 deimantinis pa\u017ead\u0173 \u017eiedas jai. Dovanos prad\u017eiuginti j\u016bs\u0173 meil\u0119 su\u017ead\u0117tuv\u0117ms, vestuv\u0117ms, jubiliejui, Valentino dienai ...",category:"jewelery",categories:[4,5],image:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg",rating:{rate:3,count:400},quantity:25},{id:8,title:"Auskarai",price:10.99,description:"Ro\u017einiu auksu padengti auskarai. Pagaminta i\u0161 316L ner\u016bdijan\u010dio plieno",category:"jewelery",categories:[4,5],image:"https://fakestoreapi.com/img/51UDEzMJVpL._AC_UL640_QL65_ML3_.jpg",rating:{rate:1.9,count:100},quantity:5},{id:9,title:"USB flesas",price:64,description:"USB 3.0 ir USB 2.0 suderinamumas Greitas duomen\u0173 perdavimas.Pagerinkite didelio na\u0161umo kompiuter\u012f; Suderinamumo formatuotas NTFS, skirtas \u201eWindows 10\u201c, \u201eWindows 8.1\u201c, \u201eWindows 7\u201c; Gali reik\u0117ti i\u0161 naujo suformatuoti kitas operacines sistemas; Suderinamumas gali skirtis priklausomai nuo vartotojo aparat\u016bros konfig\u016bracijos ir operacin\u0117s sistemos",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg",rating:{rate:3.3,count:203},quantity:110},{id:10,title:"SSD Sandisk",price:109,description:"Lengvas atnaujinimas, skirtas greitesniam \u012fkrovimui, i\u0161jungimui, program\u0173 apkrovai ir atsakui (palyginti su 5400 aps / min SATA 2,5 colio kietuoju disku; remiantis paskelbtomis specifikacijomis ir vidiniais lyginamosios analiz\u0117s bandymais, naudojant \u201ePCMark\u201c prana\u0161umus) Puikus na\u0161umo ir patikimumo balansas iki 535 MB/s/450 MB/s skaitymo/ra\u0161ymo grei\u010dio (remiantis vidiniais bandymais; na\u0161umas gali skirtis priklausomai nuo disko talpos, pagrindinio \u012frenginio, OS ir programos).",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/61U7T1koQqL._AC_SX679_.jpg",rating:{rate:2.9,count:470},quantity:4},{id:11,title:"Silicon Power 256 GB ",price:109,description:" I\u0161pl\u0117stin\u0117 SLC talpyklos technologija leid\u017eia padidinti na\u0161um\u0105 ir ilgesn\u012f 7 mm plono dizaino model\u012f, tinkant\u012f \u201eUltrabooks\u201c ir \u201eUltra-Slim\u201c ne\u0161iojamiesiems kompiuteriams. Palaiko TRIM komand\u0105, \u0161iuk\u0161li\u0173 surinkimo technologij\u0105, RAID ir ECC (klaid\u0173 tikrinimas ir taisymas), kad b\u016bt\u0173 u\u017etikrintas optimalus na\u0161umas ir padidintas patikimumas.",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/71kWymZ+c+L._AC_SX679_.jpg",rating:{rate:4.8,count:319},quantity:0},{id:12,title:"\u017eaidim\u0173 diskas",price:114,description:"I\u0161pl\u0117skite savo PS4 \u017eaidim\u0173 patirt\u012f, \u017eaiskite bet kur. Greitas ir paprastas nustatymas. Eleganti\u0161kas dizainas su didele talpa, 3 met\u0173 gamintojo ribota garantija",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/61mtL65D4cL._AC_SX679_.jpg",rating:{rate:4.8,count:400},quantity:3},{id:13,title:"Televizorius",price:599,description:"21. 5 coli\u0173 \u201eFull HD\u201c (1920 x 1080) pla\u010diaekranis IPS ekranas ir \u201eRadeon free Sync\u201c technologija. N\u0117ra VESA laikiklio atnaujinimo da\u017enio suderinamumo: 75 Hz - naudojant HDMI prievad\u0105 Nulinio r\u0117mo dizainas | itin plonas | 4ms atsako laikas | IPS skydelis Vaizdo santykis - 16: 9. Palaikomos spalvos - 16. 7 milijonai spalv\u0173. Ry\u0161kumas - 250 nit Pakreipimo kampas nuo -5 iki 15 laipsni\u0173. Horizontalus \u017ei\u016br\u0117jimo kampas-178 laipsniai. Vertikalus \u017ei\u016br\u0117jimo kampas-178 laipsniai, 75 hercai",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/81QpkIctqPL._AC_SX679_.jpg",rating:{rate:2.9,count:250},quantity:6},{id:14,title:"Monitorius",price:999.99,description:"49 coli\u0173 SUPER ULTRAWIDE 32: 9 SUKR\u016aTAS \u017dAIDIM\u0172 MONITORIUS su dvigubu 27 coli\u0173 ekranu greta QUANTUM DOT (QLED) TECHNOLOGIJA, HDR palaikymas ir gamyklinis kalibravimas suteikia stulbinan\u010diai tikrovi\u0161k\u0105 ir tiksli\u0105 spalv\u0105 ir kontrast\u0105. pa\u0161alinkite judesio suliejim\u0105, \u0161e\u0161\u0117l\u012f ir suma\u017einkite \u012fvesties dels\u0105",category:"electronics",categories:[7],image:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg",rating:{rate:2.2,count:140},quantity:4},{id:15,title:"snieglen\u010di\u0173 striuk\u0117s",price:56.99,description:"Pastaba: Striuk\u0117s yra JAV standartinio dyd\u017eio, pasirinkite dyd\u012f kaip \u012fprast\u0105 drabu\u017e\u012f Med\u017eiaga: 100% poliesteris; Nuimamas pamu\u0161alo audinys: \u0161iltas vilnos audinys. Nuimamas funkcinis pamu\u0161alas: draugi\u0161kas odai, lengvas ir \u0161iltas. Striuk\u0117s apykakl\u0117s linijin\u0117 striuk\u0117, su\u0161ildys \u0161altu oru. Ki\u0161en\u0117s su u\u017etrauktukais: 2 ki\u0161en\u0117s su u\u017etrauktukais rankose, 2 ki\u0161en\u0117s su u\u017etrauktukais ant kr\u016btin\u0117s (pakanka kortel\u0117ms ar raktams laikyti) ir 1 pasl\u0117pta ki\u0161en\u0117 viduje. U\u017etraukiamos rankin\u0117s ki\u0161en\u0117s ir pasl\u0117pta ki\u0161en\u0117 saugo j\u016bs\u0173 daiktus. Humanizuotas dizainas: reguliuojamas ir nuimamas gaubtas ir reguliuojamas rankogaliai, apsaugantys nuo v\u0117jo ir vandens, patogiai priglunda. Nuimamas dizainas 3 viename suteikia daugiau patogumo, kai reikia, galite atskirti palt\u0105 ir vid\u0173 arba d\u0117v\u0117ti kartu. Jis tinka skirtingam sezonui ir padeda prisitaikyti prie skirtingo klimato",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_.jpg",rating:{rate:2.6,count:235},quantity:12},{id:16,title:"striuk\u0117 su gobtuvu",price:29.95,description:"100% POLIURETANAS (apvalkalas) 100% POLIESTERIS (pamu\u0161alas) 75% POLIESTERIS 25% MEDVILN\u0116 (D\u017eemperis), dirbtin\u0117s odos med\u017eiaga stiliui ir patogumui / 2 ki\u0161en\u0117s priekyje, 2 vienai d\u017einsinio stiliaus dirbtin\u0117s odos striuk\u0117, sagos detal\u0117 ant juosmens / detali\u0173 susiuvimas \u0161onuose, TIK PLAUKIMAS rankomis / NEPALAISYKITE / LINIJOS D\u017dIOVINKITE / NEGALIUOKITE",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/81XH0e8fefL._AC_UY879_.jpg",rating:{rate:2.9,count:340},quantity:4},{id:17,title:"Lietpaltis",price:39.99,description:"Lengvas parfumelis kelionei ar kasdieniam d\u0117v\u0117jimui --- Ilgos rankov\u0117s su gobtuvu, reguliuojamas rai\u0161telio juosmens dizainas. Priekinis u\u017esegamas lietpaltis su sagomis ir u\u017etrauktuku, visi\u0161kai dry\u017euotas su pamu\u0161alu ir lietpaltis turi 2 \u0161onines ki\u0161enes, kuri\u0173 dydis yra tinkamas \u012fvairiems daiktams laikyti, jis dengia klubus, o gaubtas yra dosnus, bet nepersistengia. Reguliuojami rai\u0161teliai suteikia jai tikro stiliaus i\u0161vaizd\u0105.",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/71HblAHs5xL._AC_UY879_-2.jpg",rating:{rate:3.8,count:679},quantity:1},{id:18,title:"Palaidin\u0117",price:9.85,description:"95% RAYON 5% SPANDEX, pagaminta JAV arba importuota, nebalinkite, lengvas audinys, puikiai tampantis patogumui, briaunotas ant rankovi\u0173 ir i\u0161kirpt\u0117s / dvigubas susiuvimas apa\u010dioje",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/71z3kpMAYsL._AC_UY879_.jpg",rating:{rate:4.7,count:130},quantity:0},{id:19,title:"Laisvalaikio maik\u0117",price:7.95,description:"100% poliesteris, skalbimas skalbimo ma\u0161inoje, 100% katijoninis poliesterio blokavimas, skalbimas ma\u0161inoje ir i\u0161 anksto sutrauktas, puikiai tinka, lengvas, erdvus ir labai kv\u0117puojantis su dr\u0117gm\u0119 sugerian\u010diu audiniu, padedan\u010diu i\u0161laikyti dr\u0117gm\u0119, mink\u0161tas lengvas audinys su patogia apykakle V formos. plonesnis, suteikia aptak\u0173, moteri\u0161kesn\u012f siluet\u0105 ir suteikia papildomo komforto",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/51eg55uWmdL._AC_UX679_.jpg",rating:{rate:4.5,count:146},quantity:5},{id:20,title:"moteri\u0161ki mar\u0161kin\u0117liai",price:12.99,description:"95%medviln\u0117s, 5%elastano, savyb\u0117s: kasdienis, trumpomis rankov\u0117mis, raid\u017ei\u0173 atspaudas, V formos i\u0161kirpt\u0117, madingi mar\u0161kin\u0117liai, audinys yra mink\u0161tas ir \u0161iek tiek i\u0161temptas., Proga: kasdienis/biuras/papl\u016bdimys/mokykla/namai/gatv\u0117 Sezonas: pavasaris, vasara, ruduo, \u017eiema.",category:"women's clothing",categories:[1,3],image:"https://fakestoreapi.com/img/61pHAEJ4NML._AC_UX679_.jpg",rating:{rate:3.6,count:145},quantity:6}];let am=(()=>{class n{constructor(){this.items=[],this.kainaAtnaujinta=new lo(!1),this.kaina=0,this.discount=!0,this.palyginimas=[]}addToCart(t){this.items.push(t),this.getItemPrices(),alert("preke priedeta i krepseli, galutine kaina:"+this.kaina),this.kainaAtnaujinta.next(!0)}getItems(){return this.items}getDiscount(t){this.discount?(this.discount=!1,this.kaina=this.kaina-this.kaina/100*t,alert("pritaikyta nuolaida "+t+" Nauja kaina:"+this.kaina.toFixed(2))):alert("nuolaida jau buvo pritaikyta")}getItemPrices(){let t=0;for(let r of this.items)t+=r.price;return this.kaina=t,this.kaina}clearCart(t){this.items=[]}lyginti(t){this.palyginimas.push(t)}gautiPalyginimoMasyva(){return this.palyginimas}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fx=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r,this.userAtnaujinta=new lo(!1)}login(t,r){var a=this;this.afAuth.signInWithEmailAndPassword(t,r).then((0,Ie.Z)(function*(){console.log("AS PRISIJUGES"),a.router.navigate(["/"]),alert("Jus prisijunges:  "+t);var d=yield a.afAuth.currentUser;a.dabartinisUser=d,d&&(console.log("prisijunges vartotojas yra:"),console.log(d)),a.userAtnaujinta.next(!0)}))}emailSignUp(t,r){this.afAuth.createUserWithEmailAndPassword(t,r)}logout(){var t=this;this.afAuth.signOut().then((0,Ie.Z)(function*(){var r=yield t.afAuth.currentUser;t.dabartinisUser=r,t.router.navigate(["/"])})),this.userAtnaujinta.next(!0)}getCurrentUser(){var t=this;return(0,Ie.Z)(function*(){return t.dabartinisUser})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(em),l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AO(n,e){1&n&&(l.TgZ(0,"li"),l.TgZ(1,"a",23),l._uU(2,"Prid\u0117ti produkt\u0105"),l.qZA(),l.qZA())}function SO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"a",24),l.NdJ("click",function(){return l.CHM(t),l.oxw().atsijungti()}),l._uU(2,"Atsijungti"),l.qZA(),l.qZA()}}function xO(n,e){1&n&&(l.TgZ(0,"li"),l.TgZ(1,"a",25),l._uU(2,"Prisijungti"),l.qZA(),l.qZA())}let Fk=(()=>{class n{constructor(t,r){this.cartservisas=t,this.loginInfo=r,this.nePrisijunges="Anonimas",this.suma=this.cartservisas.getItemPrices()}ngOnInit(){var t=this;this.cartservisas.kainaAtnaujinta.subscribe(r=>{!0===r&&(this.suma=this.cartservisas.getItemPrices())}),this.loginInfo.userAtnaujinta.subscribe(function(){var r=(0,Ie.Z)(function*(a){!0===a&&(t.user=yield t.loginInfo.getCurrentUser())});return function(a){return r.apply(this,arguments)}}())}atsijungti(){this.loginInfo.logout()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(am),l.Y36(Fx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-meniu"]],decls:38,vars:9,consts:[["id","header",1,"header"],[1,"container"],[1,"loginInfo"],[1,"logo"],[3,"routerLink"],["src","\\assets\\Puokste_originalus-copy.png","alt",""],["id","menu-header"],["href","#"],["src","\\assets\\FB.png"],["src","\\assets\\INSTA.png"],["src","\\assets\\MSNGR.png"],["src","\\assets\\TWITTER.png"],["id","menu-bar"],[1,"menu"],["routerLink",""],["routerLink","/memory"],["routerLink","/kontaktai"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","krepselis","routerLink","/cart"],["src","\\assets\\6007115_business_buy_cart_market_online_icon.png","alt",""],["id","suma"],["routerLink","/adding"],[3,"click"],["routerLink","/login"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"a",4),l._UZ(7,"img",5),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"a",7),l._UZ(10,"img",8),l.qZA(),l.TgZ(11,"a",7),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"a",7),l._UZ(14,"img",10),l.qZA(),l.TgZ(15,"a",7),l._UZ(16,"img",11),l.qZA(),l.qZA(),l.TgZ(17,"div",12),l.TgZ(18,"ul",13),l.TgZ(19,"li"),l.TgZ(20,"a",14),l._uU(21,"Pagrindinis"),l.qZA(),l.qZA(),l.TgZ(22,"li"),l.TgZ(23,"a",15),l._uU(24,"Atmintukas"),l.qZA(),l.qZA(),l.TgZ(25,"li"),l.TgZ(26,"a",16),l._uU(27,"Kontaktai"),l.qZA(),l.qZA(),l.YNc(28,AO,3,0,"li",17),l.YNc(29,SO,3,0,"li",18),l.YNc(30,xO,3,0,"ng-template",null,19,l.W1O),l.TgZ(32,"li"),l.TgZ(33,"a",20),l._UZ(34,"img",21),l.qZA(),l.TgZ(35,"p",22),l._uU(36),l.ALo(37,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const a=l.MAs(31);l.xp6(4),l.hij("Prisijunges: ",null==r.user?null:r.user.email,""),l.xp6(2),l.Q6J("routerLink",""),l.xp6(22),l.Q6J("ngIf",r.user),l.xp6(1),l.Q6J("ngIf",r.user)("ngIfElse",a),l.xp6(7),l.hij("Suma: ",l.xi3(37,6,r.suma,"1.2-2")," \u20ac")}},directives:[sm,qn],pipes:[Rs],styles:['@import"https://fonts.googleapis.com/css2?family=Noto+Serif:ital@1&display=swap";*[_ngcontent-%COMP%]{overflow:hidden}.loginInfo[_ngcontent-%COMP%]{display:flex;justify-content:end;padding-bottom:10px;margin:2px}.container[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;text-align:left;height:27vh}.header[_ngcontent-%COMP%]{padding:10px 0 0;background:rgb(204,204,128);background:linear-gradient(151deg,rgba(204,204,128,.35057773109243695) 30%,rgba(244,244,234,.8127626050420168) 100%);top:0;width:100%;box-shadow:100px 0 #0000,-30px 0 40px #0000;border-radius:0 0 15% 15%;height:170px;z-index:20000;margin-bottom:40px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;position:relative;left:140px;top:0px;z-index:9999999}ul.menu[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:space-around}ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 15px;display:inline-block;color:#000;font-weight:bold;text-decoration:none}ul.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#6a776981;color:#123c69;transition:1.5s}#menu-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;position:relative;top:-120px}.menu[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 30px;box-shadow:8px 7px 7px #0000000d,0 0 40px #00000008;border-radius:5px}#menu-header[_ngcontent-%COMP%]{position:relative;left:80vw;top:-120px}#menu-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:20px}#krepselis[_ngcontent-%COMP%]{width:53px;height:53px;box-shadow:none;border-radius:50px;padding-bottom:0}#krepselis[_ngcontent-%COMP%]:hover{transform:scale(1.3);background-color:transparent;transition:.3s}#suma[_ngcontent-%COMP%]{display:flex;justify-content:center}.header[_ngcontent-%COMP%]   #krepselis[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}']}),n})();const MO=[{id:1,id_parent:0,title:"Drabu\u017eiai",description:"Naujausi vyr\u0173 ir moter\u0173 drabu\u017eiai"},{id:2,id_parent:1,title:"Vyrams",description:"Naujausi drabu\u017eiai vyrams"},{id:3,id_parent:1,title:"Moterims",description:"Naujausi drabu\u017eiai moterims"},{id:4,id_parent:0,title:"Juvelyrika",description:"Aksesuarai norintiems gyventi gra\u017eiai"},{id:5,id_parent:4,title:"\u017diedai",description:"\u017eiedai kiekvienai progai"},{id:6,id_parent:4,title:"Apyrank\u0117s",description:"Apyrank\u0117s kiekvienam"},{id:7,id_parent:0,title:"Elektronika",description:"21 am\u017eiaus elektronika"},{id:8,id_parent:1,title:"Aksesuarai",description:"Kiti aksesuarai"}];let Lx=(()=>{class n{constructor(){this.emitter=new l.vpe,this.catId=0}getID(){return this.catId}changeID(t){this.catId=t}getLocation(){return location.pathname.includes("kategorija")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lk=function(n){return["/kategorija",n]};function kO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"a",5),l.NdJ("click",function(){const d=l.CHM(t).$implicit;return l.oxw().mygtukas(d.id_parent)}),l._uU(2),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("title",t.title+" "+t.description)("routerLink",l.VKq(3,Lk,t.id)),l.xp6(1),l.hij(" ",t.title," ")}}function PO(n,e){if(1&n&&(l.TgZ(0,"li"),l.TgZ(1,"a",6),l._uU(2,"\xab Atgal"),l.qZA(),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("routerLink",l.VKq(1,Lk,t.currentParent))}}let Q_=(()=>{class n{constructor(t,r,a,d){this.cartServisas=t,this.catID=r,this.route=a,this.router=d,this.products=Rx,this.categories=MO,this.currentCategoryId=this.catID.getID(),this.currentCategories=this.getCategoryByParent(this.currentCategoryId),this.currentParent=this.getParentId(),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){}getParentId(){for(let t of this.categories)if(this.currentCategoryId==t.id)return t.id_parent;return 0}mygtukas(t){this.currentCategoryId=t}getProductsByCategory(t){if(!t)return this.products;let r=[];for(let a of this.products)a.categories.indexOf(t)>-1&&r.push(a);return r}getCategoryByParent(t){let r=[];console.log("id parent from left : "+t);for(let a of this.categories)a.id_parent==t&&r.push(a);return r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(am),l.Y36(Lx),l.Y36(Vo),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-left-category"]],decls:5,vars:2,consts:[["id","kategorijos"],["id","produktu-kategorijos"],["id","kategoriju-listas"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","on",3,"title","routerLink","click"],[3,"routerLink"]],template:function(t,r){1&t&&(l.TgZ(0,"aside",0),l.TgZ(1,"div",1),l.TgZ(2,"ul",2),l.YNc(3,kO,3,5,"li",3),l.YNc(4,PO,3,3,"li",4),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("ngForOf",r.currentCategories),l.xp6(1),l.Q6J("ngIf",r.currentCategoryId>0))},directives:[Fn,qn,sm,kx],styles:['#kategorijos[_ngcontent-%COMP%]{margin-top:20px;float:left}#kategoriju-listas[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:15px}#kategoriju-listas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#313131;font-size:17px;font-family:"Noto Serif",serif}#kategoriju-listas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#31313179;transition:.2s}#produktu-kategorijos[_ngcontent-%COMP%]{background-color:#f4f4ea;text-decoration:none;display:flex;width:300px;height:400px;margin-bottom:45px;position:sticky;top:400px}']}),n})(),OO=(()=>{class n{constructor(){this.prekes=Rx}ngOnInit(){}bandymas(t){switch(this.prekes.sort(function(O,H){return H.price<O.price?1:H.price>O.price?-1:0}),this.prekes.sort(function(O,H){return H.title>O.title?1:H.title<O.title?-1:0}),this.prekes.sort(function(O,H){return H.rating.rate<O.rating.rate?1:H.rating.rate>O.rating.rate?-1:0}),this.prekes.sort(function(O,H){return H.rating.rate>O.rating.rate?1:H.rating.rate<O.rating.rate?-1:0}),this.prekes.sort(function(O,H){return H.rating.rate>O.rating.rate?1:H.rating.rate<O.rating.rate?-1:0}),t){case"123":this.prekes=this.prekes.sort(function(O,H){return H.price>O.price?1:H.price<O.price?-1:0});break;case"234":this.prekes=this.prekes.sort(function(O,H){return H.title<O.title?1:H.title>O.title?-1:0});break;case"345":this.prekes=this.prekes.sort(function(O,H){return H.rating.rate>O.rating.rate?1:H.rating.rate<O.rating.rate?-1:0})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pagrindinis"]],decls:6,vars:0,template:function(t,r){1&t&&(l._UZ(0,"app-meniu"),l._UZ(1,"app-left-category"),l.TgZ(2,"p"),l._uU(3,"Bandymas balsavimo"),l.qZA(),l.TgZ(4,"p"),l._uU(5,"mums reikes prekes Id ir reitingo pasirinkimo"),l.qZA())},directives:[Fk,Q_],styles:[""]}),n})(),NO=(()=>{class n{constructor(t){this.login=t}ngOnInit(){}loginForma(t){console.log(t.value);let r=JSON.stringify(t.value);console.log(r),this.login.login(t.value.email,t.value.password)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[["ngNativeValidate","",3,"ngSubmit"],["manoForma","ngForm"],["for","1"],["id","1","type","email","name","email","required","","ngModel",""],["for","2"],["id","2","type","password","name","password","required","","ngModel",""],["routerLink","/pass-recover"],["type","submit"],["routerLink","/registracija"]],template:function(t,r){if(1&t){const a=l.EpF();l.TgZ(0,"h1"),l._uU(1,"Prisijungti prie eshopo"),l.qZA(),l.TgZ(2,"form",0,1),l.NdJ("ngSubmit",function(){l.CHM(a);const p=l.MAs(3);return r.loginForma(p)}),l.TgZ(4,"label",2),l._uU(5,"El. pa\u0161to adresas"),l.qZA(),l._UZ(6,"input",3),l.TgZ(7,"label",4),l._uU(8,"Slapta\u017eodis"),l.qZA(),l._UZ(9,"input",5),l.TgZ(10,"a",6),l._uU(11,"Priminti slapta\u017eod\u012f"),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"button",7),l._uU(14,"Prisijungti"),l.qZA(),l._UZ(15,"br"),l.TgZ(16,"a",8),l._uU(17,"Esate naujas vartotojas? Registruokit\u0117s"),l.qZA(),l.qZA()}},directives:[Tr,ra,Ei,$a,Ir,Bc,sm],styles:["form[_ngcontent-%COMP%]{margin-left:40px;margin-top:30px;width:300px;display:flex;justify-content:center;flex-direction:column}"]}),n})(),RO=(()=>{class n{constructor(){}ngOnInit(){}recoverForma(t){console.log(t.value);let r=JSON.stringify(t.value);console.log(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pass-recover"]],decls:13,vars:0,consts:[["ngNativeValidate","",3,"ngSubmit"],["manoForma","ngForm"],["for","1"],["id","1","type","email","name","email","required","","ngModel",""],["type","submit"]],template:function(t,r){if(1&t){const a=l.EpF();l.TgZ(0,"h1"),l._uU(1,"Priminti slapta\u017eod\u012f"),l.qZA(),l._UZ(2,"br"),l._UZ(3,"br"),l.TgZ(4,"form",0,1),l.NdJ("ngSubmit",function(){l.CHM(a);const p=l.MAs(5);return r.recoverForma(p)}),l.TgZ(6,"label",2),l._uU(7,"El. pa\u0161to adresas: "),l.qZA(),l._UZ(8,"input",3),l._UZ(9,"br"),l._UZ(10,"br"),l.TgZ(11,"button",4),l._uU(12,"Priminti slapta\u017eod\u012f"),l.qZA(),l.qZA()}},directives:[Tr,ra,Ei,$a,Ir,Bc],styles:[""]}),n})();function FO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite vard\u0105"),l.qZA())}function LO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite pavard\u0119"),l.qZA())}function VO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite E-maila"),l.qZA())}function UO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite slapta\u017eod\u012f"),l.qZA())}function jO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"Pakartokite slapta\u017eod\u012f"),l.qZA())}function BO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"Slapta\u017eodis nesutampa. Min. ilgis 8 simboliai"),l.qZA())}function ZO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"\u012eveskite telefono numeri"),l.qZA())}function HO(n,e){1&n&&(l.TgZ(0,"small"),l._uU(1,"Blogas telefono numeris"),l.qZA())}function $O(n,e){if(1&n&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",12),l.xp6(1),l.Oqu(t.name)}}function qO(n,e){1&n&&(l.TgZ(0,"div",43),l.TgZ(1,"label",54),l._uU(2,"PVM moketojo kodas"),l.qZA(),l._UZ(3,"input",55),l.qZA())}function GO(n,e){if(1&n&&(l.TgZ(0,"div",43),l.TgZ(1,"label",44),l._uU(2,"Imones pavadinimas"),l.qZA(),l._UZ(3,"input",45),l.TgZ(4,"label",46),l._uU(5,"Imones kodas"),l.qZA(),l._UZ(6,"input",47),l.TgZ(7,"label",48),l._uU(8,"Ar imone pvm moketoja?"),l.qZA(),l._UZ(9,"input",49),l.YNc(10,qO,4,0,"div",36),l.TgZ(11,"label",50),l._uU(12,"Registracijos adresas"),l.qZA(),l._UZ(13,"input",51),l.TgZ(14,"label",52),l._uU(15,"Direktoriaus vardas, pavard\u0117"),l.qZA(),l._UZ(16,"input",53),l.qZA()),2&n){l.oxw();const t=l.MAs(3);l.xp6(10),l.Q6J("ngIf",null==t.controls.arMoketojas?null:t.controls.arMoketojas.value)}}let zO=(()=>{class n{constructor(t){this.authService=t,this.valstybes=[{id:1,name:"Lietuva"},{id:2,name:"Latvija"},{id:3,name:"Estija"},{id:4,name:"Lenkija"}]}ngOnInit(){}pateiktiForma(t){console.log(t.value);let r=JSON.stringify(t.value);console.log(r),console.log(t.value.email),console.log(t.value.password),this.authService.emailSignUp(t.value.email,t.value.password)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registracija"]],decls:75,vars:11,consts:[["ngNativeValidate","",3,"ngSubmit"],["manoForma","ngForm"],["for","1"],["id","1","type","text","name","vardas","required","","ngModel",""],["vardas","ngModel"],[4,"ngIf"],["for","2"],["id","2","type","text","name","pavarde","required","","ngModel",""],["pavarde","ngModel"],["for","3"],["id","3","type","email","name","email","required","","ngModel",""],["email","ngModel"],["for","4"],["id","4","type","password","name","password","minlength","8","required","","ngModel",""],["password","ngModel"],["for","5"],["id","5","type","password","name","cfpassword","required","","ngModel",""],["cfpassword","ngModel"],["for","6"],["id","6","type","string","name","telefonoNr","required","","ngModel","","pattern","(86\\d{7}|\\+3706\\d{7})"],["telefonoNr","ngModel"],["for","7"],["id","7","type","date","name","gimimoData","ngModel",""],["for","8"],["id","8","type","text","name","gatve","ngModel",""],["for","9"],["id","9","type","text","name","namoNr","ngModel",""],["for","10"],["id","10","type","text","name","butoNr","ngModel",""],["for","11"],["id","11","type","text","name","pastoKodas","ngModel",""],["for","12"],["id","12","type","text","name","valstybe","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["for","13"],["id","13","type","checkbox","name","arSaskaita","value","false","ngModel","",1,"perkelti"],["class","pvm",4,"ngIf"],["for","20"],["id","20","type","checkbox","name","taisykles","value","false","ngModel","","required",""],["for","21"],["id","21","type","checkbox","name","naujienos","value","false","ngModel",""],["type","submit",3,"disabled"],[3,"value"],[1,"pvm"],["for","14"],["id","14","type","text","name","pavadinimas","ngModel","","required",""],["for","15"],["id","15","type","number","name","kodas","ngModel",""],["for","16"],["id","16","type","checkbox","name","arMoketojas","value","false","ngModel",""],["for","18"],["id","18","type","text","name","adresas","ngModel",""],["for","19"],["id","19","type","text","name","dirVardasPavarde","ngModel",""],["for","17"],["id","17","type","text","name","pvmKodas","ngModel",""]],template:function(t,r){if(1&t){const a=l.EpF();l.TgZ(0,"h1"),l._uU(1,"Pirk\u0117jo registracijos forma"),l.qZA(),l.TgZ(2,"form",0,1),l.NdJ("ngSubmit",function(){l.CHM(a);const p=l.MAs(3);return r.pateiktiForma(p)}),l.TgZ(4,"label",2),l._uU(5,"Vardas"),l.qZA(),l._UZ(6,"input",3,4),l.YNc(8,FO,2,0,"small",5),l.TgZ(9,"label",6),l._uU(10,"Pavard\u0117"),l.qZA(),l._UZ(11,"input",7,8),l.YNc(13,LO,2,0,"small",5),l.TgZ(14,"label",9),l._uU(15,"El. pa\u0161to adresas"),l.qZA(),l._UZ(16,"input",10,11),l.YNc(18,VO,2,0,"small",5),l.TgZ(19,"label",12),l._uU(20,"Slapta\u017eodis"),l.qZA(),l._UZ(21,"input",13,14),l.YNc(23,UO,2,0,"small",5),l.TgZ(24,"label",15),l._uU(25,"Pakartoti slapta\u017eod\u012f"),l.qZA(),l._UZ(26,"input",16,17),l.YNc(28,jO,2,0,"small",5),l.YNc(29,BO,2,0,"small",5),l.TgZ(30,"label",18),l._uU(31,"Telefono nr."),l.qZA(),l._UZ(32,"input",19,20),l.YNc(34,ZO,2,0,"small",5),l.YNc(35,HO,2,0,"small",5),l.TgZ(36,"label",21),l._uU(37,"Gimimo data"),l.qZA(),l._UZ(38,"input",22),l._UZ(39,"br"),l.TgZ(40,"label"),l._uU(41,"Pristatymo adresas:"),l.qZA(),l._UZ(42,"br"),l.TgZ(43,"label",23),l._uU(44,"Gatv\u0117s pavadinimas"),l.qZA(),l._UZ(45,"input",24),l.TgZ(46,"label",25),l._uU(47,"Namo numeris"),l.qZA(),l._UZ(48,"input",26),l.TgZ(49,"label",27),l._uU(50,"Buto numeris"),l.qZA(),l._UZ(51,"input",28),l.TgZ(52,"label",29),l._uU(53,"Pa\u0161to kodas"),l.qZA(),l._UZ(54,"input",30),l.TgZ(55,"label",31),l._uU(56,"Valstyb\u0117"),l.qZA(),l.TgZ(57,"select",32),l.YNc(58,$O,2,2,"option",33),l.qZA(),l._UZ(59,"br"),l._UZ(60,"br"),l.TgZ(61,"label",34),l._uU(62,"Ar reikalinga PVM s\u0105skaita fakt\u016bra?"),l.qZA(),l._UZ(63,"input",35),l.YNc(64,GO,17,1,"div",36),l._UZ(65,"br"),l._UZ(66,"br"),l.TgZ(67,"label",37),l._uU(68,"Sutinku su eshopo taisyklemis ir s\u0105lygomis"),l.qZA(),l._UZ(69,"input",38),l.TgZ(70,"label",39),l._uU(71,"Prenumeruoti naujienlai\u0161k\u012f"),l.qZA(),l._UZ(72,"input",40),l.TgZ(73,"button",41),l._uU(74,"Registruotis"),l.qZA(),l.qZA()}if(2&t){const a=l.MAs(3),d=l.MAs(7),p=l.MAs(12),_=l.MAs(17),w=l.MAs(22),S=l.MAs(27),k=l.MAs(33);l.xp6(8),l.Q6J("ngIf",d.touched&&!d.valid),l.xp6(5),l.Q6J("ngIf",p.touched&&!p.valid),l.xp6(5),l.Q6J("ngIf",_.touched&&!_.valid),l.xp6(5),l.Q6J("ngIf",(w.touched||a.submitted)&&(null==w.errors?null:w.errors.required)),l.xp6(5),l.Q6J("ngIf",(w.touched||a.submitted)&&(null==w.errors?null:w.errors.required)),l.xp6(1),l.Q6J("ngIf",(w.touched||a.submitted)&&w.errors||w.value!=S.value),l.xp6(5),l.Q6J("ngIf",k.touched&&!k.valid),l.xp6(1),l.Q6J("ngIf",(k.touched||a.submitted)&&!k.valid),l.xp6(23),l.Q6J("ngForOf",r.valstybes),l.xp6(6),l.Q6J("ngIf",null==a.controls.arSaskaita?null:a.controls.arSaskaita.value),l.xp6(9),l.Q6J("disabled",!a.valid)}},directives:[Tr,ra,Ei,$a,Ir,Bc,qn,Nl,qc,Ol,Fn,wl,$c,np,ip,_h],styles:["form[_ngcontent-%COMP%]{margin-left:40px;margin-top:30px;width:300px;display:flex;justify-content:center;flex-direction:column}.pvm[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}small[_ngcontent-%COMP%]{color:red}"]}),n})();function WO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",32),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw().addToCart(a)}),l._uU(1,"Pirkti "),l.qZA()}}function KO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",32),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw().inform(a)}),l._uU(1,"Domina"),l.qZA()}}const Vk=function(n){return["/produktas",n]};function YO(n,e){if(1&n&&(l.TgZ(0,"div",23),l._UZ(1,"img",24),l.TgZ(2,"div",25),l.TgZ(3,"div",26),l.TgZ(4,"a",27),l.TgZ(5,"h2"),l._uU(6),l.ALo(7,"slice"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",28),l.TgZ(9,"div",29),l.YNc(10,WO,2,0,"button",30),l.YNc(11,KO,2,0,"button",30),l.TgZ(12,"span",31),l._uU(13),l.ALo(14,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(15,Vk,t.id))("src",t.image,l.LSH),l.xp6(3),l.Q6J("title",t.title+" details")("routerLink",l.VKq(17,Vk,t.id)),l.xp6(2),l.hij(" ",t.title.length>22?l.Dn7(7,8,t.title,0,22)+"...":t.title," "),l.xp6(4),l.Q6J("ngIf",t.quantity>0),l.xp6(1),l.Q6J("ngIf",0==t.quantity),l.xp6(2),l.hij("",l.xi3(14,12,t.price,"1.2-2")," \u20ac")}}let WD=(()=>{class n{constructor(t,r,a,d,p){this.firestore=t,this.cartServisas=r,this.sendID=a,this.route=d,this.router=p,this.produktuMasyvas=[],this.kategorijuMasyvas=[],this.products=[],this.categories=[],this.currentCategoryId=Number(this.route.snapshot.paramMap.get("idCategory")),this.currentCategories=this.getCategoryByParent(this.currentCategoryId),this.currentProducts=this.getProductsByCategory(this.currentCategoryId),this.allProducts=this.currentProducts,this.currentParent=this.getParentId(),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.firestore.collection("Produktai").valueChanges().subscribe(_=>{this.products=_,this.currentProducts=this.getProductsByCategory(this.currentCategoryId)}),this.firestore.collection("Kategorijos").valueChanges().subscribe(_=>{this.categories=_,this.currentCategories=this.getCategoryByParent(this.currentCategoryId),this.currentProducts=this.getProductsByCategory(this.currentCategoryId)})}ngOnInit(){}sortByValue(t){switch(t){case"price1":this.currentProducts=this.currentProducts.sort(function(r,a){return a.price<r.price?1:a.price>r.price?-1:0});break;case"price2":this.currentProducts=this.currentProducts.sort(function(r,a){return a.price>r.price?1:a.price<r.price?-1:0});break;case"name2":this.currentProducts=this.currentProducts.sort(function(r,a){return a.title>r.title?1:a.title<r.title?-1:0});break;case"name1":this.currentProducts=this.currentProducts.sort(function(r,a){return a.title<r.title?1:a.title>r.title?-1:0});break;case"rate2":this.currentProducts=this.currentProducts.sort(function(r,a){return a.rating.rate<r.rating.rate?1:a.rating.rate>r.rating.rate?-1:0});break;case"rate1":this.currentProducts=this.currentProducts.sort(function(r,a){return a.rating.rate>r.rating.rate?1:a.rating.rate<r.rating.rate?-1:0});break;case"count1":this.currentProducts=this.currentProducts.sort(function(r,a){return a.rating.count>r.rating.count?1:a.rating.count<r.rating.count?-1:0});break;case"count2":this.currentProducts=this.currentProducts.sort(function(r,a){return a.rating.count<r.rating.count?1:a.rating.count>r.rating.count?-1:0});break;case"quantity1":this.currentProducts=this.currentProducts.sort(function(r,a){return a.quantity<r.quantity?1:a.quantity>r.quantity?-1:0});break;case"quantity2":this.currentProducts=this.currentProducts.sort(function(r,a){return a.quantity>r.quantity?1:a.quantity<r.quantity?-1:0});break;default:this.currentProducts=this.currentProducts.sort(function(r,a){return a.id<r.id?1:a.id>r.id?-1:0})}}getParentId(){for(let t of this.categories)if(this.currentCategoryId==t.id)return t.id_parent;return 0}ieskojimas(t){let r=t.target.value;""==t&&(this.currentProducts=this.allProducts),this.currentProducts=this.allProducts.filter(a=>a.title.includes(r))}getProductsByCategory(t){var r;if(console.log("bando gauti produktus"),!t)return console.log(this.products),this.products;let a=[];for(let d of this.products)console.log(d.categories),(null===(r=d.categories)||void 0===r?void 0:r.indexOf(t))>-1&&a.push(d);return a}addToCart(t){this.cartServisas.addToCart(t)}getCategoryByParent(t){console.log("idParent from category: "+t);let r=[];console.log("KATEGORIJOS"),console.log(this.categories);for(let a of this.categories)a.id_parent==t&&r.push(a);return this.sendID.changeID(t),this.sendID.emitter.emit(),r}inform(t){alert(" Atsipra\u0161ome, kad prek\u0117s "+t.title+" nebeturime, informuosime Jus kai v\u0117l tur\u0117sime")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xf),l.Y36(am),l.Y36(Lx),l.Y36(Vo),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-produktu-kategorijos"]],decls:39,vars:1,consts:[[1,"paieska"],[1,"paieskosLaukelis",3,"input"],[1,"sorting"],[3,"change"],["sortSelect",""],["selected","","value","default"],["label","Kaina"],["value","price1"],["value","price2"],["label","Pavadinimas"],["value","name1"],["value","name2"],["label","Likutis sand\u0117lyje"],["value","quantity2"],["value","quantity1"],["label","Reitingas"],["value","rate1"],["value","rate2"],["label","Vertinimai"],["value","count1"],["value","count2"],["id","produktai"],["class","product-container",4,"ngFor","ngForOf"],[1,"product-container"],[3,"routerLink","src"],[1,"apiePreke"],[1,"product-title-container"],["routerLinkActive","on",3,"title","routerLink"],[1,"product-bottom"],[1,"product-bottom-content"],["class","mygtukas",3,"click",4,"ngIf"],[1,"kaina"],[1,"mygtukas",3,"click"]],template:function(t,r){if(1&t){const a=l.EpF();l._UZ(0,"app-left-category"),l.TgZ(1,"div",0),l.TgZ(2,"p"),l._uU(3,"Produkt\u0173 paie\u0161ka"),l.qZA(),l.TgZ(4,"input",1),l.NdJ("input",function(p){return r.ieskojimas(p)}),l.qZA(),l.qZA(),l.TgZ(5,"div"),l._UZ(6,"app-karusele"),l.qZA(),l.TgZ(7,"div",2),l.TgZ(8,"select",3,4),l.NdJ("change",function(){l.CHM(a);const p=l.MAs(9);return r.sortByValue(p.value)}),l.TgZ(10,"option",5),l._uU(11,"Rikiuoti pagal"),l.qZA(),l.TgZ(12,"optgroup",6),l.TgZ(13,"option",7),l._uU(14,"Pagal kain\u0105 nuo ma\u017eiausios"),l.qZA(),l.TgZ(15,"option",8),l._uU(16,"Pagal kain\u0105 nuo did\u017eiausios"),l.qZA(),l.qZA(),l.TgZ(17,"optgroup",9),l.TgZ(18,"option",10),l._uU(19,"Pagal pavadinim\u0105 nuo A iki \u017d"),l.qZA(),l.TgZ(20,"option",11),l._uU(21,"Pagal pavadinim\u0105 nuo \u017d iki A"),l.qZA(),l.qZA(),l.TgZ(22,"optgroup",12),l.TgZ(23,"option",13),l._uU(24,"Pagal likut\u012f nuo did\u017eiausio"),l.qZA(),l.TgZ(25,"option",14),l._uU(26,"Pagal likut\u012f nuo ma\u017eiausio"),l.qZA(),l.qZA(),l.TgZ(27,"optgroup",15),l.TgZ(28,"option",16),l._uU(29,"Pagal reiting\u0105 nuo geriausio"),l.qZA(),l.TgZ(30,"option",17),l._uU(31,"Pagal reiting\u0105 nuo blogiausio"),l.qZA(),l.qZA(),l.TgZ(32,"optgroup",18),l.TgZ(33,"option",19),l._uU(34,"Pagal vertinim\u0173 kiek\u012f nuo did\u017eiausio"),l.qZA(),l.TgZ(35,"option",20),l._uU(36,"Pagal vertinim\u0173 kiek\u012f nuo ma\u017eiausio"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(37,"div",21),l.YNc(38,YO,15,19,"div",22),l.qZA()}2&t&&(l.xp6(38),l.Q6J("ngForOf",r.currentProducts))},styles:['#kategorijos[_ngcontent-%COMP%]{margin-top:20px;float:left}#kategoriju-listas[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:15px}#kategoriju-listas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#313131;font-size:17px;font-family:"Noto Serif",serif}#kategoriju-listas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#31313179;transition:.2s}#produktu-kategorijos[_ngcontent-%COMP%]{background-color:#f4f4ea;text-decoration:none;display:flex;width:300px;height:400px;margin-bottom:45px;position:sticky;top:400px}#produktai[_ngcontent-%COMP%]{width:calc(100% - 330px);float:left}.paieska[_ngcontent-%COMP%]{display:flex;justify-content:right;flex-direction:row}.paieska[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:20px;margin-top:20px;width:150px}.paieskosLaukelis[_ngcontent-%COMP%]{margin-top:20px;width:200px}.sorting[_ngcontent-%COMP%]{margin:5px 40px 5px 5px;float:right}.sorting[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:12px;font-weight:normal;font-family:Arial,Helvetica,sans-serif}',"#produktai[_ngcontent-%COMP%]{padding:15px 10px 10px;display:flex;flex-wrap:wrap;justify-content:flex-start}.product-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;width:230px;height:333px;height:-moz-fit-content;height:fit-content;margin-bottom:20px;margin-right:calc((100% - 234px * 4) / 3);background-color:#f7f7f7af;border-radius:20px}.product-container[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.product-container[_ngcontent-%COMP%]:hover{box-shadow:5px 5px 15px 5px #999}.product-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:190px;height:220px;border:none}.product-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:150px;margin:20px auto 10px;border:solid 20px #ffffff}.mygtukas[_ngcontent-%COMP%]{background-color:#f5f5f5;width:100px;height:30px;margin-right:10px;justify-content:center;align-items:center;border-radius:30px;font-weight:bold;font-size:16px;border:solid 3px chocolate;color:#000}.mygtukas[_ngcontent-%COMP%]:hover{border-color:#6d340c;background-color:#80808033}.apiePreke[_ngcontent-%COMP%]{margin-bottom:5px}.kaina[_ngcontent-%COMP%]{display:inline-flex;margin:5px;color:#d2691e;font-size:20px;font-weight:bold}.product-title-container[_ngcontent-%COMP%]{position:relative;line-height:55px;height:55px;margin-bottom:10px}.product-title-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.product-title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 10px);line-height:24px;text-decoration:none;color:#333}.product-title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#333}.product-title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d2691e}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:5px;padding:5px}.product-bottom[_ngcontent-%COMP%]{text-align:center;width:100%;margin-bottom:10px}.product-bottom-content[_ngcontent-%COMP%]{display:inline-block}.compare[_ngcontent-%COMP%]{height:50px;width:50px}"]}),n})();function JO(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("Preki\u0173 likutis: ",t.currentPreke.quantity,"")}}function QO(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.TgZ(2,"span",13),l._uU(3," Paskutin\u0117 prek\u0117 "),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" Preki\u0173 likutis: ",t.currentPreke.quantity," ")}}function XO(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"Prek\u0117s n\u0117ra sand\u0117lyje"),l.qZA())}function eN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return a.addTOCart(a.currentPreke)}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw(2);l.xp6(1),l.hij("Pirkti ",t.currentPreke.price," \u20ac")}}function tN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return a.inform(a.currentPreke)}),l._uU(1,"Domina"),l.qZA()}}function nN(n,e){if(1&n&&(l.TgZ(0,"div"),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4),l._UZ(5,"input",5),l.TgZ(6,"label",6),l._uU(7,"\u012etraukti \u012f palyginim\u0105"),l.qZA(),l.qZA(),l.TgZ(8,"div",7),l.TgZ(9,"div",8),l.TgZ(10,"h1"),l._uU(11),l.qZA(),l.TgZ(12,"p",9),l._uU(13),l.qZA(),l.YNc(14,JO,2,1,"p",0),l.YNc(15,QO,4,1,"p",0),l.YNc(16,XO,2,0,"p",0),l.qZA(),l.TgZ(17,"div",10),l.TgZ(18,"p",11),l._uU(19),l.qZA(),l.YNc(20,eN,2,1,"button",12),l.YNc(21,tN,2,0,"button",12),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("src",t.currentPreke.image,l.LSH),l.xp6(2),l.Q6J("checked",t.palyginti(t.currentPreke)),l.xp6(6),l.Oqu(t.currentPreke.title),l.xp6(2),l.AsE("Reitingas: ",t.currentPreke.rating.rate," balsavo: ",t.currentPreke.rating.count,""),l.xp6(1),l.Q6J("ngIf",t.currentPreke.quantity>1),l.xp6(1),l.Q6J("ngIf",1==t.currentPreke.quantity),l.xp6(1),l.Q6J("ngIf",t.currentPreke.quantity<1),l.xp6(3),l.Oqu(t.currentPreke.description),l.xp6(1),l.Q6J("ngIf",t.currentPreke.quantity>=1),l.xp6(1),l.Q6J("ngIf",t.currentPreke.quantity<1)}}function rN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"p"),l._uU(2," preke nerasta"),l.qZA(),l.TgZ(3,"button",14),l.NdJ("click",function(){return l.CHM(t),l.oxw().funkcija()}),l._uU(4,"kazkas"),l.qZA(),l.qZA()}}let Uk=(()=>{class n{constructor(t,r,a,d){this.route=t,this.router=r,this.firebase=a,this.cartServisas=d,this.prekes=[],this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.firebase.collection("Produktai").valueChanges().subscribe(p=>this.prekes=p)}ngOnInit(){const r=Number(this.route.snapshot.paramMap.get("idProduct"));this.currentPreke=Rx.find(a=>a.id===r)}addTOCart(t){this.cartServisas.addToCart(t)}inform(t){alert(" Atsipra\u0161ome, kad prek\u0117s "+t.title+" nebeturime, informuosime Jus kai v\u0117l tur\u0117sime")}palyginti(t){this.cartServisas.lyginti(t)}funkcija(){for(let t of this.prekes)alert("Prekes informacija gritai atsiras. Atsipra\u0161ome.")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vo),l.Y36(yi),l.Y36(xf),l.Y36(am))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-produkto-details"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"main"],[1,"main1"],[3,"src"],[1,"palyginti"],["type","checkbox","id","palyginti","name","palyginti[]",3,"checked"],["for","palyginti"],[1,"main20"],[1,"main2"],[1,"reitingas"],[1,"main22"],[1,"description"],[3,"click",4,"ngIf"],[1,"last"],[3,"click"]],template:function(t,r){1&t&&(l._UZ(0,"app-left-category"),l.YNc(1,nN,22,11,"div",0),l.YNc(2,rN,5,0,"div",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.currentPreke),l.xp6(1),l.Q6J("ngIf",!r.currentPreke))},styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around}.main[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;margin-right:20px;margin-left:20px;padding:10px}.main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;background-color:#d2691e;justify-content:center;align-items:center;border-radius:30px;font-weight:bold;font-size:16px;border:solid 3px chocolate;color:#fff}.main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#6d340c}.description[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:20px;text-align:left;padding:10px}.main20[_ngcontent-%COMP%]{flex-direction:column}.main2[_ngcontent-%COMP%]{flex:1;text-align:center;height:200px;justify-content:space-around;margin-top:10px;display:flex;flex-direction:column}.main22[_ngcontent-%COMP%]{flex:1;text-align:center;height:400px;justify-content:space-around;margin-right:100px;margin-left:50px;display:flex;flex-direction:column}h1[_ngcontent-%COMP%]{font-size:70px}.reitingas[_ngcontent-%COMP%]{font-size:12px;margin-top:10px}.last[_ngcontent-%COMP%]{display:inline-block;color:brown;font-size:30px;animation:paskutine 2s infinite}@keyframes paskutine{0%{color:brown;border:brown 2px dotted;background-image:linear-gradient(rgb(255,255,255),rgb(223,156,11))}50%{color:#dc143c;border-radius:50%;border:brown 2px dotted;background-image:linear-gradient(rgb(223,156,11),white)}to{color:brown;border:brown 2px dotted;background-image:linear-gradient(rgb(255,255,255),rgb(223,156,11))}}.palyginti[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();function iN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"h1"),l._uU(2,'\u017daisk "memory" \u017eaidim\u0105 ir gauk Savo nuolaid\u0105 visoms prek\u0117ms'),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"div",4),l.TgZ(7,"button",5),l.NdJ("click",function(){return l.CHM(t),l.oxw().usedClases(1)}),l._uU(8,"Padidinti"),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().usedClases(-1)}),l._uU(10,"Sumazinti"),l.qZA(),l.qZA(),l.TgZ(11,"div"),l.TgZ(12,"button",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().starting()}),l._uU(13,"Pradedam"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(4),l.AsE("Skirting\u0173 element\u0173 kiekis: ",t.maxUsedClasses," suteikiama nuolaida: ",t.maxUsedClasses-1,"%")}}const sN=function(n){return{flex:n}};function oN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.NdJ("click",function(){const d=l.CHM(t).index;return l.oxw(2).flip(d)}),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(2);l.Q6J("ngStyle",l.VKq(2,sN,r.maxUsedClasses%2==0&&r.maxUsedClasses<16?"25%":r.maxUsedClasses%3==0&&r.maxUsedClasses<22?"16.6%":r.maxUsedClasses%4==0&&r.maxUsedClasses<61?"12.5%":r.maxUsedClasses%5==0&&r.maxUsedClasses<44?"20%":"1")),l.xp6(1),l.Q6J("className",t.open?t.className:"full")}}function aN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"div",7),l.YNc(2,oN,2,4,"div",8),l.qZA(),l.TgZ(3,"button",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().restarting()}),l._uU(4,"Is naujo"),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.shuffledCards)}}function uN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"p"),l._uU(2),l.qZA(),l.TgZ(3,"button",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().getDiscount()}),l._uU(4,"\u010cia J\u016bs\u0173 nuolaida"),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.hij("Laimejote (bus nuolaida ",t.maxUsedClasses,")%")}}let lN=(()=>{class n{constructor(t){this.cartServisas=t,this.maxUsedClasses=4,this.delayTime=500,this.availableClasses=["egg","egg1","egg2","egg3","egg4","egg5","egg6","egg7","egg8","egg9","egg10","egg11","round","round1","round2","round3","round4","round5","round6","round7","round8","round9","round10","round11","dashed","dashed1","dashed2","dashed3","dashed4","dashed5","dashed6","dashed7","dashed8","dashed9","dashed10","dashed11","snow","snow1","snow2","snow3","snow4","snow5","snow6","snow7","snow8","snow9","snow10","snow11","triangle","triangle1","triangle2","triangle3","triangle4","triangle5","triangle6","triangle7","triangle8","triangle9","triangle10","triangle11"],this.shuffledAvailableClasses=this.shuffleArray(this.availableClasses),this.allowAction=!0,this.openedCard={open:!1,id:-1,className:""},this.openedIndex=-1,this.start=!1,this.victory=!1,this.klases=!0}ngOnInit(){}starting(){this.start=!0,this.unshuffledCards=this.generateCards(),this.shuffledCards=this.shuffleArray(this.unshuffledCards)}restarting(){this.start=!1,this.victory=!1}usedClases(t){return this.maxUsedClasses<=2&&t<0?(alert("Ne ma\u017eiau nei 2"),void(this.maxUsedClasses=2)):this.maxUsedClasses>=this.availableClasses.length&&t>0?(alert("Ne daugiau nei "+this.availableClasses.length),void(this.maxUsedClasses=this.availableClasses.length)):void(this.maxUsedClasses+=t)}generateCards(){let t=Math.min(this.maxUsedClasses,this.shuffledAvailableClasses.length),r=[],a=0;for(let d=0;d<t;d++)for(let p=0;p<2;p++)r.push({open:!1,id:++a,className:this.shuffledAvailableClasses[d]});return r}flip(t){if(this.allowAction&&!this.shuffledCards[t].open){if(this.shuffledCards[t].open=!0,-1==this.openedCard.id)return this.openedCard.className=this.shuffledCards[t].className,this.openedCard.id=this.shuffledCards[t].id,this.openedCard.open=!0,void(this.openedIndex=t);if(this.openedCard.className==this.shuffledCards[t].className)return this.openedCard.id=-1,this.openedCard.className="",this.openedIndex=-1,void this.checkVictory();this.allowAction=!1;var r=this;setTimeout(function(){r.shuffledCards[t].open=!1,r.shuffledCards[r.openedIndex].open=!1,r.allowAction=!0,r.openedCard={open:!1,id:-1,className:""},r.openedIndex=-1},this.delayTime)}}shuffleArray(t){return t.map(r=>[Math.random(),r]).sort((r,a)=>r[0]-a[0]).map(r=>r[1])}checkVictory(){this.victory=!0;for(let t of this.shuffledCards)if(!t.open)return void(this.victory=!1)}getDiscount(){this.cartServisas.getDiscount(this.maxUsedClasses)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(am))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-memory-game"]],decls:5,vars:3,consts:[[1,"main"],["class","before",4,"ngIf"],[1,"before"],[1,"mygtukai"],[1,"didinamMazinam"],[1,"padidinti",3,"click"],[3,"click"],[1,"game"],["class","flexed",3,"ngStyle",4,"ngFor","ngForOf"],[1,"flexed",3,"ngStyle"],[3,"className","click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-left-category"),l.YNc(2,iN,14,2,"div",1),l.YNc(3,aN,5,1,"div",1),l.YNc(4,uN,5,1,"div",1),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",!r.start),l.xp6(1),l.Q6J("ngIf",r.start),l.xp6(1),l.Q6J("ngIf",r.victory))},directives:[Q_,qn,Fn,Gn],styles:[".before[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center}.before[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;max-width:200px;background-color:#b7d1d1;border-radius:20px;border:rgb(214,213,213) solid 2px;font-size:larger;margin:20px}.flexed[_ngcontent-%COMP%]{justify-content:center;align-self:center;align-items:center;display:flex}.before[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to left,rgb(77,188,207),aqua);transition:.5s;border:black solid 2px}.before[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:35px}.game[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:center;align-items:center}.full[_ngcontent-%COMP%]{height:60px;width:60px;background-color:gray;margin:10px}.egg[_ngcontent-%COMP%], .egg1[_ngcontent-%COMP%], .egg2[_ngcontent-%COMP%], .egg3[_ngcontent-%COMP%], .egg4[_ngcontent-%COMP%], .egg5[_ngcontent-%COMP%], .egg6[_ngcontent-%COMP%], .egg7[_ngcontent-%COMP%], .egg8[_ngcontent-%COMP%], .egg9[_ngcontent-%COMP%], .egg10[_ngcontent-%COMP%], .egg11[_ngcontent-%COMP%], .round[_ngcontent-%COMP%], .round1[_ngcontent-%COMP%], .round2[_ngcontent-%COMP%], .round3[_ngcontent-%COMP%], .round4[_ngcontent-%COMP%], .round5[_ngcontent-%COMP%], .round6[_ngcontent-%COMP%], .round7[_ngcontent-%COMP%], .round8[_ngcontent-%COMP%], .round9[_ngcontent-%COMP%], .round10[_ngcontent-%COMP%], .round11[_ngcontent-%COMP%]{height:60px;width:60px;margin:10px}.egg[_ngcontent-%COMP%], .egg1[_ngcontent-%COMP%], .egg2[_ngcontent-%COMP%], .egg3[_ngcontent-%COMP%], .egg4[_ngcontent-%COMP%], .egg5[_ngcontent-%COMP%], .egg6[_ngcontent-%COMP%], .egg7[_ngcontent-%COMP%], .egg8[_ngcontent-%COMP%], .egg9[_ngcontent-%COMP%], .egg10[_ngcontent-%COMP%], egg11[_ngcontent-%COMP%]{background-color:#8a2be2;border-radius:80% 15% 55% 50%/55% 15% 80% 50%;transform:rotate(-45deg)}.round[_ngcontent-%COMP%], .round1[_ngcontent-%COMP%], .round2[_ngcontent-%COMP%], .round3[_ngcontent-%COMP%], .round4[_ngcontent-%COMP%], .round5[_ngcontent-%COMP%], .round6[_ngcontent-%COMP%], .round7[_ngcontent-%COMP%], .round8[_ngcontent-%COMP%], .round9[_ngcontent-%COMP%], .round10[_ngcontent-%COMP%], .round11[_ngcontent-%COMP%]{background-color:#8a2be2;border-radius:100%}.dashed[_ngcontent-%COMP%], .dashed1[_ngcontent-%COMP%], .dashed2[_ngcontent-%COMP%], .dashed3[_ngcontent-%COMP%], .dashed4[_ngcontent-%COMP%], .dashed5[_ngcontent-%COMP%], .dashed6[_ngcontent-%COMP%], .dashed7[_ngcontent-%COMP%], .dashed8[_ngcontent-%COMP%], .dashed9[_ngcontent-%COMP%], .dashed10[_ngcontent-%COMP%], .dashed11[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#8a2be2;border:white dashed 10px;margin:10px}.snow[_ngcontent-%COMP%], .snow1[_ngcontent-%COMP%], .snow2[_ngcontent-%COMP%], .snow3[_ngcontent-%COMP%], .snow4[_ngcontent-%COMP%], .snow5[_ngcontent-%COMP%], .snow6[_ngcontent-%COMP%], .snow7[_ngcontent-%COMP%], .snow8[_ngcontent-%COMP%], .snow9[_ngcontent-%COMP%], .snow10[_ngcontent-%COMP%], .snow11[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#fff;border:dashed 10px rgb(18,18,216);margin:10px}.triangle[_ngcontent-%COMP%], .triangle1[_ngcontent-%COMP%], .triangle2[_ngcontent-%COMP%], .triangle3[_ngcontent-%COMP%], .triangle4[_ngcontent-%COMP%], .triangle5[_ngcontent-%COMP%], .triangle6[_ngcontent-%COMP%], .triangle7[_ngcontent-%COMP%], .triangle8[_ngcontent-%COMP%], .triangle9[_ngcontent-%COMP%], .triangle10[_ngcontent-%COMP%], .triangle11[_ngcontent-%COMP%]{width:0px;height:0px;border-left:30px solid transparent;border-right:30px solid transparent;border-top:60px solid red;margin:10px}.egg[_ngcontent-%COMP%], .round[_ngcontent-%COMP%], .dashed[_ngcontent-%COMP%]{background-color:#0ff}.egg1[_ngcontent-%COMP%], .round1[_ngcontent-%COMP%], .dashed1[_ngcontent-%COMP%]{background-color:#ff0015}.egg2[_ngcontent-%COMP%], .round2[_ngcontent-%COMP%], .dashed2[_ngcontent-%COMP%]{background-color:#2124ca}.egg3[_ngcontent-%COMP%], .round3[_ngcontent-%COMP%], .dashed3[_ngcontent-%COMP%]{background-color:#24ca64}.egg4[_ngcontent-%COMP%], .round4[_ngcontent-%COMP%], .dashed4[_ngcontent-%COMP%]{background-color:brown}.egg5[_ngcontent-%COMP%], .round5[_ngcontent-%COMP%], .dashed5[_ngcontent-%COMP%]{background-color:#fbff00ee}.egg6[_ngcontent-%COMP%], .round6[_ngcontent-%COMP%], .dashed6[_ngcontent-%COMP%]{background-color:#ff00bf}.egg7[_ngcontent-%COMP%], .round7[_ngcontent-%COMP%], .dashed7[_ngcontent-%COMP%]{background-color:#00ff55a8}.egg8[_ngcontent-%COMP%], .round8[_ngcontent-%COMP%], .dashed8[_ngcontent-%COMP%]{background-color:#0c0c0c}.egg9[_ngcontent-%COMP%], .round9[_ngcontent-%COMP%], .dashed9[_ngcontent-%COMP%]{background-color:#c7a020}.egg10[_ngcontent-%COMP%], .round10[_ngcontent-%COMP%], .dashed10[_ngcontent-%COMP%]{background-color:#540da588}.egg11[_ngcontent-%COMP%], .round11[_ngcontent-%COMP%], .dashed11[_ngcontent-%COMP%]{background-color:#668009}.snow[_ngcontent-%COMP%]{border-color:#0ff}.snow1[_ngcontent-%COMP%]{border-color:#ff0015}.snow2[_ngcontent-%COMP%]{border-color:#2124ca}.snow3[_ngcontent-%COMP%]{border-color:#24ca64}.snow4[_ngcontent-%COMP%]{border-color:brown}.snow5[_ngcontent-%COMP%]{border-color:#fbff00ee}.snow6[_ngcontent-%COMP%]{border-color:#ff00bf}.snow7[_ngcontent-%COMP%]{border-color:#00ff55a8}.snow8[_ngcontent-%COMP%]{border-color:#0c0c0c}.snow9[_ngcontent-%COMP%]{border-color:#c7a020}.snow10[_ngcontent-%COMP%]{border-color:#540da588}.snow11[_ngcontent-%COMP%]{border-color:#668009}.triangle[_ngcontent-%COMP%]{border-top-color:#7fffd4}.triangle1[_ngcontent-%COMP%]{border-top-color:#ff0015}.triangle2[_ngcontent-%COMP%]{border-top-color:#2124ca}.triangle3[_ngcontent-%COMP%]{border-top-color:#24ca64}.triangle4[_ngcontent-%COMP%]{border-top-color:brown}.triangle5[_ngcontent-%COMP%]{border-top-color:#fbff00ee}.triangle6[_ngcontent-%COMP%]{border-top-color:#ff00bf}.triangle7[_ngcontent-%COMP%]{border-top-color:#00ff55a8}.triangle8[_ngcontent-%COMP%]{border-top-color:#0c0c0c}.triangle9[_ngcontent-%COMP%]{border-top-color:#c7a020}.triangle10[_ngcontent-%COMP%]{border-top-color:#540da588}.triangle11[_ngcontent-%COMP%]{border-top-color:#668009}"]}),n})(),jk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-klaida404"]],decls:8,vars:0,consts:[[1,"apvadas"],["src","/assets/404.png","alt","klaida 404",1,"paveiksliukas"],[1,"irasas"],[1,"mygtukas"],["routerLink","",1,"mygtukasStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2),l.TgZ(3,"p"),l._uU(4,"Ups, ka\u017ekas atsitiko, puslapis nerastas. Nesijaudinkite, m\u016bs\u0173 auk\u0161tos kvalifikacijos bezd\u017eion\u0117li\u0173 komanda i\u0161si\u0173sta taisyti klaidos."),l.qZA(),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"button",4),l._uU(7,"\u012e pagrindin\u012f"),l.qZA(),l.qZA())},directives:[Y_],styles:[".apvadas[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:3}.irasas[_ngcontent-%COMP%]{font-size:18px;padding:15px}.paveiksliukas[_ngcontent-%COMP%]{height:480px;width:640px}.mygtukas[_ngcontent-%COMP%]{display:flex;justify-content:center}.mygtukasStyle[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:12px}.mygtukasStyle[_ngcontent-%COMP%]:hover{background-color:#0e8bff;color:#fff}"]}),n})();function cN(n,e){1&n&&l._UZ(0,"img",5)}function dN(n,e){1&n&&l._UZ(0,"img",6)}function hN(n,e){if(1&n&&(l.TgZ(0,"div",7),l._UZ(1,"img",8),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.name,l.LSH)}}let Bk=(()=>{class n{constructor(){this.images=[],this.images=[{name:"assets/pic1.jpg"},{name:"assets/pic2.jpg"},{name:"assets/pic3.jpg"},{name:"assets/pic4.jpg"},{name:"assets/pic5.jpg"},{name:"assets/pic6.jpg"},{name:"assets/pic7.jpg"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-karusele"]],decls:8,vars:5,consts:[[2,"margin","40px","margin-left","350px"],["ng2-carouselamos","",1,"slides-wrapper",3,"items","width","$prev","$next","$item"],["prev",""],["next",""],["item",""],["src","assets/prev.png","id","left",2,"width","30px"],["src","assets/next.png","id","right",2,"width","40px"],[1,"slide-items"],[1,"nuotrauka",3,"src"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,cN,1,0,"ng-template",null,2,l.W1O),l.YNc(4,dN,1,0,"ng-template",null,3,l.W1O),l.YNc(6,hN,2,1,"ng-template",null,4,l.W1O),l.qZA(),l.qZA()),2&t){const a=l.MAs(3),d=l.MAs(5),p=l.MAs(7);l.xp6(1),l.Q6J("items",r.images)("width",800)("$prev",a)("$next",d)("$item",p)}},directives:[tA],styles:["#container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:240;background:#fff}.slide-items[_ngcontent-%COMP%]{width:480px;height:240px;background:#ECECEC}.slides-wrapper[_ngcontent-%COMP%]{width:240px;height:240px;margin:auto;padding:0}.nuotrauka[_ngcontent-%COMP%]{height:240px;width:240px}"]}),n})();function fN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",4),l.NdJ("keydown.a",function(){return l.CHM(t),l.oxw().funkcija()}),l.qZA(),l.qZA()}if(2&n){const t=e.index,r=l.oxw();l.xp6(1),l.Q6J("className",r.labirinth[t])}}const pN=function(){return{"grid-template-columns":"auto auto auto"}};var um=(()=>(function(n){n[n.RIGHT_ARROW=100]="RIGHT_ARROW",n[n.LEFT_ARROW=97]="LEFT_ARROW",n[n.UP_ARROW=119]="UP_ARROW",n[n.DOWN_ARROW=115]="DOWN_ARROW"}(um||(um={})),um))();let gN=(()=>{class n{constructor(){this.labirinth=["start","wall","wall","wall","path","path","wall","wall","path","path","path","wall","path","path","end","path","path","path","wall","path","wall","wall","wall","wall","path"],this.columnNumber=5,this.currentPosition=0}keyEvent(t){t.keyCode==um.DOWN_ARROW&&this.moveDown(this.currentPosition),t.keyCode==um.LEFT_ARROW&&this.moveLeft(this.currentPosition),t.keyCode==um.RIGHT_ARROW&&this.moveRight(this.currentPosition),t.keyCode==um.UP_ARROW&&this.moveUP(this.currentPosition)}ngOnInit(){}funkcija(){console.log(!0)}allowMoveUp(t){return!(t-this.columnNumber<=0||"wall"==this.labirinth[t-this.columnNumber])}allowMoveDown(t){return!(t+this.columnNumber>=this.labirinth.length||"wall"==this.labirinth[t+this.columnNumber])}allowMoveRight(t){return!((t+1)%this.columnNumber==0||"wall"==this.labirinth[t+1])}allowMoveLeft(t){return!(t%this.columnNumber==0||"wall"==this.labirinth[t-1])}moveUP(t){if(this.allowMoveUp(t)){if(this.labirinth[t]="path",this.currentPosition=t-this.columnNumber,this.checkWin(this.currentPosition))return void alert("win");this.labirinth[t-this.columnNumber]="start"}else alert("klaidingas ejimas i virsu")}moveDown(t){if(this.allowMoveDown(t)){if(this.labirinth[t]="path",this.currentPosition=t+this.columnNumber,this.checkWin(this.currentPosition))return void alert("win");this.labirinth[t+this.columnNumber]="start"}else alert("klaidingas ejimas i apacia")}moveLeft(t){if(this.allowMoveLeft(t)){if(this.labirinth[t]="path",this.currentPosition=t-1,this.checkWin(this.currentPosition))return void alert("win");this.labirinth[t-1]="start"}else alert("klaidingas ejimas i kaire")}moveRight(t){if(this.allowMoveRight(t)){if(this.labirinth[t]="path",this.currentPosition=t+1,this.checkWin(this.currentPosition))return void alert("win");this.labirinth[t+1]="start"}else alert("klaidingas ejimas i desine")}checkWin(t){return"end"==this.labirinth[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-labirintas"]],hostBindings:function(t,r){1&t&&l.NdJ("keypress",function(d){return r.keyEvent(d)},!1,l.evT)},decls:7,vars:3,consts:[[1,"main"],[1,"container",3,"ngStyle"],[1,"grid"],[4,"ngFor","ngForOf"],[3,"className","keydown.a"]],template:function(t,r){1&t&&(l._UZ(0,"app-left-category"),l.TgZ(1,"h1"),l._uU(2,"Valdymas su w-up, a-left, s-down, d-right"),l.qZA(),l.TgZ(3,"div",0),l.TgZ(4,"div",1),l.TgZ(5,"div",2),l.YNc(6,fN,2,1,"div",3),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(4),l.Q6J("ngStyle",l.DdM(2,pN)),l.xp6(2),l.Q6J("ngForOf",r.labirinth))},directives:[Q_,Gn,Fn],styles:[".container[_ngcontent-%COMP%]{width:800px;margin:0 auto;background-color:#f0f}@media (max-width: 1250px){.container[_ngcontent-%COMP%]{width:600px}}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);padding:10px}.item[_ngcontent-%COMP%]{width:calc(100% - 10px);padding-top:calc(100% - 10px);background-color:#0ff;margin:5px}.start[_ngcontent-%COMP%]{width:calc(100% - 10px);padding-top:calc(100% - 10px);background-color:#ff0;margin:5px;animation:blinker 2s linear infinite}.path[_ngcontent-%COMP%]{width:calc(100% - 10px);padding-top:calc(100% - 10px);background-color:#ff0;margin:5px}.wall[_ngcontent-%COMP%]{width:calc(100% - 10px);padding-top:calc(100% - 10px);background-color:#000;margin:5px}.end[_ngcontent-%COMP%]{width:calc(100% - 10px);padding-top:calc(100% - 10px);background-color:#00f;margin:5px}@keyframes blinker{50%{opacity:.5}}"]}),n})();function mN(n,e){if(1&n&&(l.TgZ(0,"tbody"),l.TgZ(1,"td"),l._UZ(2,"img",8),l.qZA(),l.TgZ(3,"td",9),l._uU(4),l.qZA(),l.TgZ(5,"td",10),l._uU(6),l.qZA(),l.TgZ(7,"td",10),l._uU(8),l.qZA(),l.TgZ(9,"td"),l.TgZ(10,"button",5),l._uU(11,"Pasalinti"),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.image,l.LSH),l.xp6(2),l.Oqu(t.title),l.xp6(2),l.Oqu(t.price),l.xp6(2),l.Oqu(t.quantity)}}function yN(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"div",1),l.TgZ(2,"table",2),l.TgZ(3,"thead"),l.TgZ(4,"h2"),l._uU(5,"KREP\u0160ELIS"),l.qZA(),l.TgZ(6,"tr"),l.TgZ(7,"th"),l._uU(8,"Nuotrauka"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Pavadinimas"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"Kaina"),l.qZA(),l.TgZ(13,"th"),l._uU(14,"Kiekis"),l.qZA(),l.TgZ(15,"th"),l._uU(16,"Pasalinti"),l.qZA(),l.qZA(),l.qZA(),l.YNc(17,mN,12,4,"tbody",3),l.TgZ(18,"tr"),l._UZ(19,"td",4),l.TgZ(20,"td"),l.TgZ(21,"button",5),l._uU(22,"Panaikinti krepseli"),l.qZA(),l.qZA(),l.TgZ(23,"td"),l.TgZ(24,"button",6),l._uU(25,"Testi apsipirkima"),l.qZA(),l.qZA(),l.TgZ(26,"td"),l.TgZ(27,"button",7),l._uU(28,"Apmokejimas"),l.qZA(),l.qZA(),l.TgZ(29,"td"),l.TgZ(30,"strong"),l._uU(31,"Suma : \u20ac"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&n){const t=l.oxw();l.xp6(17),l.Q6J("ngForOf",t.items)}}function _N(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",11),l.TgZ(2,"div",12),l.TgZ(3,"h2",13),l._uU(4,"KREP\u0160ELIS"),l.qZA(),l.qZA(),l.TgZ(5,"div",14),l._UZ(6,"img",15),l.TgZ(7,"h4"),l._uU(8,"Jusu krepselis tuscias"),l.qZA(),l.TgZ(9,"button",16),l._uU(10,"Prideti produkta"),l.qZA(),l.qZA(),l.qZA(),l.BQk())}let vN=(()=>{class n{constructor(t){this.cartService=t,this.items=this.cartService.getItems()}ngOnInit(){}suma(t){this.cartService.getItemPrices()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(am))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cart"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card-table"],[1,"table","table-stripped"],[4,"ngFor","ngForOf"],["colspan","4"],[1,"btn","btn-danger"],["routerLink","",1,"btn","btn-danger"],["routerLink","/login",1,"btn","btn-danger"],["alt","",2,"width","120px",3,"src"],[2,"width","25%"],[2,"width","12%"],[1,"container"],[1,"card"],[1,"card-title"],[1,"center"],["src","https://tiendaramo.com/vistas/imagenes/empty-cart.png","alt",""],["routerLink","","mat-flat-button",""]],template:function(t,r){1&t&&(l.YNc(0,yN,32,1,"ng-container",0),l.YNc(1,_N,11,0,"ng-container",0)),2&t&&(l.Q6J("ngIf",0!=r.items.length),l.xp6(1),l.Q6J("ngIf",0==r.items.length))},directives:[qn,Fn,Y_],styles:[".card[_ngcontent-%COMP%]{height:60vh;margin:25px;padding:25px}.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border:none;outline:none;height:162px;width:250px;margin:20px,0px}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}"]}),n})();function bN(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.title,"\n")}}let CN=(()=>{class n{constructor(t){this.service=t,this.lyginamosPrekes=[],this.lyginamosPrekes=this.service.gautiPalyginimoMasyva()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(am))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-palyginimas"]],decls:7,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"J\u016bs\u0173 pasirinkt\u0173 preki\u0173 palyginimas"),l.qZA(),l._UZ(2,"br"),l._UZ(3,"br"),l.YNc(4,bN,2,1,"div",0),l._UZ(5,"br"),l._UZ(6,"br")),2&t&&(l.xp6(4),l.Q6J("ngForOf",r.lyginamosPrekes))},directives:[Fn],styles:[""]}),n})();const Vx=(0,ft.U)(n=>!!n);let Zk=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(a,d)=>{const p=a.data.authGuardPipe||(()=>Vx);return this.auth.user.pipe(b_(1),p(a,d),(0,ft.U)(_=>"boolean"==typeof _?_:Array.isArray(_)?this.router.createUrlTree(_):this.router.parseUrl(_)))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi),l.LFG(em))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const EN=[{path:"",component:WD},{path:"pagrindinis",component:OO},{path:"kontaktai",component:DO},{path:"adding",component:(()=>{class n{constructor(t,r){this.firestore=t,this.formBuilder=r,this.productAddForm=this.formBuilder.group({id:0,title:"",price:0,description:"",image:"",categories:[],rating:this.formBuilder.group({rate:0,count:0}),quantity:0}),this.naujas=[],t.collection("Produktai").valueChanges().subscribe(a=>this.naujas=a)}ngOnInit(){}onsubmit(t){console.log(this.productAddForm.value),t.value.categories=t.value.categories.split(","),console.log(t.value),console.log("pridejom i firebase"+t.value),this.productAddForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xf),l.Y36(wh))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-produkto-pridejimas"]],decls:57,vars:9,consts:[[1,"main"],[1,"form"],[3,"formGroup","ngSubmit"],["for","id"],["type","number","id","id","formControlName","id"],["for","title"],["type","text","id","title","formControlName","title"],["for","price"],["type","number","id","price","formControlName","price"],["for","description"],["type","text","id","description","formControlName","description"],["for","image"],["type","text","id","image","formControlName","image"],["for","categories"],["type","text","id","categories","formControlName","categories"],["formGroupName","rating"],["for","rating"],["for","ratingRate"],["type","number","id","ratingRate","formControlName","rate"],["for","ratingCount"],["type","number","id","ratingCount","formControlName","count"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["type","submit "],[1,"preview"],["alt","Prekes nnuotrauka ",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"form",2),l.NdJ("ngSubmit",function(){return r.onsubmit(r.productAddForm)}),l.TgZ(3,"div"),l.TgZ(4,"label",3),l._uU(5,"Produkto ID"),l.qZA(),l._UZ(6,"input",4),l.qZA(),l.TgZ(7,"div"),l.TgZ(8,"label",5),l._uU(9,"Produkto pavadinimas"),l.qZA(),l._UZ(10,"input",6),l.qZA(),l.TgZ(11,"div"),l.TgZ(12,"label",7),l._uU(13,"Produkto kaina"),l.qZA(),l._UZ(14,"input",8),l.qZA(),l.TgZ(15,"div"),l.TgZ(16,"label",9),l._uU(17,"Aprasymas"),l.qZA(),l._UZ(18,"input",10),l.qZA(),l.TgZ(19,"div"),l.TgZ(20,"label",11),l._uU(21,"Paveikslelio nuoroda"),l.qZA(),l._UZ(22,"input",12),l.qZA(),l.TgZ(23,"div"),l.TgZ(24,"label",13),l._uU(25,"Kategorij\u0173 IDs (SKIRTI PER KABLEL\u012e!!!)"),l.qZA(),l._UZ(26,"input",14),l.qZA(),l.TgZ(27,"div",15),l.TgZ(28,"label",16),l._uU(29,"Reitingas"),l.qZA(),l.TgZ(30,"label",17),l._uU(31,"reitingas(skaicius)"),l.qZA(),l._UZ(32,"input",18),l.TgZ(33,"label",19),l._uU(34,"reitingas balsavo tiek zmoniu"),l.qZA(),l._UZ(35,"input",20),l.qZA(),l.TgZ(36,"div"),l.TgZ(37,"label",21),l._uU(38,"Produktu kiekis"),l.qZA(),l._UZ(39,"input",22),l.qZA(),l.TgZ(40,"div"),l.TgZ(41,"button",23),l._uU(42,"submit"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(43,"div",24),l.TgZ(44,"h1"),l._uU(45),l.qZA(),l._UZ(46,"img",25),l.TgZ(47,"p"),l._uU(48),l.qZA(),l.TgZ(49,"p"),l._uU(50),l.qZA(),l.TgZ(51,"p"),l._uU(52),l.qZA(),l.TgZ(53,"p"),l._uU(54),l.qZA(),l.TgZ(55,"p"),l._uU(56),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Q6J("formGroup",r.productAddForm),l.xp6(43),l.Oqu(r.productAddForm.value.title),l.xp6(1),l.Q6J("src",r.productAddForm.value.image,l.LSH),l.xp6(2),l.Oqu(r.productAddForm.value.description),l.xp6(2),l.hij("Priskirtos kategorijos: ",r.productAddForm.value.categories," "),l.xp6(2),l.hij("",r.productAddForm.value.price," \u20ac"),l.xp6(2),l.AsE("Reitingas: ",r.productAddForm.value.rating.rate," ir balsavusiu kiekis: ",r.productAddForm.value.rating.count,""),l.xp6(2),l.hij("Likutis sandelyje: ",r.productAddForm.value.quantity,""))},directives:[mm,Tr,Eo,_h,Ei,Ir,Za,ep],styles:[".main[_ngcontent-%COMP%]{display:flex;height:max-content}.form[_ngcontent-%COMP%]{flex:1}.form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:larger}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid gray;padding:3px;margin:5px}.form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;align-self:center;text-transform:capitalize}.preview[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px}.preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:xx-large}.preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:larger}"]}),n})(),canActivate:[Zk]},{path:"memory",component:lN},{path:"labirintas",component:gN},{path:"kategorija",component:WD},{path:"kategorija/:idCategory",component:WD},{path:"produktas/:idProduct",component:Uk},{path:"karusele",component:Bk},{path:"registracija",component:zO},{path:"login",component:NO},{path:"pass-recover",component:RO},{path:"klaida404",component:jk},{path:"left",component:Q_},{path:"cart",component:vN},{path:"palyginimas",component:CN},{path:"**",redirectTo:"/klaida404"}];let IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ok.forRoot(EN)],Ok]}),n})();const TN=function(n){return{"show-scrollTop":n}};let DN=(()=>{class n{constructor(t){this.document=t}onWindowScroll(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>100?this.windowScrolled=!0:(this.windowScrolled&&window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop<10)&&(this.windowScrolled=!1)}scrollToTop(){!function t(){var r=document.documentElement.scrollTop||document.body.scrollTop;r>0&&(window.requestAnimationFrame(t),window.scrollTo(0,r-r/8))}()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ce))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-to-top"]],hostBindings:function(t,r){1&t&&l.NdJ("scroll",function(){return r.onWindowScroll()},!1,l.Jf7)},decls:3,vars:3,consts:[[1,"scroll-to-top",3,"ngClass"],[1,"mygtukas",3,"click"],["src","\\assets\\Arrow_top_svg.svg.png","alt",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"button",1),l.NdJ("click",function(){return r.scrollToTop()}),l._UZ(2,"img",2),l.qZA(),l.qZA()),2&t&&l.Q6J("ngClass",l.VKq(1,TN,r.windowScrolled))},directives:[jo],styles:[".scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;opacity:0;transition:all .2s ease-in-out}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}.mygtukas[_ngcontent-%COMP%]{border-radius:50px;height:50px;width:50px;border-style:none;background-color:#3aaa067a}.mygtukas[_ngcontent-%COMP%]:hover{background-color:gray;cursor:pointer}"]}),n})(),AN=(()=>{class n{constructor(){this.scroll=()=>{let t=document.getElementById("header");window.pageYOffset>Number(null==t?void 0:t.offsetHeight)?null==t||t.classList.add("sticky"):null==t||t.classList.remove("sticky")}}ngOnInit(){window.addEventListener("scroll",this.scroll,!0)}ngOnDestroy(){window.removeEventListener("scroll",this.scroll,!0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-baneris"]],decls:3,vars:0,consts:[[1,"baneris"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"span"),l._uU(2," \u010cia gali b\u016bti J\u016bs\u0173 reklama "),l.qZA(),l.qZA())},styles:[".baneris[_ngcontent-%COMP%]{background-color:#f4f4ea;align-items:center;text-align:center;height:400px;width:240px;margin-top:20px;position:relative}.baneris[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(90deg);font-size:35px;border:10px solid aqua;animation:infinite 4s blinkeriukas;transition:.2s}@keyframes blinkeriukas{0%{background-color:bisque;border-color:azure}33%{background-color:#ee8e19;border-color:beige}66%{background-image:radial-gradient(rgb(238,142,25),bisque);border-color:#ee8e19}to{background-image:radial-gradient(bisque,rgb(238,142,25));border-color:#ffebcd}}"]}),n})();function SN(n,e){if(1&n&&(l.TgZ(0,"div",4),l.TgZ(1,"p"),l._uU(2,"Telefonas: \xa0"),l.TgZ(3,"a",5),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"p"),l._uU(6,"E-mail'as: \xa0 "),l.TgZ(7,"a",6),l._uU(8),l.qZA(),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"p"),l._uU(12),l.qZA(),l.TgZ(13,"p"),l._uU(14),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t.telefonas),l.xp6(4),l.Oqu(t.email),l.xp6(2),l.hij(" Adresas: \xa0",t.adresas,""),l.xp6(2),l.hij(" Miestas: \xa0",t.miestas,""),l.xp6(2),l.hij(" Darbo laikas: \xa0",t.darbolaikas,"")}}let xN=(()=>{class n{constructor(t){this.firestore=t,this.firestore.collection("Kontaktai").valueChanges().subscribe(r=>this.kontaktai=r)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:4,vars:1,consts:[["id","footer"],["id","footer-logo"],["src","\\assets\\Puokste_originalus-copy.png","alt","logo",2,"width","80%"],["id","kontaktai",4,"ngFor","ngForOf"],["id","kontaktai"],["href","tel:+370612123456"],["href","mailto:puokste@puokste.ly?subject=Paklausimas del geliu"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.YNc(3,SN,15,5,"div",3),l.qZA()),2&t&&(l.xp6(3),l.Q6J("ngForOf",r.kontaktai))},directives:[Fn],styles:['#footer[_ngcontent-%COMP%]{height:35vh;display:flex;align-items:center;justify-content:space-between;text-decoration:none;width:500px}#listItem[_ngcontent-%COMP%]{list-style-type:none;min-width:600px}#kontaktai1[_ngcontent-%COMP%]{display:flex;margin-top:-100px}#footer-logo[_ngcontent-%COMP%]{display:flex;margin-top:-110px}#kontaktai[_ngcontent-%COMP%]{width:300px;position:relative;top:-60px}#kontaktai[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:center;font-family:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif}']}),n})();function MN(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-meniu"),l.TgZ(2,"main"),l.TgZ(3,"div",1),l.TgZ(4,"div",2),l._UZ(5,"router-outlet"),l.qZA(),l.TgZ(6,"div",3),l._UZ(7,"app-baneris"),l.qZA(),l.qZA(),l.TgZ(8,"footer"),l._UZ(9,"app-footer"),l.qZA(),l.qZA(),l.qZA())}function kN(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-klaida404"),l.qZA())}let PN=(()=>{class n{constructor(t,r,a){this.servisas=t,this.route=r,this.router=a,this.title="eshop",this.klaida404=!1,this.check=location.pathname.includes("kategorija"),this.isfunk=this.servisas.getLocation(),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},a.events.subscribe(d=>{d instanceof kf&&(this.klaida404="/klaida404"==d.url||"/klaida404"==d.urlAfterRedirects)})}gautiduomenis(t){console.log("gavom duomenis"),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lx),l.Y36(Vo),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["id","landing"],["id","main-column"],["id","right-column"]],template:function(t,r){1&t&&(l.YNc(0,MN,10,0,"div",0),l.YNc(1,kN,2,0,"div",0),l._UZ(2,"app-to-top")),2&t&&(l.Q6J("ngIf",!r.klaida404),l.xp6(1),l.Q6J("ngIf",r.klaida404))},directives:[qn,DN,Fk,Px,AN,xN,jk],styles:['@import"https://fonts.googleapis.com/css2?family=Noto+Serif:ital@1&display=swap";*[_ngcontent-%COMP%]{margin:0;text-decoration:none}main[_ngcontent-%COMP%]{max-width:1600px;margin:auto;box-shadow:30px 0 40px #0000001a,-30px 0 40px #0000001a;display:block;overflow:hidden;position:inherit;left:10%;top:21%;z-index:-1;border-radius:1%}#main-column[_ngcontent-%COMP%]{display:inline-block;width:85%}#right-column[_ngcontent-%COMP%]{float:right;width:15%}footer[_ngcontent-%COMP%]{text-align:center;height:20vh;display:flex;background-color:#f4f4ea;justify-content:space-around}']}),n})();const Hk_firebaseConfig={apiKey:"AIzaSyCOlXwmTITRGC4WzB8dVQxYT-spsYsuAKY",authDomain:"jpbit-2.firebaseapp.com",databaseURL:"https://jpbit-2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"jpbit-2",storageBucket:"jpbit-2.appspot.com",messagingSenderId:"583781389612",appId:"1:583781389612:web:ca075bba1f74b0767c4889"};let ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[PN]}),n.\u0275inj=l.cJS({providers:[],imports:[[wu,IN,cp,dw,cp,Gc,Mh,nA,Do.hO.initializeApp(Hk_firebaseConfig),TD,YM]]}),n})();l.B6R(WD,[Q_,Bk,np,ip,Fn,Y_,sm,kx,qn],[Go,Rs]),l.B6R(Uk,[Q_,qn],[]),(0,l.G48)(),Dc().bootstrapModule(ON).catch(n=>console.error(n))},4762:(Xe,Se,V)=>{"use strict";function ce(re,ue){var ge={};for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&ue.indexOf(le)<0&&(ge[le]=re[le]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(le=Object.getOwnPropertySymbols(re);Le<le.length;Le++)ue.indexOf(le[Le])<0&&Object.prototype.propertyIsEnumerable.call(re,le[Le])&&(ge[le[Le]]=re[le[Le]])}return ge}function fe(re,ue,ge,le){return new(ge||(ge=Promise))(function(_e,at){function Gt(Jt){try{Et(le.next(Jt))}catch(Hn){at(Hn)}}function Zn(Jt){try{Et(le.throw(Jt))}catch(Hn){at(Hn)}}function Et(Jt){Jt.done?_e(Jt.value):function(_e){return _e instanceof ge?_e:new ge(function(at){at(_e)})}(Jt.value).then(Gt,Zn)}Et((le=le.apply(re,ue||[])).next())})}function K(re,ue){var le,Le,_e,at,ge={label:0,sent:function(){if(1&_e[0])throw _e[1];return _e[1]},trys:[],ops:[]};return at={next:Gt(0),throw:Gt(1),return:Gt(2)},"function"==typeof Symbol&&(at[Symbol.iterator]=function(){return this}),at;function Gt(Et){return function(Jt){return function(Et){if(le)throw new TypeError("Generator is already executing.");for(;ge;)try{if(le=1,Le&&(_e=2&Et[0]?Le.return:Et[0]?Le.throw||((_e=Le.return)&&_e.call(Le),0):Le.next)&&!(_e=_e.call(Le,Et[1])).done)return _e;switch(Le=0,_e&&(Et=[2&Et[0],_e.value]),Et[0]){case 0:case 1:_e=Et;break;case 4:return ge.label++,{value:Et[1],done:!1};case 5:ge.label++,Le=Et[1],Et=[0];continue;case 7:Et=ge.ops.pop(),ge.trys.pop();continue;default:if(!(_e=(_e=ge.trys).length>0&&_e[_e.length-1])&&(6===Et[0]||2===Et[0])){ge=0;continue}if(3===Et[0]&&(!_e||Et[1]>_e[0]&&Et[1]<_e[3])){ge.label=Et[1];break}if(6===Et[0]&&ge.label<_e[1]){ge.label=_e[1],_e=Et;break}if(_e&&ge.label<_e[2]){ge.label=_e[2],ge.ops.push(Et);break}_e[2]&&ge.ops.pop(),ge.trys.pop();continue}Et=ue.call(re,ge)}catch(Jt){Et=[6,Jt],Le=0}finally{le=_e=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,Jt])}}}function ee(re){var ue="function"==typeof Symbol&&Symbol.iterator,ge=ue&&re[ue],le=0;if(ge)return ge.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&le>=re.length&&(re=void 0),{value:re&&re[le++],done:!re}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(re,ue){var ge="function"==typeof Symbol&&re[Symbol.iterator];if(!ge)return re;var Le,at,le=ge.call(re),_e=[];try{for(;(void 0===ue||ue-- >0)&&!(Le=le.next()).done;)_e.push(Le.value)}catch(Gt){at={error:Gt}}finally{try{Le&&!Le.done&&(ge=le.return)&&ge.call(le)}finally{if(at)throw at.error}}return _e}function pe(re,ue,ge){if(ge||2===arguments.length)for(var _e,le=0,Le=ue.length;le<Le;le++)(_e||!(le in ue))&&(_e||(_e=Array.prototype.slice.call(ue,0,le)),_e[le]=ue[le]);return re.concat(_e||Array.prototype.slice.call(ue))}V.d(Se,{_T:()=>ce,mG:()=>fe,Jh:()=>K,XA:()=>ee,CR:()=>Y,ev:()=>pe})},8239:(Xe,Se,V)=>{"use strict";function l(F,ce,se,oe,Ce,fe,K){try{var R=F[fe](K),L=R.value}catch(ee){return void se(ee)}R.done?ce(L):Promise.resolve(L).then(oe,Ce)}function te(F){return function(){var ce=this,se=arguments;return new Promise(function(oe,Ce){var fe=F.apply(ce,se);function K(L){l(fe,oe,Ce,K,R,"next",L)}function R(L){l(fe,oe,Ce,K,R,"throw",L)}K(void 0)})}}V.d(Se,{Z:()=>te})}},Xe=>{Xe(Xe.s=2366)}]);